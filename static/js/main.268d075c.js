/*! For license information please see main.268d075c.js.LICENSE.txt */
(()=>{var e={3361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function _(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function S(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function C(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function k(){return u(w,y)}function I(){return y}function T(e,t){return d(w,e,t)}function E(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return m=g=1,v=h(w=e),y=0,[]}function P(e){return w="",e}function O(e){return a(T(y-1,M(91===e?e+2:40===e?e+1:e)))}function A(e){for(;(b=k())&&b<33;)C();return E(e)>2||E(b)>3?"":" "}function N(e,t){for(;--t&&C()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,I()+(t<6&&32==k()&&32==C()))}function M(e){for(;C();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&M(b);break;case 40:41===e&&M(e);break;case 92:C()}return y}function D(e,t){for(;C()&&e+b!==57&&(e+b!==84||47!==k()););return"/*"+T(t,y-1)+"*"+o(47===e?e:C())}function L(e){for(;!E(k());)C();return T(e,y)}var z="-ms-",j="-moz-",F="-webkit-",U="comm",Z="rule",B="decl",V="@keyframes";function W(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case U:return"";case V:return e.return=e.value+"{"+W(e.children,r)+"}";case Z:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function q(e){return P(G("",null,null,null,[""],e=R(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,f){for(var m=0,g=0,v=a,y=0,b=0,w=0,_=1,S=1,T=1,E=0,R="",P=i,M=s,z=r,j=R;S;)switch(w=E,E=C()){case 40:if(108!=w&&58==u(j,v-1)){-1!=c(j+=l(O(E),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:j+=O(E);break;case 9:case 10:case 13:case 32:j+=A(w);break;case 92:j+=N(I()-1,7);continue;case 47:switch(k()){case 42:case 47:p(Q(D(C(),I()),t,n),f);break;default:j+="/"}break;case 123*_:d[m++]=h(j)*T;case 125*_:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+g:-1==T&&(j=l(j,/\f/g,"")),b>0&&h(j)-v&&p(b>32?X(j+";",r,n,v-1):X(l(j," ","")+";",r,n,v-2),f);break;case 59:j+=";";default:if(p(z=K(j,t,n,m,g,i,d,R,P=[],M=[],v),s),123===E)if(0===g)G(j,t,z,z,P,s,v,d,M);else switch(99===y&&110===u(j,3)?100:y){case 100:case 108:case 109:case 115:G(e,z,z,r&&p(K(e,z,z,0,0,i,d,R,i,P=[],v),M),i,M,v,d,r?P:M);break;default:G(j,z,z,z,[""],M,0,d,M)}}m=g=b=0,_=T=1,R=j="",v=a;break;case 58:v=1+h(j),b=w;default:if(_<1)if(123==E)--_;else if(125==E&&0==_++&&125==x())continue;switch(j+=o(E),E*_){case 38:T=g>0?1:(j+="\f",-1);break;case 44:d[m++]=(h(j)-1)*T,T=1;break;case 64:45===k()&&(j+=O(C())),y=k(),g=v=h(R=j+=L(I())),E++;break;case 45:45===w&&2==h(j)&&(_=0)}}return s}function K(e,t,n,r,o,s,c,u,h,p,m){for(var g=o-1,v=0===o?s:[""],y=f(v),b=0,w=0,S=0;b<r;++b)for(var x=0,C=d(e,g+1,g=i(w=c[b])),k=e;x<y;++x)(k=a(w>0?v[x]+" "+C:l(C,/&\f/g,v[x])))&&(h[S++]=k);return _(e,t,n,0===o?Z:u,h,p,m)}function Q(e,t,n){return _(e,t,n,U,o(b),d(e,2,-2),0)}function X(e,t,n,r){return _(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(t[n]=1),!E(i);)C();return T(e,y)},J=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(E(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=O(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=C());return e}(R(e),t))},$=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$.get(n))&&!r){$.set(e,!0);for(var i=[],o=J(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+j+e+z+e+e;case 6828:case 4268:return F+e+z+e+e;case 6165:return F+e+z+"flex-"+e+e;case 5187:return F+e+l(e,/(\w+).+(:[^]+)/,F+"box-$1$2"+z+"flex-$1$2")+e;case 5443:return F+e+z+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return F+e+z+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return F+e+z+l(e,"shrink","negative")+e;case 5292:return F+e+z+l(e,"basis","preferred-size")+e;case 6060:return F+"box-"+l(e,"-grow","")+F+e+z+l(e,"grow","positive")+e;case 4554:return F+l(e,/([^-])(transform)/g,"$1"+F+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+j+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+F)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===u(e,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+z+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return F+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return F+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return F+e+z+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return F+e+z+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case V:return W([S(e,{value:l(e.value,"@","@"+F)})],r);case Z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+F+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,z+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(i,d));s=function(e,t,n,r){c=n,W(q(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(l),p}},9797:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:()=>r})},2564:(e,t,n)=>{"use strict";n.d(t,{T:()=>l,i:()=>o,w:()=>a});var r=n(2791),i=n(3361),o=(n(9140),n(2561),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null);s.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(a=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.Z)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var l=r.createContext({})},9140:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(9797),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.Z)((function(e){return a(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":l(s)&&(r+=c(o)+":"+u(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":r+=c(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(o)+":"+u(o,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),r&&(i+=o[s]);f.lastIndex=0;for(var a,l="";null!==(a=f.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(7462),i=n(2791),o=n(9797),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.Z)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(2564),c=n(5438),u=n(9140),d=n(2561),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.hC)(t,n,r),(0,d.L)((function(){return(0,c.My)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),v=!f("as");return function(){var y=arguments,b=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var w=y.length,_=1;_<w;_++)b.push(y[_],y[0][_])}var S=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.fp)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var w=(0,u.O)(b.concat(a),t.registered,m);o+=t.key+"-"+w.name,void 0!==s&&(o+=" "+s);var _=v&&void 0===h?p(r):f,S={};for(var x in e)v&&"as"===x||_(x)&&(S[x]=e[x]);return S.className=o,S.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:w,isStringTag:"string"===typeof r}),i.createElement(r,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(t,i){return e(t,(0,r.Z)({},n,i,{shouldForwardProp:m(S,i,!0)})).apply(void 0,b)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}))},2561:(e,t,n)=>{"use strict";var r;n.d(t,{L:()=>s,j:()=>a});var i=n(2791),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},5438:(e,t,n)=>{"use strict";n.d(t,{My:()=>o,fp:()=>r,hC:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},872:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=s},5130:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=s},9161:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Comment");t.Z=s},7247:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},1286:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},3329:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=s},5649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},427:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},7:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},5519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var r=n(7462),i=n(3366),o=n(6189),s=n(2466),a=n(5080),l=n(7416),c=n(104);var u=n(2065);const d={black:"#000",white:"#fff"};var h=n(5519);const f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var g=n(427);const v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var y=n(7);const b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.$n)(e.main,i):"dark"===t&&(e.dark=(0,u._j)(e.main,o)))}function x(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,i.Z)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g.Z[200],light:g.Z[50],dark:g.Z[400]}:{main:g.Z[700],light:g.Z[400],dark:g.Z[800]}}(t),x=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(t),C=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(t),k=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),I=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y.Z[400],light:y.Z[300],dark:y.Z[700]}:{main:y.Z[800],light:y.Z[500],dark:y.Z[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function E(e){return(0,u.mi)(e,_.text.primary)>=n?_.text.primary:w.text.primary}const R=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.Z)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return S(t,"light",s,a),S(t,"dark",l,a),t.contrastText||(t.contrastText=E(t.main)),t},P={dark:_,light:w};return(0,s.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:t,primary:R({color:c,name:"primary"}),secondary:R({color:x,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:C,name:"error"}),warning:R({color:T,name:"warning"}),info:R({color:k,name:"info"}),success:R({color:I,name:"success"}),grey:h.Z,contrastThreshold:n,getContrastText:E,augmentColor:R,tonalOffset:a},P[t]),l)}const C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const k={textTransform:"uppercase"},I='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=I,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,i.Z)(n,C);const g=a/14,v=p||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,s)=>{return(0,r.Z)({fontFamily:o,fontWeight:e,fontSize:v(t),lineHeight:n},o===I?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},s,f);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,k),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,k),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.Z)((0,r.Z)({htmlFontSize:h,pxToRem:v,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function E(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const R=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},A={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function N(e){return"".concat(Math.round(e),"ms")}function M(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function D(e){const t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},A,e.duration);return(0,r.Z)({getAutoHeightDuration:M,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,i.Z)(r,P);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof o?o:N(o)," ").concat(s," ").concat("string"===typeof a?a:N(a)))).join(",")}},e,{easing:t,duration:n})}const L={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},z=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,i.Z)(e,z);if(e.vars)throw new Error((0,o.Z)(18));const f=x(n),p=(0,a.Z)(e);let m=(0,s.Z)(p,{mixins:(g=p.breakpoints,v=t,(0,r.Z)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:f,shadows:R.slice(),typography:T(f,d),transitions:D(u),zIndex:(0,r.Z)({},L)});var g,v;m=(0,s.Z)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,s.Z)(e,t)),m),m.unstable_sxConfig=(0,r.Z)({},l.Z,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},m}const F=j},6482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(570).Z)()},988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="$$material"},6934:(e,t,n)=>{"use strict";n.d(t,{Dz:()=>a,FO:()=>s,ZP:()=>l});var r=n(4046),i=n(6482),o=n(988);const s=e=>(0,r.x9)(e)&&"classes"!==e,a=r.x9,l=(0,r.ZP)({themeId:o.Z,defaultTheme:i.Z,rootShouldForwardProp:s})},1402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(7078),i=n(6482),o=n(988);function s(e){let{props:t,name:n}=e;return(0,r.Z)({props:t,name:n,defaultTheme:i.Z,themeId:o.Z})}},4036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(1122).Z},9201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(7462),i=n(2791),o=n(3366),s=n(3733),a=n(4419),l=n(4036),c=n(1402),u=n(6934),d=n(5878),h=n(1217);function f(e){return(0,h.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.Z)(n.color))],t["fontSize".concat((0,l.Z)(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:_,viewBox:S="0 0 24 24"}=n,x=(0,o.Z)(n,m),C=i.isValidElement(u)&&"svg"===u.type,k=(0,r.Z)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:S,hasSvgAsChild:C}),I={};w||(I.viewBox=S);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(n))]};return(0,a.Z)(i,f,r)})(k);return(0,p.jsxs)(g,(0,r.Z)({as:v,className:(0,s.Z)(T.root,d),focusable:"false",color:b,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},I,x,C&&u.props,{ownerState:k,children:[C?u.props.children:u,_?(0,p.jsx)("title",{children:_}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,i){return(0,p.jsx)(y,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=y.muiName,i.memo(i.forwardRef(n))}},3199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2254).Z},4421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i.Z,createChainedFunction:()=>o,createSvgIcon:()=>s.Z,debounce:()=>a.Z,deprecatedPropType:()=>l,isMuiElement:()=>c.Z,ownerDocument:()=>u.Z,ownerWindow:()=>d.Z,requirePropFactory:()=>h,setRef:()=>f,unstable_ClassNameGenerator:()=>_,unstable_useEnhancedEffect:()=>p.Z,unstable_useId:()=>m.Z,unsupportedProp:()=>g,useControlled:()=>v.Z,useEventCallback:()=>y.Z,useForkRef:()=>b.Z,useIsFocusVisible:()=>w.Z});var r=n(5902),i=n(4036);const o=n(8949).Z;var s=n(9201),a=n(3199);const l=function(e,t){return()=>null};var c=n(9103),u=n(8301),d=n(7602);n(7462);const h=function(e,t){return()=>null};const f=n(2971).Z;var p=n(162),m=n(7384);const g=function(e,t,n,r,i){return null};var v=n(5158),y=n(9683),b=n(2071),w=n(3031);const _={configure:e=>{r.Z.configure(e)}}},9103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},8301:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(4913).Z},7602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(5202).Z},5158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2876).Z},9683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(7054).Z},2071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(6117).Z},7384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(8252).Z},3031:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(2791);let i,o=!0,s=!1;const a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function u(){"hidden"===this.visibilityState&&s&&(o=!0)}function d(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!a[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const h=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,window.clearTimeout(i),i=window.setTimeout((()=>{s=!1}),100),t.current=!1,!0)},ref:e}}},5917:(e,t,n)=>{"use strict";n.d(t,{Co:()=>o,ZP:()=>i});var r=n(225);function i(e,t){return(0,r.Z)(e,t)}const o=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},1184:(e,t,n)=>{"use strict";n.d(t,{L7:()=>a,P$:()=>l,VO:()=>r,W8:()=>s,k9:()=>o});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(r[e],"px)")};function o(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const e=o.breakpoints||i;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=o.breakpoints||i;return Object.keys(t).reduce(((i,o)=>{if(-1!==Object.keys(e.values||r).indexOf(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function l(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},2065:(e,t,n)=>{"use strict";n.d(t,{$n:()=>d,Fq:()=>c,_j:()=>u,mi:()=>l});var r=n(6189);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));let i,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),i=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else s=s.split(",");return s=s.map((e=>parseFloat(e))),{type:n,values:s,colorSpace:i}}function s(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function a(e){let t="hsl"===(e=o(e)).type||"hsla"===e.type?o(function(e){e=o(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)};let c="rgb";const u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),s({type:c,values:u})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){const n=a(e),r=a(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,s(e)}function u(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return s(e)}},4046:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>k,x9:()=>b});var r=n(3366),i=n(7462),o=n(5917),s=n(2466),a=n(5080),l=n(1122);const c=["variant"];function u(e){return 0===e.length}function d(e){const{variant:t}=e,n=(0,r.Z)(e,c);let i=t||"";return Object.keys(n).sort().forEach((t=>{i+="color"===t?u(i)?e[t]:(0,l.Z)(e[t]):"".concat(u(i)?t:(0,l.Z)(t)).concat((0,l.Z)(e[t].toString()))})),i}var h=n(104);const f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const p=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,m=e=>{const t={};return e&&e.forEach((e=>{const n=d(e.props);t[n]=e.style})),t},g=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),m(n)},v=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let o=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)})),o&&i.push(t[d(n.props)])})),i},y=(e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return v(e,t,o)};function b(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const w=(0,a.Z)(),_=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function S(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function x(e){return e?(t,n)=>n[e]:null}const C=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:o}=e;const s=t((0,i.Z)({},n,{theme:S((0,i.Z)({},n,{defaultTheme:r,themeId:o}))}));let a;if(s&&s.variants&&(a=s.variants,delete s.variants),a){return[s,...v(n,m(a),a)]}return s};function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=w,rootShouldForwardProp:a=b,slotShouldForwardProp:l=b}=e,c=e=>(0,h.Z)((0,i.Z)({},e,{theme:S((0,i.Z)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Co)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:h,skipVariantsResolver:w,skipSx:k,overridesResolver:I=x(_(h))}=u,T=(0,r.Z)(u,f),E=void 0!==w?w:h&&"Root"!==h&&"root"!==h||!1,R=k||!1;let P=b;"Root"===h||"root"===h?P=a:h?P=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(P=void 0);const O=(0,o.ZP)(e,(0,i.Z)({shouldForwardProp:P,label:undefined},T)),A=function(r){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const u=a?a.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>C({styledArg:e,props:r,defaultTheme:n,themeId:t});if((0,s.P)(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return v(n,m(t),t).forEach((e=>{r=(0,s.Z)(r,e)})),r}),n}return e})):[];let h=r;if((0,s.P)(r)){let e;r&&r.variants&&(e=r.variants,delete h.variants,h=t=>{let n=r;return v(t,m(e),e).forEach((e=>{n=(0,s.Z)(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(h=e=>C({styledArg:r,props:e,defaultTheme:n,themeId:t}));d&&I&&u.push((e=>{const r=S((0,i.Z)({},e,{defaultTheme:n,themeId:t})),o=p(d,r);if(o){const t={};return Object.entries(o).forEach((n=>{let[o,s]=n;t[o]="function"===typeof s?s((0,i.Z)({},e,{theme:r})):s})),I(e,t)}return null})),d&&!E&&u.push((e=>{const r=S((0,i.Z)({},e,{defaultTheme:n,themeId:t}));return y(e,g(d,r),r,d)})),R||u.push(c);const f=u.length-a.length;if(Array.isArray(r)&&f>0){const e=new Array(f).fill("");h=[...r,...e],h.raw=[...r.raw,...e]}const b=O(h,...u);return e.muiName&&(b.muiName=e.muiName),b};return O.withConfig&&(A.withConfig=O.withConfig),A}}},5080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7462),i=n(3366),o=n(2466);const s=["values","unit","step"],a=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.Z)({},e,{[t.key]:t.val})),{})};const l={borderRadius:4};var c=n(5682);var u=n(104),d=n(7416);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.Z)(e,h),g=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,l=(0,i.Z)(e,s),c=a(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-o/100).concat(n,")")}function f(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-o/100).concat(n,")")}return(0,r.Z)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(f);let y=(0,o.Z)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},n),spacing:v,shape:(0,r.Z)({},l,p)},m);for(var b=arguments.length,w=new Array(b>1?b-1:0),_=1;_<b;_++)w[_-1]=arguments[_];return y=w.reduce(((e,t)=>(0,o.Z)(e,t)),y),y.unstable_sxConfig=(0,r.Z)({},d.Z,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},y}},8247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2466);const i=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:(e,t,n)=>{"use strict";n.d(t,{hB:()=>p,eI:()=>f,NA:()=>m,e6:()=>y,o3:()=>b});var r=n(1184),i=n(8529),o=n(8247);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const s=null!=(o=(0,i.DW)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.k9)(e,s,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.Z,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},8529:(e,t,n)=>{"use strict";n.d(t,{DW:()=>o,Jq:()=>s,ZP:()=>a});var r=n(1122),i=n(1184);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.k9)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.Z)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(5682),i=n(8529),o=n(8247);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.Z)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.ZP)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),_=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r.NA)(t,e)});return(0,a.k9)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,f,p,m,g,v,y,b,S,w,_);const x=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.eI)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.gap,n)}return null};x.propTypes={},x.filterProps=["gap"];const C=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.eI)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.columnGap,n)}return null};C.propTypes={},C.filterProps=["columnGap"];const k=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.eI)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.rowGap,n)}return null};k.propTypes={},k.filterProps=["rowGap"];s(x,C,k,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function I(e,t){return"grey"===t?t:e}s((0,i.ZP)({prop:"color",themeKey:"palette",transform:I}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:I}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:I}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const E=(0,i.ZP)({prop:"width",transform:T}),R=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.VO[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:T(t)}};return(0,a.k9)(e,e.maxWidth,t)}return null};R.filterProps=["maxWidth"];const P=(0,i.ZP)({prop:"minWidth",transform:T}),O=(0,i.ZP)({prop:"height",transform:T}),A=(0,i.ZP)({prop:"maxHeight",transform:T}),N=(0,i.ZP)({prop:"minHeight",transform:T}),M=((0,i.ZP)({prop:"size",cssProperty:"width",transform:T}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:T}),s(E,R,P,O,A,N,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:I},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:I},backgroundColor:{themeKey:"palette",transform:I},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:k},columnGap:{style:C},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:R},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(1122),i=n(8247),o=n(8529),s=n(1184),a=n(7416);const l=function(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.DW)(n,u)||{};if(h)return h(a);return(0,s.k9)(a,t,(t=>{let n=(0,o.Jq)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(f,d,"".concat(e).concat("default"===t?"":(0,r.Z)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.Z;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.W8)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.Z)(u,e(n,o,l,c));else{const e=(0,s.k9)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.Z)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.Z)(u,e(n,o,l,c))})),(0,s.L7)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}();l.filterProps=["sx"];const c=l},418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5080),i=n(9120);const o=(0,r.Z)();const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.Z)(e)}},7078:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5735);var i=n(418);function o(e){let{props:t,name:n,defaultTheme:o,themeId:s}=e,a=(0,i.Z)(o);s&&(a=a[s]||a);const l=function(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:a,name:n,props:t});return l}},9120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2564);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},1122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:()=>r})},8949:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{Z:()=>r})},2254:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{Z:()=>r})},2466:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,Z:()=>s});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r])})),a}},6189:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},1217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5902);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.Z.generate(e),"-").concat(t)}},5878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1217);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=(0,r.Z)(e,t,n)})),i}},4913:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},5202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4913);function i(e){return(0,r.Z)(e).defaultView||window}},5735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7462);function i(e,t){const n=(0,r.Z)({},t);return Object.keys(e).forEach((o=>{if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.Z)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},a=t[o];n[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[o]=(0,r.Z)({},a),Object.keys(s).forEach((e=>{n[o][e]=i(s[e],a[e])}))):n[o]=a:n[o]=s}else void 0===n[o]&&(n[o]=e[o])})),n}},2971:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:()=>r})},2876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},7054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2876);const o=function(e){const t=r.useRef(e);return(0,i.Z)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},6117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2971);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,i.Z)(t,e)}))}),t)}},8252:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>a});var i=n(2791);let o=0;const s=(r||(r=n.t(i,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(o+=1,n("mui-".concat(o)))}),[t]),r}(e)}},2110:(e,t,n)=>{"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},8309:(e,t,n)=>{"use strict";e.exports=n(746)},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5585);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,z=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function Z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case k:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Ce=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ie(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Re(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ce)&&(Re(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Ne=!1}function De(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,ze=null,je=!1,Fe=null,Ue={onError:function(e){Le=!0,ze=e}};function Ze(e,t,n,r,i,o,s,a,l){Le=!1,ze=null,De.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,xt,Ct,kt,It=!1,Tt=[],Et=null,Rt=null,Pt=null,Ot=new Map,At=new Map,Nt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Ut(){It=!1,null!==Et&&jt(Et)&&(Et=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==Pt&&jt(Pt)&&(Pt=null),Ot.forEach(Ft),At.forEach(Ft)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Zt(t,e)}if(0<Tt.length){Zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Zt(Et,e),null!==Rt&&Zt(Rt,e),null!==Pt&&Zt(Pt,e),Ot.forEach(t),At.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)zt(n),null===n.blockedOn&&Nt.shift()}var Vt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function qt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Qt(e,t,n,r))&&Wr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=z({},cn,{view:0,detail:0}),hn=on(dn),fn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(z({},fn,{dataTransfer:0})),gn=on(z({},dn,{relatedTarget:0})),vn=on(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(z({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return Cn}var In=z({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(In),En=on(z({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=on(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=z({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(On),Nn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,zn=u&&(!Mn||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){jr(e,0)}function Qn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Cr={};function kr(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=kr("animationend"),Tr=kr("animationiteration"),Er=kr("animationstart"),Rr=kr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Or.length;Nr++){var Mr=Or[Nr];Ar(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Ar(Ir,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Er,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ze.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=ze;Le=!1,ze=null,je||(je=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;zr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;zr(i,a,c),o=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Zr]){e[Zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=o,i=_e(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Ir:case Tr:case Er:l=vn;break;case Rr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if(Yn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),$t=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Ae(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],xi=-1;function Ci(e){return{current:e}}function ki(e){0>xi||(e.current=Si[xi],Si[xi]=null,xi--)}function Ii(e,t){xi++,Si[xi]=e.current,e.current=t}var Ti={},Ei=Ci(Ti),Ri=Ci(!1),Pi=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Ri),ki(Ei)}function Mi(e,t,n){if(Ei.current!==Ti)throw Error(o(168));Ii(Ei,t),Ii(Ri,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return z({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ei.current,Ii(Ei,e),Ii(Ri,Ri.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ri),ki(Ei),Ii(Ei,e)):ki(Ri),Ii(Ri,n)}var ji=null,Fi=!1,Ui=!1;function Zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge($e,Bi),i}finally{bt=t,Ui=!1}}return null}var Vi=[],Wi=0,Hi=null,qi=0,Gi=[],Ki=0,Qi=null,Xi=1,Yi="";function Ji(e,t){Vi[Wi++]=qi,Vi[Wi++]=Hi,Hi=e,qi=t}function $i(e,t,n){Gi[Ki++]=Xi,Gi[Ki++]=Yi,Gi[Ki++]=Qi,Qi=e;var r=Xi;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Xi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function to(e){for(;e===Hi;)Hi=Vi[--Wi],Vi[Wi]=null,qi=Vi[--Wi],Vi[Wi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ci(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function xo(e){var t=yo.current;ki(yo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var To=null;function Eo(e){null===To?To=[e]:To.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Eo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Eo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=z({},d,h);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zl|=s,e.lanes=s,e.memoizedState=d}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function Vo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ai(t)?Pi:Ei.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ai(t)?Pi:Ei.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(D(s))return g(r,o,s,l);Ko(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Yo=Xo(!0),Jo=Xo(!1),$o={},es=Ci($o),ts=Ci($o),ns=Ci($o);function rs(e){if(e===$o)throw Error(o(174));return e}function is(e,t){switch(Ii(ns,t),Ii(ts,e),Ii(es,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ii(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ii(ts,e),Ii(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Ci(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,_s=0;function Ss(){throw Error(o(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Cs(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Ts(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Es(e,t){return"function"===typeof t?t(e):t}function Rs(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,zl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,zl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function As(e,t){var n=ms,r=Ts(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ws(Ds.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Fs(9,Ms.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ps)||Ns(n,t,i)}return i}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ms(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&zs(e)}function Ds(e,t,n){return n((function(){Ls(t)&&zs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function zs(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function js(e){var t=Is();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Ts().memoizedState}function Zs(e,t,n,r){var i=Is();ms.flags|=e,i.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Ts();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&xs(r,s.deps))return void(i.memoizedState=Fs(t,n,o,r))}ms.flags|=e,i.memoizedState=Fs(1|t,n,o,r)}function Vs(e,t){return Zs(8390656,8,e,t)}function Ws(e,t){return Bs(2048,8,e,t)}function Hs(e,t){return Bs(4,2,e,t)}function qs(e,t){return Bs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Gs.bind(null,t,e),n)}function Qs(){}function Xs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,zl|=n,e.baseState=!0),t)}function $s(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Ts().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ro(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Eo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ro(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Io,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:Io,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Vs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zs(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:js,useDebugValue:Qs,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=$s.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Is();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ps)||Ns(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Vs(Ds.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,Ms.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Is(),t=Pl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Io,useCallback:Xs,useContext:Io,useEffect:Ws,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:qs,useMemo:Ys,useReducer:Rs,useRef:Us,useState:function(){return Rs(Es)},useDebugValue:Qs,useDeferredValue:function(e){return Js(Ts(),gs.memoizedState,e)},useTransition:function(){return[Rs(Es)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Io,useCallback:Xs,useContext:Io,useEffect:Ws,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:qs,useMemo:Ys,useReducer:Ps,useRef:Us,useState:function(){return Ps(Es)},useDebugValue:Qs,useDeferredValue:function(e){var t=Ts();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Ps(Es)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),ha(0,t)},n}function ma(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Yo(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Cs(e,t,n,r,o,i),n=ks(),null===e||wa?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ca(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Mc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ml,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ml,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ml,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ml,Nl),Nl|=r;return _a(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Ai(n)?Pi:Ei.current;return o=Oi(t,o),ko(t,i),n=Cs(e,t,n,r,o,i),r=ks(),null===e||wa?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ea(e,t,n,r,i){if(Ai(n)){var o=!0;Li(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),qo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Oi(t,c=Ai(n)?Pi:Ei.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Ho(t,s,r,c),Oo=!1;var h=t.memoizedState;s.state=h,jo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||Oo?("function"===typeof u&&(Zo(t,n,u,r),l=t.memoizedState),(a=Oo||Vo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,No(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Oi(t,l=Ai(n)?Pi:Ei.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ho(t,s,r,l),Oo=!1,h=t.memoizedState,s.state=h,jo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ri.current||Oo?("function"===typeof f&&(Zo(t,n,f,r),p=t.memoizedState),(c=Oo||Vo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,o,i)}function Ra(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&zi(t,n,!1),Ha(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),is(e,t.containerInfo)}function Oa(e,t,n,r,i){return po(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Aa,Na,Ma,Da,La={dehydrated:null,treeContext:null,retryLane:0};function za(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=zc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=za(n),t.memoizedState=La,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=zc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,a),t.child.memoizedState=za(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Po(e,i),rc(r,e,i,-1))}return gc(),Ua(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ki++]=Xi,Gi[Ki++]=Yi,Gi[Ki++]=Qi,Xi=e.id,Yi=e.overflow,Qi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Mc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?za(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Mc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),Yo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n,t);else if(19===e.tag)Za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ai(t.type)&&Ni(),Ga(t),null;case 3:return r=t.stateNode,os(),ki(Ri),ki(Ei),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Na(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),$(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Na(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return xo(t.type._context),Ga(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qa(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Vl&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Ye()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=ls.current,Ii(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ri),ki(Ei),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return xo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Ma=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ya&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fl(e,t,n),Ya=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,gl(t,e),Ya=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($a=e,d=e.child;null!==d;){for(h=$a=d;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,$a=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$a=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=s,(Ya=l)&&!c)for($a=i;null!==$a;)l=(s=$a).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,$a=l):xl(i);for(;null!==o;)$a=o,wl(o,t,n),o=o.sibling;$a=i,Xa=a,Ya=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):_l(e)}}function _l(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function Sl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function xl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Cl,kl=Math.ceil,Il=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Rl=0,Pl=null,Ol=null,Al=0,Nl=0,Ml=Ci(0),Dl=0,Ll=null,zl=0,jl=0,Fl=0,Ul=null,Zl=null,Bl=0,Vl=1/0,Wl=null,Hl=!1,ql=null,Gl=null,Kl=!1,Ql=null,Xl=0,Yl=0,Jl=null,$l=-1,ec=0;function tc(){return 0!==(6&Rl)?Ye():-1!==$l?$l:$l=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Al?Al&-Al:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Rl)&&e===Pl||(e===Pl&&(0===(2&Rl)&&(jl|=n),4===Dl&&lc(e,Al)),ic(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Vl=Ye()+500,Fi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Pl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Zi(e)}(cc.bind(null,e)):Zi(cc.bind(null,e)),si((function(){0===(6&Rl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if($l=-1,ec=0,0!==(6&Rl))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Rl;Rl|=2;var s=mc();for(Pl===e&&Al===t||(Wl=null,Vl=Ye()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}So(),Il.current=s,Rl=i,null!==Ol?t=0:(Pl=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Zl,Wl),t);break}Sc(e,Zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Zl,Wl),r);break}Sc(e,Zl,Wl);break;default:throw Error(o(329))}}}return ic(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Zl,Zl=n,null!==t&&ac(t)),e}function ac(e){null===Zl?Zl=e:Zl.push.apply(Zl,e)}function lc(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Rl))throw Error(o(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Zl,Wl),ic(e,Ye()),null}function uc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Vl=Ye()+500,Fi&&Bi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Rl)&&xc();var t=Rl;Rl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Rl=t))&&Bi()}}function hc(){Nl=Ml.current,ki(Ml)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:os(),ki(Ri),ki(Ei),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:xo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Ol=e=Mc(e.current,null),Al=Nl=t,Dl=0,Ll=null,Fl=jl=zl=0,Zl=Ul=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Ol;try{if(So(),hs.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,Tl.current=null,null===n||null===n.return){Dl=1,Ll=t,Ol=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mc(){var e=Il.current;return Il.current=sa,null===e?sa:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&zl)&&0===(268435455&jl)||lc(Pl,Al)}function vc(e,t){var n=Rl;Rl|=2;var r=mc();for(Pl===e&&Al===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(So(),Rl=n,Il.current=r,null!==Ol)throw Error(o(261));return Pl=null,Al=0,Dl}function yc(){for(;null!==Ol;)wc(Ol)}function bc(){for(;null!==Ol&&!Qe();)wc(Ol)}function wc(e){var t=Cl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?_c(e):Ol=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Nl)))return void(Ol=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Dl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Dl&&(Dl=5)}function Sc(e,t,n){var r=bt,i=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Ql);if(0!==(6&Rl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Pl&&(Ol=Pl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,(function(){return xc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var a=bt;bt=1;var l=Rl;Rl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Rl=l,bt=a,El.transition=s}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Xl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Xl)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{El.transition=i,bt=r}return null}function xc(){if(null!==Ql){var e=wt(Xl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Rl))throw Error(o(331));var i=Rl;for(Rl|=4,$a=e.current;null!==$a;){var s=$a,a=s.child;if(0!==(16&$a.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var d=$a;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,$a=h;else for(;null!==$a;){var f=(d=$a).sibling,p=d.return;if(sl(d),d===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$a=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else e:for(;null!==$a;){if(0!==(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,$a=y;break e}$a=s.return}}var b=e.current;for($a=b;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=b;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){$a=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$a=_;break e}$a=l.return}}if(Rl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function Cc(e,t,n){e=Do(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Do(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Ye()-Bl?fc(e,0):Fl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ic(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Oc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Nc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Lc(n.children,i,s,t);case C:a=8,i|=8;break;case k:return(e=Ac(12,n,t,2|i)).elementType=k,e.lanes=s,e;case R:return(e=Ac(13,n,t,i)).elementType=R,e.lanes=s,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=s,e;case N:return zc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case T:a=9;break e;case E:a=11;break e;case O:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Vc(e,t,n,r,i,o,s,a,l){return(e=Zc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Mo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,s))&&(rc(e,i,s,o),Lo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),po();break;case 5:ss(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ii(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ii(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,Ei.current);ko(t,n),i=Cs(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=xa(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,No(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ri.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Mo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Co(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Co(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Io(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),xa(e,t,r,i=vo(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Wa(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,ko(t,n),Wo(t,r,i),qo(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=Vc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&zt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Rl)&&(Vl=Ye()+500,Bi()))}break;case 13:dc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Ct=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uc,Re=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ie,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},67:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&M(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(I),I=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,k=null,I=-1,T=5,E=-1;function R(){return!(t.unstable_now()-E<T)}function P(){if(null!==k){var e=t.unstable_now();E=e;var n=!0;try{n=k(!0,e)}finally{n?x():(C=!1,k=null)}}else C=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=P,x=function(){A.postMessage(null)}}else x=function(){v(P,0)};function N(e){k=e,C||(C=!0,x())}function M(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(I),I=-1):g=!0,M(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5585:(e,t,n)=>{"use strict";e.exports=n(67)},1372:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:(e,t,n)=>{"use strict";n(1372)},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+E(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+E(a=e[c],c);l+=R(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=R(a=a.value,t,i,u=o+E(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null},M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},1561:(e,t,n)=>{"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),s((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},7595:(e,t,n)=>{"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=s(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},7248:(e,t,n)=>{"use strict";e.exports=n(1561)},327:(e,t,n)=>{"use strict";e.exports=n(7595)},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},3733:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>mr,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>ai,_addComponent:()=>di,_addOrOverwriteComponent:()=>hi,_apps:()=>ci,_clearComponents:()=>gi,_components:()=>ui,_getProvider:()=>pi,_registerComponent:()=>fi,_removeServiceInstance:()=>mi,deleteApp:()=>xi,getApp:()=>_i,getApps:()=>Si,initializeApp:()=>wi,onLog:()=>ki,registerVersion:()=>Ci,setLogLevel:()=>Ii});var t=n(2791),r=n.t(t,2),i=n(1250),o=n(7248),s=n(327),a=n(4164),l=n.t(a,2);let c=function(e){e()};const u=()=>c,d=Symbol.for("react-redux-context"),h="undefined"!==typeof globalThis?globalThis:{};function f(){var e;if(!t.createContext)return{};const n=null!=(e=h[d])?e:h[d]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}const p=f();function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(){return(0,t.useContext)(e)}}const g=m();let v=()=>{throw new Error("uSES not initialized!")};const y=(e,t)=>e===t;function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const n=e===p?g:m(e);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=y,stabilityCheck:o,noopCheck:s}="function"===typeof r?{equalityFn:r}:r;const{store:a,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=n(),h=((0,t.useRef)(!0),(0,t.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,o])),f=v(l.addNestedSub,a.getState,c||a.getState,h,i);return(0,t.useDebugValue)(f),f}}const w=b();n(2110),n(7441);const _={notify(){},get:()=>[]};function S(e,t){let n,r=_,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){const e=u();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=_)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}const x=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;let C=null;const k=function(e){let{store:n,context:r,children:i,serverState:o,stabilityCheck:s="once",noopCheck:a="once"}=e;const l=t.useMemo((()=>{const e=S(n);return{store:n,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:s,noopCheck:a}}),[n,o,s,a]),c=t.useMemo((()=>n.getState()),[n]);x((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=r||p;return t.createElement(u.Provider,{value:l},i)};function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const t=e===p?g:m(e);return function(){const{store:e}=t();return e}}const T=I();function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const t=e===p?T:I(e);return function(){return t().dispatch}}const R=E();var P;function O(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function A(e){return!!e&&!!e[_e]}function N(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Se}(e)||Array.isArray(e)||!!e[we]||!!(null===(t=e.constructor)||void 0===t?void 0:t[we])||U(e)||Z(e))}function M(e,t,n){void 0===n&&(n=!1),0===D(e)?(n?Object.keys:xe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function D(e){var t=e[_e];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:U(e)?2:Z(e)?3:0}function L(e,t){return 2===D(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return 2===D(e)?e.get(t):e[t]}function j(e,t,n){var r=D(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function F(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function U(e){return ge&&e instanceof Map}function Z(e){return ve&&e instanceof Set}function B(e){return e.o||e.t}function V(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ce(e);delete t[_e];for(var n=xe(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function W(e,t){return void 0===t&&(t=!1),q(e)||A(e)||!N(e)||(D(e)>1&&(e.set=e.add=e.clear=e.delete=H),Object.freeze(e),t&&M(e,(function(e,t){return W(t,!0)}),!0)),e}function H(){O(2)}function q(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function G(e){var t=ke[e];return t||O(18,e),t}function K(e,t){ke[e]||(ke[e]=t)}function Q(){return pe}function X(e,t){t&&(G("Patches"),e.u=[],e.s=[],e.v=t)}function Y(e){J(e),e.p.forEach(ee),e.p=null}function J(e){e===pe&&(pe=e.l)}function $(e){return pe={p:[],l:pe,h:e,m:!0,_:0}}function ee(e){var t=e[_e];0===t.i||1===t.i?t.j():t.g=!0}function te(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||G("ES5").S(t,e,r),r?(n[_e].P&&(Y(t),O(4)),N(e)&&(e=ne(t,e),t.l||ie(t,e)),t.u&&G("Patches").M(n[_e].t,e,t.u,t.s)):e=ne(t,n,[]),Y(t),t.u&&t.v(t.u,t.s),e!==be?e:void 0}function ne(e,t,n){if(q(t))return t;var r=t[_e];if(!r)return M(t,(function(i,o){return re(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ie(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=V(r.k):r.o,o=i,s=!1;3===r.i&&(o=new Set(i),i.clear(),s=!0),M(o,(function(t,o){return re(e,r,i,t,o,n,s)})),ie(e,i,!1),n&&e.u&&G("Patches").N(r,n,e.u,e.s)}return r.o}function re(e,t,n,r,i,o,s){if(A(i)){var a=ne(e,i,o&&t&&3!==t.i&&!L(t.R,r)?o.concat(r):void 0);if(j(n,r,a),!A(a))return;e.m=!1}else s&&n.add(i);if(N(i)&&!q(i)){if(!e.h.D&&e._<1)return;ne(e,i),t&&t.A.l||ie(e,i)}}function ie(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&W(t,n)}function oe(e,t){var n=e[_e];return(n?B(n):e)[t]}function se(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ae(e){e.P||(e.P=!0,e.l&&ae(e.l))}function le(e){e.o||(e.o=V(e.t))}function ce(e,t,n){var r=U(t)?G("MapSet").F(t,n):Z(t)?G("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Q(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Ie;n&&(i=[r],o=Te);var s=Proxy.revocable(i,o),a=s.revoke,l=s.proxy;return r.k=l,r.j=a,l}(t,n):G("ES5").J(t,n);return(n?n.A:Q()).p.push(r),r}function ue(e){return A(e)||O(22,e),function e(t){if(!N(t))return t;var n,r=t[_e],i=D(t);if(r){if(!r.P&&(r.i<4||!G("ES5").K(r)))return r.t;r.I=!0,n=de(t,i),r.I=!1}else n=de(t,i);return M(n,(function(t,i){r&&z(r.t,t)===i||j(n,t,e(i))})),3===i?new Set(n):n}(e)}function de(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return V(e)}function he(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[_e];return Ie.get(t,e)},set:function(t){var n=this[_e];Ie.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][_e];if(!i.P)switch(i.i){case 5:r(i)&&ae(i);break;case 4:n(i)&&ae(i)}}}function n(e){for(var t=e.t,n=e.k,r=xe(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==_e){var s=t[o];if(void 0===s&&!L(t,o))return!0;var a=n[o],l=a&&a[_e];if(l?l.t!==s:!F(a,s))return!0}}var c=!!t[_e];return r.length!==xe(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};K("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Ce(n);delete o[_e];for(var s=xe(o),a=0;a<s.length;a++){var l=s[a];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Q(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,_e,{value:o,writable:!0}),i},S:function(e,n,i){i?A(n)&&n[_e].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[_e];if(n){var i=n.t,o=n.k,s=n.R,a=n.i;if(4===a)M(o,(function(t){t!==_e&&(void 0!==i[t]||L(i,t)?s[t]||e(o[t]):(s[t]=!0,ae(n)))})),M(i,(function(e){void 0!==o[e]||L(o,e)||(s[e]=!1,ae(n))}));else if(5===a){if(r(n)&&(ae(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var c=i.length;c<o.length;c++)s[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}(e=>{v=e})(s.useSyncExternalStoreWithSelector),(e=>{C=e})(o.useSyncExternalStore),P=a.unstable_batchedUpdates,c=P;var fe,pe,me="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ge="undefined"!=typeof Map,ve="undefined"!=typeof Set,ye="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,be=me?Symbol.for("immer-nothing"):((fe={})["immer-nothing"]=!0,fe),we=me?Symbol.for("immer-draftable"):"__$immer_draftable",_e=me?Symbol.for("immer-state"):"__$immer_state",Se=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),xe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ce=Object.getOwnPropertyDescriptors||function(e){var t={};return xe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ke={},Ie={get:function(e,t){if(t===_e)return e;var n=B(e);if(!L(n,t))return function(e,t,n){var r,i=se(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!N(r)?r:r===oe(e.t,t)?(le(e),e.o[t]=ce(e.A.h,r,e)):r},has:function(e,t){return t in B(e)},ownKeys:function(e){return Reflect.ownKeys(B(e))},set:function(e,t,n){var r=se(B(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=oe(B(e),t),o=null==i?void 0:i[_e];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(F(n,i)&&(void 0!==n||L(e.t,t)))return!0;le(e),ae(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==oe(e.t,t)||t in e.t?(e.R[t]=!1,le(e),ae(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=B(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){O(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){O(12)}},Te={};M(Ie,(function(e,t){Te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Te.deleteProperty=function(e,t){return Te.set.call(this,e,t,void 0)},Te.set=function(e,t,n){return Ie.set.call(this,e[0],t,n,e[0])};var Ee=function(){function e(e){var t=this;this.O=ye,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&O(6),void 0!==r&&"function"!=typeof r&&O(7),N(e)){var a=$(t),l=ce(t,e,void 0),c=!0;try{s=n(l),c=!1}finally{c?Y(a):J(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return X(a,r),te(e,a)}),(function(e){throw Y(a),e})):(X(a,r),te(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===be&&(s=void 0),t.D&&W(s,!0),r){var u=[],d=[];G("Patches").M(e,s,u,d),r(u,d)}return s}O(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){N(e)||O(8),A(e)&&(e=ue(e));var t=$(this),n=ce(this,e,void 0);return n[_e].C=!0,J(t),n},t.finishDraft=function(e,t){var n=(e&&e[_e]).A;return X(n,t),te(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ye&&O(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=G("Patches").$;return A(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Re=new Ee,Pe=Re.produce;Re.produceWithPatches.bind(Re),Re.setAutoFreeze.bind(Re),Re.setUseProxies.bind(Re),Re.applyPatches.bind(Re),Re.createDraft.bind(Re),Re.finishDraft.bind(Re);const Oe=Pe;function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Ne(e){var t=function(e,t){if("object"!==Ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ae(t)?t:String(t)}function Me(e,t,n){return(t=Ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var je="function"===typeof Symbol&&Symbol.observable||"@@observable",Fe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ue={INIT:"@@redux/INIT"+Fe(),REPLACE:"@@redux/REPLACE"+Fe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fe()}};function Ze(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Be(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ze(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ze(1));return n(Be)(e,t)}if("function"!==typeof e)throw new Error(ze(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(ze(3));return o}function d(e){if("function"!==typeof e)throw new Error(ze(4));if(l)throw new Error(ze(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(ze(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!Ze(e))throw new Error(ze(7));if("undefined"===typeof e.type)throw new Error(ze(8));if(l)throw new Error(ze(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Ue.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ze(10));i=e,h({type:Ue.REPLACE})}})[je]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ze(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[je]=function(){return this},e},r}function Ve(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Ue.INIT}))throw new Error(ze(12));if("undefined"===typeof n(void 0,{type:Ue.PROBE_UNKNOWN_ACTION()}))throw new Error(ze(13))}))}(n)}catch(a){o=a}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(ze(14))}i[l]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ze(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=We.apply(void 0,o)(n.dispatch),Le(Le({},n),{},{dispatch:r})}}}function qe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ge=qe();Ge.withExtraArgument=qe;const Ke=Ge;var Qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ye=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Je=Object.defineProperty,$e=Object.defineProperties,et=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,it=function(e,t,n){return t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ot=function(e,t){for(var n in t||(t={}))nt.call(t,n)&&it(e,n,t[n]);if(tt)for(var r=0,i=tt(t);r<i.length;r++){n=i[r];rt.call(t,n)&&it(e,n,t[n])}return e},st=function(e,t){return $e(e,et(t))},at=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(t){i(t)}},s=function(e){try{a(n.throw(e))}catch(t){i(t)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},lt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?We:We.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ct(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function ut(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return ot(ot({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var dt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ye([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ye([void 0],e.concat(this))))},t}(Array),ht=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ye([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ye([void 0],e.concat(this))))},t}(Array);function ft(e){return N(e)?Oe(e,(function(){})):e}function pt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new dt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ke.withExtraArgument(n.extraArgument)):r.push(Ke));0;return r}(e)}}function mt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function gt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ft(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},l={};function c(){var t="function"===typeof e.extraReducers?mt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=ot(ot({},i),a);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?mt(t):[t,n,r],s=o[0],a=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return ft(e())};else{var c=ft(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=Ye([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(A(e))return void 0===(r=n(e,t))?e:r;if(N(e))return Oe(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,l[e]=r?ut(c,r):ut(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var vt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},yt=["name","message","stack","code"],bt=function(e,t){this.payload=e,this.meta=t},wt=function(e,t){this.payload=e,this.meta=t},_t=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=yt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=ut(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:st(ot({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=ut(e+"/pending",(function(e,t,n){return{payload:void 0,meta:st(ot({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=ut(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||_t)(e||"Rejected"),meta:st(ot({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):vt(),h=new s;function f(e){u=e,h.abort()}var p=function(){return at(this,null,(function(){var s,p,m,g,v,y;return Xe(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:l,extra:c}),null===(w=g)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:d,signal:h.signal,abort:f,rejectWithValue:function(e,t){return new bt(e,t)},fulfillWithValue:function(e,t){return new wt(e,t)}})).then((function(t){if(t instanceof bt)throw t;return t instanceof wt?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return y=b.sent(),m=y instanceof bt?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||a(m),[2,m]}var w}))}))}();return Object.assign(p,{abort:f,requestId:d,arg:e,unwrap:function(){return p.then(St)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function St(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var xt="listenerMiddleware";ut(xt+"/add"),ut(xt+"/removeAll"),ut(xt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Ct,kt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:kt(10);he();const It=gt({initialState:{isLoggedIn:!1,user:null},name:"auth",reducers:{login:(e,t)=>{e.isLoggedIn=!0,e.user=t.payload},logout:e=>{e.isLoggedIn=!1,e.user=null}}}),Tt=It.actions,Et=It.reducer,Rt=gt({initialState:{user:null},name:"chat",reducers:{selectedUser:(e,t)=>{e.user=t.payload,localStorage.setItem("userUid",t.payload.uid)}}}),Pt=Rt.actions,Ot=Rt.reducer,At=gt({initialState:{theme:"light"},name:"theme",reducers:{setTheme:(e,t)=>{e.theme=t.payload}}}),Nt=At.actions,Mt=function(e){var t,n=pt(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,h=r.enhancers,f=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!ct(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ve(o)}var p=a;"function"===typeof p&&(p=p(n));var m=He.apply(void 0,p),g=We;c&&(g=lt(ot({trace:!1},"object"===typeof c&&c)));var v=new ht(m),y=v;return Array.isArray(f)?y=Ye([m],f):"function"===typeof f&&(y=f(v)),Be(t,d,g.apply(void 0,y))}({reducer:{authReducer:Et,chatReducer:Ot,themeReducer:At.reducer},middleware:e=>e({serializableCheck:!1})}),Dt=R,Lt=w;function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}var jt;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(jt||(jt={}));const Ft="popstate";function Ut(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Zt(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Bt(e,t){return{usr:e.state,key:e.key,idx:t}}function Vt(e,t,n,r){return void 0===n&&(n=null),zt({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ht(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Wt(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ht(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qt(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=jt.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=jt.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Wt(e);return Ut(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(zt({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ft,d),l=e,()=>{i.removeEventListener(Ft,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=jt.Push;let r=Vt(f.location,e,t);n&&n(r,e),c=u()+1;let d=Bt(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=jt.Replace;let r=Vt(f.location,e,t);n&&n(r,e),c=u();let i=Bt(r,c),d=f.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var Gt;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Gt||(Gt={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Kt(e,t,n){void 0===n&&(n="/");let r=cn(("string"===typeof t?Ht(t):t).pathname||"/",n);if(null==r)return null;let i=Qt(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=sn(i[s],ln(r));return o}function Qt(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(Ut(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=fn([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(Ut(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Qt(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:on(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Xt(e.path))i(e,t,r);else i(e,t)})),t}function Xt(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=Xt(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Yt=/^:\w+$/,Jt=3,$t=2,en=1,tn=10,nn=-2,rn=e=>"*"===e;function on(e,t){let n=e.split("/"),r=n.length;return n.some(rn)&&(r+=nn),t&&(r+=$t),n.filter((e=>!rn(e))).reduce(((e,t)=>e+(Yt.test(t)?Jt:""===t?en:tn)),r)}function sn(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=an({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:fn([i,c.pathname]),pathnameBase:pn(fn([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=fn([i,c.pathnameBase]))}return o}function an(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Zt("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return Zt(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function ln(e){try{return decodeURI(e)}catch(t){return Zt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function cn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function un(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function dn(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function hn(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Ht(e):(i=zt({},e),Ut(!i.pathname||!i.pathname.includes("?"),un("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),un("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),un("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Ht(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:mn(r),hash:gn(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const fn=e=>e.join("/").replace(/\/\/+/g,"/"),pn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mn=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",gn=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function vn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const yn=["post","put","patch","delete"],bn=(new Set(yn),["get",...yn]);new Set(bn),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(this,arguments)}const _n=t.createContext(null);const Sn=t.createContext(null);const xn=t.createContext(null);const Cn=t.createContext(null);const kn=t.createContext({outlet:null,matches:[],isDataRoute:!1});const In=t.createContext(null);function Tn(){return null!=t.useContext(Cn)}function En(){return Tn()||Ut(!1),t.useContext(Cn).location}function Rn(e){t.useContext(xn).static||t.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=t.useContext(kn);return e?function(){let{router:e}=Fn(zn.UseNavigateStable),n=Zn(jn.UseNavigateStable),r=t.useRef(!1);Rn((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,wn({fromRouteId:n},i)))}),[e,n]);return i}():function(){Tn()||Ut(!1);let e=t.useContext(_n),{basename:n,navigator:r}=t.useContext(xn),{matches:i}=t.useContext(kn),{pathname:o}=En(),s=JSON.stringify(dn(i).map((e=>e.pathnameBase))),a=t.useRef(!1);return Rn((()=>{a.current=!0})),t.useCallback((function(t,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof t)return void r.go(t);let l=hn(t,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:fn([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,s,o,e])}()}function On(e,n,r){Tn()||Ut(!1);let{navigator:i}=t.useContext(xn),{matches:o}=t.useContext(kn),s=o[o.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=En();if(n){var d;let e="string"===typeof n?Ht(n):n;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||Ut(!1),c=e}else c=u;let h=c.pathname||"/",f=Kt(e,{pathname:"/"===l?h:h.slice(l.length)||"/"});let p=Ln(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:fn([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:fn([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r);return n&&p?t.createElement(Cn.Provider,{value:{location:wn({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:jt.Pop}},p):p}function An(){let e=function(){var e;let n=t.useContext(In),r=Un(jn.UseRouteError),i=Zn(jn.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=vn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const Nn=t.createElement(An,null);class Mn extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(kn.Provider,{value:this.props.routeContext},t.createElement(In.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dn(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(_n);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(kn.Provider,{value:n},i)}function Ln(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let s=e,a=null==(i=r)?void 0:i.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||Ut(!1),s=s.slice(0,Math.min(s.length,e+1))}return s.reduceRight(((e,i,o)=>{let l=i.route.id?null==a?void 0:a[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Nn);let u=n.concat(s.slice(0,o+1)),d=()=>{let n;return n=l?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Dn,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(Mn,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var zn=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zn||{}),jn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jn||{});function Fn(e){let n=t.useContext(_n);return n||Ut(!1),n}function Un(e){let n=t.useContext(Sn);return n||Ut(!1),n}function Zn(e){let n=function(e){let n=t.useContext(kn);return n||Ut(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Ut(!1),r.route.id}r.startTransition;function Bn(e){Ut(!1)}function Vn(e){let{basename:n="/",children:r=null,location:i,navigationType:o=jt.Pop,navigator:s,static:a=!1}=e;Tn()&&Ut(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:s,static:a})),[l,s,a]);"string"===typeof i&&(i=Ht(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=t.useMemo((()=>{let e=cn(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:o}}),[l,u,d,h,f,p,o]);return null==m?null:t.createElement(xn.Provider,{value:c},t.createElement(Cn.Provider,{children:r,value:m}))}function Wn(e){let{children:t,location:n}=e;return On(Hn(t),n)}new Promise((()=>{}));t.Component;function Hn(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Hn(e.props.children,o));e.type!==Bn&&Ut(!1),e.props.index&&e.props.children&&Ut(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Hn(e.props.children,o)),r.push(s)})),r}function qn(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const Gn=r.startTransition;l.flushSync;function Kn(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),qt((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Vt("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Wt(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&Gn?Gn((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(Vn,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Qn,Xn;function Yn(e){let n=t.useRef(qn(e)),r=t.useRef(!1),i=En(),o=t.useMemo((()=>function(e,t){let n=qn(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,r.current?null:n.current)),[i.search]),s=Pn(),a=t.useCallback(((e,t)=>{const n=qn("function"===typeof e?e(o):e);r.current=!0,s("?"+n,t)}),[s,o]);return[o,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qn||(Qn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xn||(Xn={}));const Jn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new er;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class er extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tr=function(e){return function(e){const t=Jn(e);return $n.encodeByteArray(t,!0)}(e).replace(/\./g,"")},nr=function(e){try{return $n.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=rr(e[n],t[n]));return e}const ir=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,or=()=>{try{return ir()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/social-app-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&nr(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},sr=()=>{var e;return null===(e=or())||void 0===e?void 0:e.config};class ar{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function lr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tr(JSON.stringify({alg:"none",type:"JWT"})),tr(JSON.stringify(o)),""].join(".")}function cr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ur(){var e;const t=null===(e=or())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function dr(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function hr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fr(){const e=cr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pr(){try{return"object"===typeof indexedDB}catch(e){return!1}}class mr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}}class gr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(vr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new mr(n,o,t)}}const vr=/\{\$([^}]+)}/g;function yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function br(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(wr(n)&&wr(o)){if(!br(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wr(e){return null!==e&&"object"===typeof e}function _r(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function xr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Cr(e,t){const n=new kr(e,t);return n.subscribe.bind(n)}class kr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ir),void 0===r.error&&(r.error=Ir),void 0===r.complete&&(r.complete=Ir);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ir(){}function Tr(e){return e&&e._delegate?e._delegate:e}class Er{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rr="[DEFAULT]";class Pr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ar;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Or(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Or(e){return e===Rr?void 0:e}class Ar{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Nr=[];var Mr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mr||(Mr={}));const Dr={debug:Mr.DEBUG,verbose:Mr.VERBOSE,info:Mr.INFO,warn:Mr.WARN,error:Mr.ERROR,silent:Mr.SILENT},Lr=Mr.INFO,zr={[Mr.DEBUG]:"log",[Mr.VERBOSE]:"log",[Mr.INFO]:"info",[Mr.WARN]:"warn",[Mr.ERROR]:"error"},jr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=zr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Fr{constructor(e){this.name=e,this._logLevel=Lr,this._logHandler=jr,this._userLogHandler=null,Nr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Dr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.DEBUG,...t),this._logHandler(this,Mr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.VERBOSE,...t),this._logHandler(this,Mr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.INFO,...t),this._logHandler(this,Mr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.WARN,...t),this._logHandler(this,Mr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.ERROR,...t),this._logHandler(this,Mr.ERROR,...t)}}const Ur=(e,t)=>t.some((t=>e instanceof t));let Zr,Br;const Vr=new WeakMap,Wr=new WeakMap,Hr=new WeakMap,qr=new WeakMap,Gr=new WeakMap;let Kr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Hr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Qr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Br||(Br=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jr(this),n),Yr(Vr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yr(e.apply(Jr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Jr(this),t,...r);return Hr.set(o,t.sort?t.sort():[t]),Yr(o)}}function Xr(e){return"function"===typeof e?Qr(e):(e instanceof IDBTransaction&&function(e){if(Wr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Wr.set(e,t)}(e),Ur(e,Zr||(Zr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Kr):e)}function Yr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Yr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Vr.set(t,e)})).catch((()=>{})),Gr.set(t,e),t}(e);if(qr.has(e))return qr.get(e);const t=Xr(e);return t!==e&&(qr.set(e,t),Gr.set(t,e)),t}const Jr=e=>Gr.get(e);const $r=["get","getKey","getAll","getAllKeys","count"],ei=["put","add","delete","clear"],ti=new Map;function ni(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ti.get(t))return ti.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ei.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$r.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ti.set(t,o),o}Kr=(e=>({...e,get:(t,n,r)=>ni(t,n)||e.get(t,n,r),has:(t,n)=>!!ni(t,n)||e.has(t,n)}))(Kr);class ri{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ii="@firebase/app",oi="0.9.24",si=new Fr("@firebase/app"),ai="[DEFAULT]",li={[ii]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ci=new Map,ui=new Map;function di(e,t){try{e.container.addComponent(t)}catch(n){si.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function hi(e,t){e.container.addOrOverwriteComponent(t)}function fi(e){const t=e.name;if(ui.has(t))return si.debug("There were multiple attempts to register component ".concat(t,".")),!1;ui.set(t,e);for(const n of ci.values())di(n,e);return!0}function pi(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ai;pi(e,t).clearInstance(n)}function gi(){ui.clear()}const vi=new gr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Er("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}const bi="10.7.0";function wi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ai,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=sr()),!n)throw vi.create("no-options");const o=ci.get(i);if(o){if(br(n,o.options)&&br(r,o.config))return o;throw vi.create("duplicate-app",{appName:i})}const s=new Ar(i);for(const l of ui.values())s.addComponent(l);const a=new yi(n,r,s);return ci.set(i,a),a}function _i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai;const t=ci.get(e);if(!t&&e===ai&&sr())return wi();if(!t)throw vi.create("no-app",{appName:e});return t}function Si(){return Array.from(ci.values())}async function xi(e){const t=e.name;ci.has(t)&&(ci.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ci(e,t,n){var r;let i=null!==(r=li[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void si.warn(e.join(" "))}fi(new Er("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function ki(e,t){if(null!==e&&"function"!==typeof e)throw vi.create("invalid-log-argument");!function(e,t){for(const n of Nr){let r=null;t&&t.level&&(r=Dr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Mr[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Ii(e){var t;t=e,Nr.forEach((e=>{e.setLogLevel(t)}))}const Ti="firebase-heartbeat-database",Ei=1,Ri="firebase-heartbeat-store";let Pi=null;function Oi(){return Pi||(Pi=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Yr(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Yr(s.result),e.oldVersion,e.newVersion,Yr(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ti,Ei,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ri)}}).catch((e=>{throw vi.create("idb-open",{originalErrorMessage:e.message})}))),Pi}async function Ai(e,t){try{const n=(await Oi()).transaction(Ri,"readwrite"),r=n.objectStore(Ri);await r.put(t,Ni(e)),await n.done}catch(n){if(n instanceof mr)si.warn(n.message);else{const e=vi.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});si.warn(e.message)}}}function Ni(e){return"".concat(e.name,"!").concat(e.options.appId)}class Mi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Li(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Di();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Di(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),zi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=tr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Di(){return(new Date).toISOString().substring(0,10)}class Li{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!pr()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Oi();return await t.transaction(Ri).objectStore(Ri).get(Ni(e))}catch(t){if(t instanceof mr)si.warn(t.message);else{const e=vi.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});si.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ai(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ai(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zi(e){return tr(JSON.stringify({version:2,heartbeats:e})).length}var ji;ji="",fi(new Er("platform-logger",(e=>new ri(e)),"PRIVATE")),fi(new Er("heartbeat",(e=>new Mi(e)),"PRIVATE")),Ci(ii,oi,ji),Ci(ii,oi,"esm2017"),Ci("fire-js","");class Fi{constructor(e,t){this._delegate=e,this.firebase=t,di(e,new Er("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),xi(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){di(this._delegate,e)}_addOrOverwriteComponent(e){hi(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ui=new gr("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Zi=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=wi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(yr(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Ci,setLogLevel:Ii,onLog:ki,apps:null,SDK_VERSION:bi,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(fi(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Ui.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&rr(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!yr(n,e=e||ai))throw Ui.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Fi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){rr(n,e)},createSubscribe:Cr,ErrorFactory:gr,deepExtend:rr}),n}(),Bi=new Fr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Bi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Bi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Vi=Zi;!function(e){Ci("@firebase/app-compat","0.2.24",e)}();function Wi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Hi={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},qi="EMAIL_SIGNIN",Gi="PASSWORD_RESET",Ki="RECOVER_EMAIL",Qi="REVERT_SECOND_FACTOR_ADDITION",Xi="VERIFY_AND_CHANGE_EMAIL",Yi="VERIFY_EMAIL";function Ji(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $i=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},eo=Ji,to=new gr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),no=new Fr("@firebase/auth");function ro(e){if(no.logLevel<=Mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];no.error("Auth (".concat(bi,"): ").concat(e),...n)}}function io(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw lo(e,...n)}function oo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lo(e,...n)}function so(e,t,n){const r=Object.assign(Object.assign({},eo()),{[t]:n});return new gr("auth","Firebase",r).create(t,{appName:e.name})}function ao(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&io(e,"argument-error"),so(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return to.create(e,...n)}function co(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw lo(t,...r)}}function uo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ro(t),new Error(t)}function ho(e,t){e||uo(t)}function fo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function po(){return"http:"===mo()||"https:"===mo()}function mo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class go{constructor(e,t){this.shortDelay=e,this.longDelay=t,ho(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())||hr()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(po()||dr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vo(e,t){ho(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class yo{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wo=new go(3e4,6e4);function _o(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function So(e,t,n,r){return xo(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=_r(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),yo.fetch()(ko(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function xo(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},bo),t);try{const t=new To(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Eo(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Eo(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Eo(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Eo(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw so(e,a,s);io(e,a)}}catch(i){if(i instanceof mr)throw i;io(e,"network-request-failed",{message:String(i)})}}async function Co(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await So(e,t,n,r,i);return"mfaPendingCredential"in o&&io(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ko(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Io(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class To{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(oo(this.auth,"network-request-failed"))),wo.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Eo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oo(e,t,r);return i.customData._tokenResponse=n,i}function Ro(e){return void 0!==e&&void 0!==e.getResponse}function Po(e){return void 0!==e&&void 0!==e.enterprise}class Oo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Io(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ao(e,t){return So(e,"GET","/v2/recaptchaConfig",_o(e,t))}function No(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Mo(e){return 1e3*Number(e)}function Do(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ro("JWT malformed, contained fewer than 3 sections"),null;try{const e=nr(n);return e?JSON.parse(e):(ro("Failed to decode base64 JWT payload"),null)}catch(i){return ro("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Lo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof mr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class zo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class jo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Lo(e,async function(e,t){return So(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));co(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Wi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jo(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){co(e.idToken,"internal-error"),co("undefined"!==typeof e.idToken,"internal-error"),co("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Do(e);return co(t,"internal-error"),co("undefined"!==typeof t.exp,"internal-error"),co("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return co(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await xo(e,{},(async()=>{const n=_r({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=ko(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",yo.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Uo;return n&&(co("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(co("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(co("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return uo("not implemented")}}function Zo(e,t){co("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Bo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Wi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jo(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return co(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Tr(e),r=await n.getIdToken(t),i=Do(r);co(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:No(Mo(i.auth_time)),issuedAtTime:No(Mo(i.iat)),expirationTime:No(Mo(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Tr(e);await Fo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(co(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){co(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Lo(this,async function(e,t){return So(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;co(y&&S,e,"internal-error");const x=Uo.fromJSON(this.name,S);co("string"===typeof y,e,"internal-error"),Zo(u,e.name),Zo(d,e.name),co("boolean"===typeof b,e,"internal-error"),co("boolean"===typeof w,e,"internal-error"),Zo(h,e.name),Zo(f,e.name),Zo(p,e.name),Zo(m,e.name),Zo(g,e.name),Zo(v,e.name);const C=new Bo({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(C.providerData=_.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Uo;r.updateFromServerResponse(t);const i=new Bo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Fo(i),i}}const Vo=new Map;function Wo(e){ho(e instanceof Function,"Expected a class definition");let t=Vo.get(e);return t?(ho(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vo.set(e,t),t)}class Ho{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ho.type="NONE";const qo=Ho;function Go(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ko{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Go(this.userKey,r.apiKey,i),this.fullPersistenceKey=Go("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ko(Wo(qo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Wo(qo);const o=Go(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Bo._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Ko(i,e,n)):new Ko(i,e,n)}}function Qo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($o(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ts(t))return"Blackberry";if(ns(t))return"Webos";if(Yo(t))return"Safari";if((t.includes("chrome/")||Jo(t))&&!t.includes("edge/"))return"Chrome";if(es(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Xo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/firefox\//i.test(e)}function Yo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/crios\//i.test(e)}function $o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/iemobile/i.test(e)}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/android/i.test(e)}function ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/blackberry/i.test(e)}function ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/webos/i.test(e)}function rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return rs(e)||es(e)||ns(e)||ts(e)||/windows phone/i.test(e)||$o(e)}function os(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qo(cr());break;case"Worker":t="".concat(Qo(cr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bi,"/").concat(r)}class ss{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(Q){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class as{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ls{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new us(this),this.idTokenSubscription=new us(this),this.beforeStateQueue=new ss(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=to,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return co(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fo(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Tr(e):null;return t&&co(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&co(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Wo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return So(e,"GET","/v2/passwordPolicy",_o(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new as(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return So(e,"POST","/v2/accounts:revokeToken",_o(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wo(e)||this._popupRedirectResolver;co(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Wo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(co(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return co(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=os(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(no.logLevel<=Mr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];no.warn("Auth (".concat(bi,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function cs(e){return Tr(e)}class us{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cr((e=>this.observer=e))}get next(){return co(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ds(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=oo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class fs{constructor(e){this.type="recaptcha-enterprise",this.auth=cs(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Po(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ao(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Oo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Po(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));ds("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ps(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new fs(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ms(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ps(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ps(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function gs(e,t,n){const r=cs(e);co(r._canInitEmulator,r,"emulator-config-failed"),co(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=vs(t),{host:s,port:a}=function(e){const t=vs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ys(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ys(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function vs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ys(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class bs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return uo("not implemented")}_getIdTokenResponse(e){return uo("not implemented")}_linkToIdToken(e,t){return uo("not implemented")}_getReauthenticationResolver(e){return uo("not implemented")}}async function ws(e,t){return So(e,"POST","/v1/accounts:resetPassword",_o(e,t))}async function _s(e,t){return So(e,"POST","/v1/accounts:signUp",t)}async function Ss(e,t){return Co(e,"POST","/v1/accounts:signInWithPassword",_o(e,t))}async function xs(e,t){return So(e,"POST","/v1/accounts:sendOobCode",_o(e,t))}async function Cs(e,t){return xs(e,t)}async function ks(e,t){return xs(e,t)}class Is extends bs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Is(e,t,"password")}static _fromEmailAndCode(e,t){return new Is(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ms(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ss);case"emailLink":return async function(e,t){return Co(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}(e,{email:this._email,oobCode:this._password});default:io(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ms(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_s);case"emailLink":return async function(e,t){return Co(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:io(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ts(e,t){return Co(e,"POST","/v1/accounts:signInWithIdp",_o(e,t))}class Es extends bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):io("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Wi(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Es(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ts(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ts(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ts(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_r(t)}return e}}const Rs={USER_NOT_FOUND:"user-not-found"};class Ps extends bs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ps({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ps({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Co(e,"POST","/v1/accounts:signInWithPhoneNumber",_o(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Co(e,"POST","/v1/accounts:signInWithPhoneNumber",_o(e,t));if(n.temporaryProof)throw Eo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Co(e,"POST","/v1/accounts:signInWithPhoneNumber",_o(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Rs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ps({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Os{constructor(e){var t,n,r,i,o,s;const a=Sr(xr(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);co(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Sr(xr(e)).link,n=t?Sr(xr(t)).deep_link_id:null,r=Sr(xr(e)).deep_link_id;return(r?Sr(xr(r)).link:null)||r||n||t||e}(e);try{return new Os(t)}catch(n){return null}}}class As{constructor(){this.providerId=As.PROVIDER_ID}static credential(e,t){return Is._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Os.parseLink(t);return co(n,"argument-error"),Is._fromEmailAndCode(e,n.code,n.tenantId)}}As.PROVIDER_ID="password",As.EMAIL_PASSWORD_SIGN_IN_METHOD="password",As.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ns{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ms extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ds extends Ms{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return co("providerId"in t&&"signInMethod"in t,"argument-error"),Es._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return co(e.idToken||e.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ds.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ds.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Ds(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class Ls extends Ms{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch(n){return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ls.PROVIDER_ID="facebook.com";class zs extends Ms{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Es._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zs.credential(n,r)}catch(i){return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com",zs.PROVIDER_ID="google.com";class js extends Ms{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch(n){return null}}}js.GITHUB_SIGN_IN_METHOD="github.com",js.PROVIDER_ID="github.com";class Fs extends bs{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ts(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ts(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ts(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Fs(n,i):null}static _create(e,t){return new Fs(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Us extends Ns{constructor(e){co(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Us.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Us.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Fs.fromJSON(e);return co(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Fs._create(r,n)}catch(i){return null}}}class Zs extends Ms{constructor(){super("twitter.com")}static credential(e,t){return Es._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zs.credential(n,r)}catch(i){return null}}}async function Bs(e,t){return Co(e,"POST","/v1/accounts:signUp",_o(e,t))}Zs.TWITTER_SIGN_IN_METHOD="twitter.com",Zs.PROVIDER_ID="twitter.com";class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Bo._fromIdTokenResponse(e,n,r),o=Ws(n);return new Vs({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ws(n);return new Vs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ws(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Hs extends mr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Hs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Hs(e,t,n,r)}}function qs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hs._fromErrorAndOperation(e,n,t,r);throw n}))}function Gs(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ks(e,t){const n=Tr(e);await Xs(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return So(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Gs(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Qs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Lo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Vs._forOperation(e,"link",r)}async function Xs(e,t,n){await Fo(t);const r=!1===e?"provider-already-linked":"no-such-provider";co(Gs(t.providerData).has(n)===e,t.auth,r)}async function Ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await Lo(e,qs(r,i,t,e),n);co(o.idToken,r,"internal-error");const s=Do(o.idToken);co(s,r,"internal-error");const{sub:a}=s;return co(e.uid===a,r,"user-mismatch"),Vs._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&io(r,"user-mismatch"),o}}async function Js(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await qs(e,r,t),o=await Vs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function $s(e,t){return Js(cs(e),t)}async function ea(e,t){const n=Tr(e);return await Xs(!1,n,t.providerId),Qs(n,t)}async function ta(e,t){return Ys(Tr(e),t)}async function na(e,t){const n=cs(e),r=await async function(e,t){return Co(e,"POST","/v1/accounts:signInWithCustomToken",_o(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Vs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ra{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ia._fromServerResponse(e,t):"totpInfo"in t?oa._fromServerResponse(e,t):io(e,"internal-error")}}class ia extends ra{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ia(t)}}class oa extends ra{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new oa(t)}}function sa(e,t,n){var r;co((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),co("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(co(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(co(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function aa(e){const t=cs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function la(e,t){await async function(e,t){return So(e,"POST","/v1/accounts:update",_o(e,t))}(Tr(e),{oobCode:t})}async function ca(e,t){const n=Tr(e),r=await ws(n,{oobCode:t}),i=r.requestType;switch(co(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":co(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":co(r.mfaInfo,n,"internal-error");default:co(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=ra._fromServerResponse(cs(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function ua(e,t){const n={identifier:t,continueUri:po()?fo():"http://localhost"},{signinMethods:r}=await async function(e,t){return So(e,"POST","/v1/accounts:createAuthUri",_o(e,t))}(Tr(e),n);return r||[]}async function da(e,t){const n=Tr(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&sa(n.auth,r,t);const{email:i}=await async function(e,t){return xs(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function ha(e,t,n){const r=Tr(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&sa(r.auth,i,n);const{email:o}=await async function(e,t){return xs(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function fa(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Tr(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Lo(i,async function(e,t){return So(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function pa(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Lo(e,async function(e,t){return So(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class ma{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ga extends ma{constructor(e,t,n,r){super(e,t,n),this.username=r}}class va extends ma{constructor(e,t){super(e,"facebook.com",t)}}class ya extends ga{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ba extends ma{constructor(e,t){super(e,"google.com",t)}}class wa extends ga{constructor(e,t,n){super(e,"twitter.com",t,n)}}function _a(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Do(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ma(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new va(o,i);case"github.com":return new ya(o,i);case"google.com":return new ba(o,i);case"twitter.com":return new wa(o,i,e.screenName||null);case"custom":case"anonymous":return new ma(o,null);default:return new ma(o,r,i)}}(n)}class Sa{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Sa("enroll",e,t)}static _fromMfaPendingCredential(e){return new Sa("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Sa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Sa._fromIdtoken(e.multiFactorSession.idToken)}return null}}class xa{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=cs(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ra._fromServerResponse(n,e)));co(r.mfaPendingCredential,n,"internal-error");const o=Sa._fromMfaPendingCredential(r.mfaPendingCredential);return new xa(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Vs._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return co(t.user,n,"internal-error"),Vs._forOperation(t.user,t.operationType,s);default:io(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ca{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ra._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ca(e)}async getSession(){return Sa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Lo(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Lo(this.user,function(e,t){return So(e,"POST","/v2/accounts/mfaEnrollment:withdraw",_o(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const ka=new WeakMap;const Ia="__sak";class Ta{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ia,"1"),this.storage.removeItem(Ia),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ea extends Ta{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=cr();return Yo(e)||rs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=is(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);fr()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ea.type="LOCAL";const Ra=Ea;class Pa extends Ta{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pa.type="SESSION";const Oa=Pa;class Aa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Aa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Aa.receivers=[];class Ma{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Na("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Da(){return window}function La(){return"undefined"!==typeof Da().WorkerGlobalScope&&"function"===typeof Da().importScripts}const za="firebaseLocalStorageDb",ja="firebaseLocalStorage",Fa="fbase_key";class Ua{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Za(e,t){return e.transaction([ja],t?"readwrite":"readonly").objectStore(ja)}function Ba(){const e=indexedDB.open(za,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ja,{keyPath:Fa})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ja)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(za);return new Ua(e).toPromise()}(),t(await Ba()))}))}))}async function Va(e,t,n){const r=Za(e,!0).put({[Fa]:t,value:n});return new Ua(r).toPromise()}function Wa(e,t){const n=Za(e,!0).delete(t);return new Ua(n).toPromise()}class Ha{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ba()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return La()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Aa._getInstance(La()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ma(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ba();return await Va(e,Ia,"1"),await Wa(e,Ia),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Va(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Za(e,!1).get(t),r=await new Ua(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Wa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Za(e,!1).getAll();return new Ua(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ha.type="LOCAL";const qa=Ha;const Ga=1e12;class Ka{constructor(e){this.auth=e,this.counter=Ga,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Qa(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ga;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ga;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ga;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Qa{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;co(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xa=hs("rcb"),Ya=new go(3e4,6e4);class Ja{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Da().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return co(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ro(Da().grecaptcha)?Promise.resolve(Da().grecaptcha):new Promise(((n,r)=>{const i=Da().setTimeout((()=>{r(oo(e,"network-request-failed"))}),Ya.get());Da()[Xa]=()=>{Da().clearTimeout(i),delete Da()[Xa];const o=Da().grecaptcha;if(!o||!Ro(o))return void r(oo(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};ds("".concat("https://www.google.com/recaptcha/api.js?","?").concat(_r({onload:Xa,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(oo(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Da().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $a{async load(e){return new Ka(e)}clearedOneInstance(){}}const el="recaptcha",tl={theme:"light",type:"image"};class nl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},tl);this.parameters=n,this.type=el,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cs(e),this.isInvisible="invisible"===this.parameters.size,co("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;co(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $a:new Ja,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){co(!this.parameters.sitekey,this.auth,"argument-error"),co(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),co("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Da()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){co(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){co(po()&&!La(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await So(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);co(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return co(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rl{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ps._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function il(e,t,n){var r;const i=await n.verify();try{let o;if(co("string"===typeof i,e,"argument-error"),co(n.type===el,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){co("enroll"===t.type,e,"internal-error");const n=await function(e,t){return So(e,"POST","/v2/accounts/mfaEnrollment:start",_o(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{co("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;co(n,e,"missing-multi-factor-info");const s=await function(e,t){return So(e,"POST","/v2/accounts/mfaSignIn:start",_o(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return So(e,"POST","/v1/accounts:sendVerificationCode",_o(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ol{constructor(e){this.providerId=ol.PROVIDER_ID,this.auth=cs(e)}verifyPhoneNumber(e,t){return il(this.auth,e,Tr(t))}static credential(e,t){return Ps._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ol.credentialFromTaggedObject(t)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ps._fromTokenResponse(n,r):null}}function sl(e,t){return t?Wo(t):(co(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ol.PROVIDER_ID="phone",ol.PHONE_SIGN_IN_METHOD="phone";class al extends bs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ts(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ts(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ts(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ll(e){return Js(e.auth,new al(e),e.bypassAuthState)}function cl(e){const{auth:t,user:n}=e;return co(n,t,"internal-error"),Ys(n,new al(e),e.bypassAuthState)}async function ul(e){const{auth:t,user:n}=e;return co(n,t,"internal-error"),Qs(n,new al(e),e.bypassAuthState)}class dl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ll;case"linkViaPopup":case"linkViaRedirect":return ul;case"reauthViaPopup":case"reauthViaRedirect":return cl;default:io(this.auth,"internal-error")}}resolve(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hl=new go(2e3,1e4);async function fl(e,t,n){const r=cs(e);ao(e,t,Ns);const i=sl(r,n);return new pl(r,"signInViaPopup",t,i).executeNotNull()}class pl extends dl{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return co(e,this.auth,"internal-error"),e}async onExecution(){ho(1===this.filter.length,"Popup operations only handle one event");const e=Na();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(oo(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(oo(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,hl.get())};e()}}pl.currentPopupAction=null;const ml="pendingRedirect",gl=new Map;class vl extends dl{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=gl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=_l(t),r=wl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}gl.set(this.auth._key(),e)}return this.bypassAuthState||gl.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function yl(e,t){return wl(e)._set(_l(t),"true")}function bl(e,t){gl.set(e._key(),t)}function wl(e){return Wo(e._redirectPersistence)}function _l(e){return Go(ml,e.config.apiKey,e.name)}function Sl(e,t,n){return async function(e,t,n){const r=cs(e);ao(e,t,Ns),await r._initializationPromise;const i=sl(r,n);return await yl(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function xl(e,t,n){return async function(e,t,n){const r=Tr(e);ao(r.auth,t,Ns),await r.auth._initializationPromise;const i=sl(r.auth,n);await yl(i,r.auth);const o=await Il(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Cl(e,t,n){return async function(e,t,n){const r=Tr(e);ao(r.auth,t,Ns),await r.auth._initializationPromise;const i=sl(r.auth,n);await Xs(!1,r,t.providerId),await yl(i,r.auth);const o=await Il(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=cs(e),i=sl(r,t),o=new vl(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Il(e){const t=Na("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Tl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Rl(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(oo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(El(e))}saveEventToCache(e){this.cachedEventUids.add(El(e)),this.lastProcessedEventTime=Date.now()}}function El(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Rl(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Pl(e){return So(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ol=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Al=/^https?/;function Nl(e){const t=fo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Al.test(n))return!1;if(Ol.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ml=new go(3e4,6e4);function Dl(){const e=Da().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ll=null;function zl(e){return Ll=Ll||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Dl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dl(),n(oo(e,"network-request-failed"))},timeout:Ml.get()})}if(null===(i=null===(r=Da().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Da().gapi)||void 0===o?void 0:o.load)){const t=hs("iframefcb");return Da()[t]=()=>{gapi.load?s():n(oo(e,"network-request-failed"))},ds("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Ll=null,e}))}(e),Ll}const jl=new go(5e3,15e3),Fl="__/auth/iframe",Ul="emulator/auth/iframe",Zl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vl(e){const t=e.config;co(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vo(t,Ul):"https://".concat(e.config.authDomain,"/").concat(Fl),r={apiKey:t.apiKey,appName:e.name,v:bi},i=Bl.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(_r(r).slice(1))}const Wl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ql(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Wl),{width:r.toString(),height:i.toString(),top:o,left:s}),c=cr().toLowerCase();n&&(a=Jo(c)?"_blank":n),Xo(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return rs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Hl(null);const d=window.open(t||"",a,u);co(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Hl(d)}const Gl="__/auth/handler",Kl="emulator/auth/handler",Ql=encodeURIComponent("fac");async function Xl(e,t,n,r,i,o){co(e.config.authDomain,e,"auth-domain-config-required"),co(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bi,eventId:i};if(t instanceof Ns){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Ms){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ql,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gl);return vo(t,Kl)}(e),"?").concat(_r(a).slice(1)).concat(c)}const Yl="webStorageSupport";const Jl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oa,this._completeRedirectFn=kl,this._overrideRedirectResult=bl}async _openPopup(e,t,n,r){var i;ho(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ql(e,await Xl(e,t,n,fo(),r),Na())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Da().location.href=e}(await Xl(e,t,n,fo(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ho(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await zl(e),n=Da().gapi;return co(n,e,"internal-error"),t.open({where:document.body,url:Vl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=oo(e,"network-request-failed"),o=Da().setTimeout((()=>{r(i)}),jl.get());function s(){Da().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Tl(e);return t.register("authEvent",(t=>{co(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yl,{type:Yl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Yl];void 0!==i&&t(!!i),io(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Pl(e);for(const r of t)try{if(Nl(r))return}catch(n){}io(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return is()||Yo()||rs()}};class $l{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return uo("unexpected MultiFactorSessionType")}}}class ec extends $l{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ec(e)}_finalizeEnroll(e,t,n){return function(e,t){return So(e,"POST","/v2/accounts/mfaEnrollment:finalize",_o(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return So(e,"POST","/v2/accounts/mfaSignIn:finalize",_o(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class tc{constructor(){}static assertion(e){return ec._fromCredential(e)}}tc.FACTOR_ID="phone";var nc="@firebase/auth",rc="1.5.0";class ic{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){co(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=or())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var oc;function sc(){return window}oc="Browser",fi(new Er("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;co(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:oc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:os(oc)},c=new ls(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),fi(new Er("auth-internal",(e=>(e=>new ic(e))(cs(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(nc,rc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(oc)),Ci(nc,rc,"esm2017");async function ac(e,t,n){var r;const{BuildInfo:i}=sc();ho(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(ho(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return rs()?s.ibi=i.packageName:es()?s.apn=i.packageName:io(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Xl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function lc(e){const{cordova:t}=sc();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const cc=20;class uc extends Tl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function dc(e){const t=await pc()._get(mc(e));return t&&await pc()._remove(mc(e)),t}function hc(e,t){var n,r;const i=function(e){const t=gc(e),n=t.link?decodeURIComponent(t.link):void 0,r=gc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return gc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=gc(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?oo(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function fc(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<cc;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function pc(){return Wo(Ra)}function mc(e){return Go("authEvent",e.config.apiKey,e.name)}function gc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Sr(n.join("?"))}const vc=class{constructor(){this._redirectPersistence=Oa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kl,this._overrideRedirectResult=bl}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new uc(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){io(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=sc();co("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),co("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),co("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),co("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),co("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),gl.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:fc(),postBody:null,tenantId:e.tenantId,error:oo(e,"no-auth-event")}}(e,n,r);await function(e,t){return pc()._set(mc(e),t)}(e,o);const s=await ac(e,o,t);return async function(e,t,n){const{cordova:r}=sc();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(oo(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),es()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await lc(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=sc(),n={};rs()?n.iosBundleId=t.packageName:es()?n.androidPackageName=t.packageName:io(e,"operation-not-supported-in-this-environment"),await Pl(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=sc(),o=setTimeout((async()=>{await dc(e),t.onEvent(yc())}),500),s=async n=>{clearTimeout(o);const r=await dc(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=hc(r,n.url)),t.onEvent(i||yc())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");sc().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function yc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:oo("no-auth-event")}}function bc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function wc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return!("file:"!==bc()&&"ionic:"!==bc()&&"capacitor:"!==bc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return fr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/Edge\/\d+/.test(e)}(e)}function Sc(){try{const e=self.localStorage,t=Na();if(e)return e.setItem(t,"1"),e.removeItem(t),!_c()||pr()}catch(e){return xc()&&pr()}return!1}function xc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Cc(){return("http:"===bc()||"https:"===bc()||dr()||wc())&&!(hr()||ur())&&Sc()&&!xc()}function kc(){return wc()&&"undefined"!==typeof document}const Ic={LOCAL:"local",NONE:"none",SESSION:"session"},Tc=co,Ec="persistence";async function Rc(e){await e._initializationPromise;const t=Pc(),n=Go(Ec,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Pc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Oc=co;class Ac{constructor(){this.browserResolver=Wo(Jl),this.cordovaResolver=Wo(vc),this.underlyingResolver=null,this._redirectPersistence=Oa,this._completeRedirectFn=kl,this._overrideRedirectResult=bl}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return kc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oc(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!kc()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Nc(e){return e.unwrap()}function Mc(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new jc(e,function(e,t){var n;const r=Tr(e),i=t;return co(t.customData.operationType,r,"argument-error"),co(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),xa._fromError(r,i)}(e,t))}else if(r){const e=Dc(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Dc(e){const{_tokenResponse:t}=e instanceof mr?e.customData:e;if(!t)return null;if(!(e instanceof mr)&&"temporaryProof"in t&&"phoneNumber"in t)return ol.credentialFromResult(e);const n=t.providerId;if(!n||n===Hi.PASSWORD)return null;let r;switch(n){case Hi.GOOGLE:r=zs;break;case Hi.FACEBOOK:r=Ls;break;case Hi.GITHUB:r=js;break;case Hi.TWITTER:r=Zs;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?Fs._create(n,s):Es._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Ds(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof mr?r.credentialFromError(e):r.credentialFromResult(e)}function Lc(e,t){return t.catch((t=>{throw t instanceof mr&&Mc(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Dc(r)),additionalUserInfo:_a(e),user:Fc.getOrCreate(n)};var r}))}async function zc(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Lc(e,n.confirm(t))}}class jc{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Lc(Nc(this.auth),this.resolver.resolveSignIn(e))}}class Fc{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Tr(e);return ka.has(t)||ka.set(t,Ca._fromUser(t)),ka.get(t)}(e)}static getOrCreate(e){return Fc.USER_MAP.has(e)||Fc.USER_MAP.set(e,new Fc(e)),Fc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Lc(this.auth,ea(this._delegate,e))}async linkWithPhoneNumber(e,t){return zc(this.auth,async function(e,t,n){const r=Tr(e);await Xs(!1,r,"phone");const i=await il(r.auth,t,Tr(n));return new rl(i,(e=>ea(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Lc(this.auth,async function(e,t,n){const r=Tr(e);ao(r.auth,t,Ns);const i=sl(r.auth,n);return new pl(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ac))}async linkWithRedirect(e){return await Rc(cs(this.auth)),Cl(this._delegate,e,Ac)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Lc(this.auth,ta(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return zc(this.auth,async function(e,t,n){const r=Tr(e),i=await il(r.auth,t,Tr(n));return new rl(i,(e=>ta(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Lc(this.auth,async function(e,t,n){const r=Tr(e);ao(r.auth,t,Ns);const i=sl(r.auth,n);return new pl(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ac))}async reauthenticateWithRedirect(e){return await Rc(cs(this.auth)),xl(this._delegate,e,Ac)}sendEmailVerification(e){return da(this._delegate,e)}async unlink(e){return await Ks(this._delegate,e),this}updateEmail(e){return function(e,t){return pa(Tr(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return pa(Tr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Qs(Tr(e),t)}(this._delegate,e)}updateProfile(e){return fa(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return ha(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fc.USER_MAP=new WeakMap;const Uc=co;class Zc{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Uc(n,"invalid-api-key",{appName:e.name}),Uc(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Ac:void 0;this._delegate=t.initialize({options:{persistence:Vc(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap($i),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){gs(this._delegate,e,t)}applyActionCode(e){return la(this._delegate,e)}checkActionCode(e){return ca(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ws(Tr(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&aa(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Lc(this._delegate,async function(e,t,n){const r=cs(e),i=ms(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bs),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&aa(e),t})),s=await Vs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ua(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Os.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Uc(Cc(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await cs(e)._initializationPromise,kl(e,t,!1)}(this._delegate,Ac);return e?Lc(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){cs(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Bc(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Bc(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=cs(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){co(t.handleCodeInApp,r,"argument-error"),t&&sa(r,e,t)}(i,n),await ms(r,i,"getOobCode",ks)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=cs(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&sa(r,i,n),await ms(r,i,"getOobCode",Cs)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Tc(Object.values(Ic).includes(t),e,"invalid-persistence-type"),hr()?Tc(t!==Ic.SESSION,e,"unsupported-persistence-type"):ur()?Tc(t===Ic.NONE,e,"unsupported-persistence-type"):xc()?Tc(t===Ic.NONE||t===Ic.LOCAL&&pr(),e,"unsupported-persistence-type"):Tc(t===Ic.NONE||Sc(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Ic.SESSION:t=Oa;break;case Ic.LOCAL:t=await Wo(qa)._isAvailable()?qa:Ra;break;case Ic.NONE:t=qo;break;default:return io("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Lc(this._delegate,async function(e){var t;const n=cs(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Vs({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Bs(n,{returnSecureToken:!0}),i=await Vs._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Lc(this._delegate,$s(this._delegate,e))}signInWithCustomToken(e){return Lc(this._delegate,na(this._delegate,e))}signInWithEmailAndPassword(e,t){return Lc(this._delegate,function(e,t,n){return $s(Tr(e),As.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&aa(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Lc(this._delegate,async function(e,t,n){const r=Tr(e),i=As.credentialWithLink(t,n||fo());return co(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$s(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return zc(this._delegate,async function(e,t,n){const r=cs(e),i=await il(r,t,Tr(n));return new rl(i,(e=>$s(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Uc(Cc(),this._delegate,"operation-not-supported-in-this-environment"),Lc(this._delegate,fl(this._delegate,e,Ac))}async signInWithRedirect(e){return Uc(Cc(),this._delegate,"operation-not-supported-in-this-environment"),await Rc(this._delegate),Sl(this._delegate,e,Ac)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await ca(Tr(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Bc(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Fc.getOrCreate(e)),error:t,complete:n}}function Vc(e,t){const n=function(e,t){const n=Pc();if(!n)return[];const r=Go(Ec,e,t);switch(n.getItem(r)){case Ic.NONE:return[qo];case Ic.LOCAL:return[qa,Oa];case Ic.SESSION:return[Oa];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(qa)||n.push(qa),"undefined"!==typeof window)for(const r of[Ra,Oa])n.includes(r)||n.push(r);return n.includes(qo)||n.push(qo),n}Zc.Persistence=Ic;class Wc{constructor(){this.providerId="phone",this._delegate=new ol(Nc(Vi.auth()))}static credential(e,t){return ol.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Wc.PHONE_SIGN_IN_METHOD=ol.PHONE_SIGN_IN_METHOD,Wc.PROVIDER_ID=ol.PROVIDER_ID;const Hc=co;class qc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vi.app();var r;Hc(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new nl(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Gc;(Gc=Vi).INTERNAL.registerComponent(new Er("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Zc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qi,PASSWORD_RESET:Gi,RECOVER_EMAIL:Ki,REVERT_SECOND_FACTOR_ADDITION:Qi,VERIFY_AND_CHANGE_EMAIL:Xi,VERIFY_EMAIL:Yi}},EmailAuthProvider:As,FacebookAuthProvider:Ls,GithubAuthProvider:js,GoogleAuthProvider:zs,OAuthProvider:Ds,SAMLAuthProvider:Us,PhoneAuthProvider:Wc,PhoneMultiFactorGenerator:tc,RecaptchaVerifier:qc,TwitterAuthProvider:Zs,Auth:Zc,AuthCredential:bs,Error:mr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Gc.registerVersion("@firebase/auth-compat","0.5.0");const Kc="firebasestorage.googleapis.com",Qc="storageBucket";class Xc extends mr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super($c(e),"Firebase Storage: ".concat(t," (").concat($c(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $c(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Yc,Jc;function $c(e){return"storage/"+e}function eu(){return new Xc(Yc.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tu(){return new Xc(Yc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nu(){return new Xc(Yc.CANCELED,"User canceled the upload/download.")}function ru(){return new Xc(Yc.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iu(e){return new Xc(Yc.INVALID_ARGUMENT,e)}function ou(){return new Xc(Yc.APP_DELETED,"The Firebase app was deleted.")}function su(e){return new Xc(Yc.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function au(e,t){return new Xc(Yc.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function lu(e){throw new Xc(Yc.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Yc||(Yc={}));class cu{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=cu.makeFromUrl(e,t)}catch(i){return new cu(e,"")}if(""===n.path)return n;throw r=e,new Xc(Yc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Kc?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new cu(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Xc(Yc.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class uu{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function du(e){return"string"===typeof e||e instanceof String}function hu(e){return fu()&&e instanceof Blob}function fu(){return"undefined"!==typeof Blob}function pu(e,t,n,r){if(r<t)throw iu("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw iu("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mu(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function gu(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function vu(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Jc||(Jc={}));class yu{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new bu(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Jc.NO_ERROR,i=n.getStatus();if(!t||vu(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Jc.ABORT;return void e(!1,new bu(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new bu(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=eu();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?ou():nu())}else{r(tu())}};this.canceled_?t(0,new bu(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bu{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function wu(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _u(){const e=wu();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(fu())return new Blob(n);throw new Xc(Yc.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Su(e){if("undefined"===typeof atob)throw t="base-64",new Xc(Yc.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const xu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cu{constructor(e,t){this.data=e,this.contentType=t||null}}function ku(e,t){switch(e){case xu.RAW:return new Cu(Iu(t));case xu.BASE64:case xu.BASE64URL:return new Cu(Tu(e,t));case xu.DATA_URL:return new Cu(function(e){const t=new Eu(e);return t.base64?Tu(xu.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw au(xu.DATA_URL,"Malformed data URL.")}return Iu(t)}(t.rest)}(t),new Eu(t).contentType)}throw eu()}function Iu(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Tu(e,t){switch(e){case xu.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw au(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case xu.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw au(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Su(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw au(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Eu{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw au(xu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Ru{constructor(e,t){let n=0,r="";hu(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(hu(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Ru(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Ru(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(fu()){const e=t.map((e=>e instanceof Ru?e.data_:e));return new Ru(_u.apply(null,e))}{const e=t.map((e=>du(e)?ku(xu.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Ru(r,!0)}}uploadData(){return this.data_}}function Pu(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ou(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Au(e,t){return t}class Nu{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Au}}let Mu=null;function Du(){if(Mu)return Mu;const e=[];e.push(new Nu("bucket")),e.push(new Nu("generation")),e.push(new Nu("metageneration")),e.push(new Nu("name","fullPath",!0));const t=new Nu("name");t.xform=function(e,t){return function(e){return!du(e)||e.length<2?e:Ou(e)}(t)},e.push(t);const n=new Nu("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Nu("timeCreated")),e.push(new Nu("updated")),e.push(new Nu("md5Hash",null,!0)),e.push(new Nu("cacheControl",null,!0)),e.push(new Nu("contentDisposition",null,!0)),e.push(new Nu("contentEncoding",null,!0)),e.push(new Nu("contentLanguage",null,!0)),e.push(new Nu("contentType",null,!0)),e.push(new Nu("metadata","customMetadata",!0)),Mu=e,Mu}function Lu(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new cu(n,r);return t._makeStorageReference(i)}})}(r,e),r}function zu(e,t,n){const r=Pu(t);if(null===r)return null;return Lu(e,r,n)}function ju(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const Fu="prefixes",Uu="items";function Zu(e,t,n){const r=Pu(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Fu])for(const i of n[Fu]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new cu(t,n));r.prefixes.push(o)}if(n[Uu])for(const i of n[Uu]){const n=e._makeStorageReference(new cu(t,i.name));r.items.push(n)}return r}(e,t,r)}class Bu{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Vu(e){if(!e)throw eu()}function Wu(e,t){return function(n,r){const i=zu(e,r,t);return Vu(null!==i),i}}function Hu(e,t){return function(n,r){const i=zu(e,r,t);return Vu(null!==i),function(e,t,n,r){const i=Pu(t);if(null===i)return null;if(!du(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return mu("/b/"+s(i)+"/o/"+s(o),n,r)+gu({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function qu(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Xc(Yc.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Xc(Yc.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Xc(Yc.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Xc(Yc.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Gu(e){const t=qu(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Xc(Yc.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ku(e,t,n){const r=mu(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Bu(r,"GET",Wu(e,n),i);return o.errorHandler=Gu(t),o}function Qu(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=mu(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new Bu(s,"GET",function(e,t){return function(n,r){const i=Zu(e,t,r);return Vu(null!==i),i}}(e,t.bucket),a);return l.urlParams=o,l.errorHandler=qu(t),l}function Xu(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Yu(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Xu(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ju(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=Ru.getBlob(c,r,u);if(null===d)throw ru();const h={name:l.fullPath},f=mu(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Bu(f,"POST",Wu(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=qu(t),m}class Ju{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function $u(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Vu(!1)}return Vu(!!n&&-1!==(t||["active"]).indexOf(n)),n}const ed=262144;function td(e,t,n,r,i,o,s,a){const l=new Ju(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Xc(Yc.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw ru();const g=t.maxUploadRetryTime,v=new Bu(n,"POST",(function(e,n){const i=$u(e,["active","final"]),s=l.current+u,a=r.size();let c;return c="final"===i?Wu(t,o)(e,n):null,new Ju(s,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=qu(e),v}const nd={STATE_CHANGED:"state_changed"},rd={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function id(e){switch(e){case"running":case"pausing":case"canceling":return rd.RUNNING;case"paused":return rd.PAUSED;case"success":return rd.SUCCESS;case"canceled":return rd.CANCELED;default:return rd.ERROR}}class od{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function sd(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let ad=null;class ld{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jc.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Jc.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Jc.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw lu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw lu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class cd extends ld{initXhr(){this.xhr_.responseType="text"}}function ud(){return ad?ad():new cd}class dd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Du(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Yc.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(vu(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=tu()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Yc.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=Xu(t,r,i),a={name:s.fullPath},l=mu(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=ju(s,n),d=e.maxUploadRetryTime,h=new Bu(l,"POST",(function(e){let t;$u(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Vu(!1)}return Vu(du(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=qu(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ud,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new Bu(n,"POST",(function(e){const t=$u(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Vu(!1)}n||Vu(!1);const i=Number(n);return Vu(!isNaN(i)),new Ju(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=qu(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,ud,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=ed*this._chunkMultiplier,t=new Ju(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=td(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,ud,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(ed*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Ku(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,ud,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Yu(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ud,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nu(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=id(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new od(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(id(this._state)){case rd.SUCCESS:sd(this._resolve.bind(null,this.snapshot))();break;case rd.CANCELED:case rd.ERROR:sd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(id(this._state)){case rd.RUNNING:case rd.PAUSED:e.next&&sd(e.next.bind(e,this.snapshot))();break;case rd.SUCCESS:e.complete&&sd(e.complete.bind(e))();break;default:e.error&&sd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class hd{constructor(e,t){this._service=e,this._location=t instanceof cu?t:cu.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hd(e,t)}get root(){const e=new cu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ou(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new cu(this._location.bucket,e);return new hd(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw su(e)}}function fd(e){const t={prefixes:[],items:[]};return pd(e,t).then((()=>t))}async function pd(e,t,n){const r={pageToken:n},i=await md(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await pd(e,t,i.nextPageToken)}function md(e,t){null!=t&&"number"===typeof t.maxResults&&pu("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Qu(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ud)}function gd(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=mu(t.fullServerUrl(),e.host,e._protocol),o=ju(n,r),s=e.maxOperationRetryTime,a=new Bu(i,"PATCH",Wu(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Gu(t),a}(e.storage,e._location,t,Du());return e.storage.makeRequestWithTokens(n,ud)}function vd(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=mu(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Bu(r,"GET",Hu(e,n),i);return o.errorHandler=Gu(t),o}(e.storage,e._location,Du());return e.storage.makeRequestWithTokens(t,ud).then((e=>{if(null===e)throw new Xc(Yc.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function yd(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=mu(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Bu(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Gu(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ud)}function bd(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new cu(e._location.bucket,n);return new hd(e.storage,r)}function wd(e,t){if(e instanceof xd){const n=e;if(null==n._bucket)throw new Xc(Yc.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Qc+"' property when initializing the app?");const r=new hd(n,n._bucket);return null!=t?wd(r,t):r}return void 0!==t?bd(e,t):e}function _d(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof xd)return new hd(e,t);throw iu("To use ref(service, url), the first argument must be a Storage instance.")}return wd(e,t)}function Sd(e,t){const n=null===t||void 0===t?void 0:t[Qc];return null==n?null:cu.makeFromBucketSpec(n,e)}class xd{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Kc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?cu.makeFromBucketSpec(r,this._host):Sd(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=cu.makeFromBucketSpec(this._url,e):this._bucket=Sd(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pu("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pu("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hd(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new uu(ou());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=gu(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new yu(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Cd="@firebase/storage",kd="0.12.0",Id="storage";function Td(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new dd(e,new Ru(t),n)}(e=Tr(e),t,n)}function Ed(e){return function(e){e._throwIfRoot("getMetadata");const t=Ku(e.storage,e._location,Du());return e.storage.makeRequestWithTokens(t,ud)}(e=Tr(e))}function Rd(e){return vd(e=Tr(e))}function Pd(e,t){return _d(e=Tr(e),t)}function Od(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:lr(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Ad(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new xd(r,i,o,n,bi)}fi(new Er(Id,Ad,"PUBLIC").setMultipleInstances(!0)),Ci(Cd,kd,""),Ci(Cd,kd,"esm2017");class Nd{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Md{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Nd(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Nd(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Nd(e,this,this._ref)):{next:t.next?e=>t.next(new Nd(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Dd{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Ld(e,this._service)))}get items(){return this._delegate.items.map((e=>new Ld(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ld{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return bd(e,t)}(this._delegate,e);return new Ld(t,this.storage)}get root(){return new Ld(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ld(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Md(Td(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xu.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=ku(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Md(new dd(this._delegate,new Ru(r.data,!0),i),this)}listAll(){return function(e){return fd(e=Tr(e))}(this._delegate).then((e=>new Dd(e,this.storage)))}list(e){return function(e,t){return md(e=Tr(e),t)}(this._delegate,e||void 0).then((e=>new Dd(e,this.storage)))}getMetadata(){return Ed(this._delegate)}updateMetadata(e){return function(e,t){return gd(e=Tr(e),t)}(this._delegate,e)}getDownloadURL(){return Rd(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return yd(e=Tr(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw su(e)}}class zd{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(jd(e))throw iu("ref() expected a child path but got a URL, use refFromURL instead.");return new Ld(Pd(this._delegate,e),this)}refFromURL(e){if(!jd(e))throw iu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cu.makeFromUrl(e,this._delegate.host)}catch(t){throw iu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ld(Pd(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Od(this._delegate,e,t,n)}}function jd(e){return/^[A-Za-z]+:\/\//.test(e)}function Fd(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new zd(r,i)}!function(e){const t={TaskState:rd,TaskEvent:nd,StringFormat:xu,Storage:zd,Reference:Ld};e.INTERNAL.registerComponent(new Er("storage-compat",Fd,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.3")}(Vi);var Ud,Zd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bd={},Vd=Vd||{},Wd=Zd||self;function Hd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gd="closure_uid_"+(1e9*Math.random()>>>0),Kd=0;function Qd(e,t,n){return e.call.apply(e.bind,arguments)}function Xd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Yd(e,t,n){return(Yd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qd:Xd).apply(null,arguments)}function Jd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function $d(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function eh(){this.s=this.s,this.o=this.o}eh.prototype.s=!1,eh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Gd)&&e[Gd]||(e[Gd]=++Kd)}(this)},eh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const th=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function nh(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function rh(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Hd(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ih(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ih.prototype.h=function(){this.defaultPrevented=!0};var oh=function(){if(!Wd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Wd.addEventListener("test",e,t),Wd.removeEventListener("test",e,t)}catch(F){}return e}();function sh(e){return/^[\s\xa0]*$/.test(e)}function ah(){var e=Wd.navigator;return e&&(e=e.userAgent)?e:""}function lh(e){return-1!=ah().indexOf(e)}function ch(e){return ch[" "](e),e}ch[" "]=function(){};var uh,dh,hh=lh("Opera"),fh=lh("Trident")||lh("MSIE"),ph=lh("Edge"),mh=ph||fh,gh=lh("Gecko")&&!(-1!=ah().toLowerCase().indexOf("webkit")&&!lh("Edge"))&&!(lh("Trident")||lh("MSIE"))&&!lh("Edge"),vh=-1!=ah().toLowerCase().indexOf("webkit")&&!lh("Edge");function yh(){var e=Wd.document;return e?e.documentMode:void 0}e:{var bh="",wh=function(){var e=ah();return gh?/rv:([^\);]+)(\)|;)/.exec(e):ph?/Edge\/([\d\.]+)/.exec(e):fh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vh?/WebKit\/(\S+)/.exec(e):hh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wh&&(bh=wh?wh[1]:""),fh){var _h=yh();if(null!=_h&&_h>parseFloat(bh)){uh=String(_h);break e}}uh=bh}if(Wd.document&&fh){var Sh=yh();dh=Sh||(parseInt(uh,10)||void 0)}else dh=void 0;var xh=dh;function Ch(e,t){if(ih.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gh){e:{try{ch(t.nodeName);var i=!0;break e}catch(j){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ch.$.h.call(this)}}$d(Ch,ih);var kh={2:"touch",3:"pen",4:"mouse"};Ch.prototype.h=function(){Ch.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ih="closure_listenable_"+(1e6*Math.random()|0),Th=0;function Eh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Th,this.fa=this.ia=!1}function Rh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ph(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Oh(e){const t={};for(const n in e)t[n]=e[n];return t}const Ah="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ah.length;t++)n=Ah[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Mh(e){this.src=e,this.g={},this.h=0}function Dh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=th(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Rh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lh(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Mh.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Lh(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Eh(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var zh="closure_lm_"+(1e6*Math.random()|0),jh={};function Fh(e,t,n,r,i){if(r&&r.once)return Zh(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Fh(e,t[o],n,r,i);return null}return n=Kh(n),e&&e[Ih]?e.O(t,n,qd(r)?!!r.capture:!!r,i):Uh(e,t,n,!1,r,i)}function Uh(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=qd(i)?!!i.capture:!!i,a=qh(e);if(a||(e[zh]=a=new Mh(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Hh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oh||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Zh(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zh(e,t[o],n,r,i);return null}return n=Kh(n),e&&e[Ih]?e.P(t,n,qd(r)?!!r.capture:!!r,i):Uh(e,t,n,!0,r,i)}function Bh(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Bh(e,t[o],n,r,i);else r=qd(r)?!!r.capture:!!r,n=Kh(n),e&&e[Ih]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lh(o=e.g[t],n,r,i))&&(Rh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=qh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lh(t,n,r,i)),(n=-1<e?t[e]:null)&&Vh(n))}function Vh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ih])Dh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qh(t))?(Dh(n,e),0==n.h&&(n.src=null,t[zh]=null)):Rh(e)}}}function Wh(e){return e in jh?jh[e]:jh[e]="on"+e}function Hh(e,t){if(e.fa)e=!0;else{t=new Ch(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vh(e),e=n.call(r,t)}return e}function qh(e){return(e=e[zh])instanceof Mh?e:null}var Gh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kh(e){return"function"===typeof e?e:(e[Gh]||(e[Gh]=function(t){return e.handleEvent(t)}),e[Gh])}function Qh(){eh.call(this),this.i=new Mh(this),this.S=this,this.J=null}function Xh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ih(t,e);else if(t instanceof ih)t.target=t.target||e;else{var i=t;Nh(t=new ih(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Yh(s,r,!0,t)&&i}if(i=Yh(s=t.g=e,r,!0,t)&&i,i=Yh(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Yh(s=t.g=n[o],r,!1,t)&&i}function Yh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Dh(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}$d(Qh,eh),Qh.prototype[Ih]=!0,Qh.prototype.removeEventListener=function(e,t,n,r){Bh(this,e,t,n,r)},Qh.prototype.N=function(){if(Qh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rh(n[r]);delete t.g[e],t.h--}}this.J=null},Qh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jh=Wd.JSON.stringify;function $h(){var e=af;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ef=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new tf),(e=>e.reset()));class tf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nf(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function rf(e){Wd.setTimeout((()=>{throw e}),0)}let of,sf=!1,af=new class{constructor(){this.h=this.g=null}add(e,t){const n=ef.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},lf=()=>{const e=Wd.Promise.resolve(void 0);of=()=>{e.then(cf)}};var cf=()=>{for(var e;e=$h();){try{e.h.call(e.g)}catch(F){rf(F)}var t=ef;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}sf=!1};function uf(e,t){Qh.call(this),this.h=e||1,this.g=t||Wd,this.j=Yd(this.qb,this),this.l=Date.now()}function df(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function hf(e,t,n){if("function"===typeof e)n&&(e=Yd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Yd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wd.setTimeout(e,t||0)}function ff(e){e.g=hf((()=>{e.g=null,e.i&&(e.i=!1,ff(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}$d(uf,Qh),(Ud=uf.prototype).ga=!1,Ud.T=null,Ud.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xh(this,"tick"),this.ga&&(df(this),this.start()))}},Ud.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ud.N=function(){uf.$.N.call(this),df(this),delete this.g};class pf extends eh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ff(this)}N(){super.N(),this.g&&(Wd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mf(e){eh.call(this),this.h=e,this.g={}}$d(mf,eh);var gf=[];function vf(e,t,n,r){Array.isArray(n)||(n&&(gf[0]=n.toString()),n=gf);for(var i=0;i<n.length;i++){var o=Fh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function yf(e){Ph(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vh(e)}),e),e.g={}}function bf(){this.g=!0}function wf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Jh(n)}catch(O){return t}}(e,n)+(r?" "+r:"")}))}mf.prototype.N=function(){mf.$.N.call(this),yf(this)},mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bf.prototype.Ea=function(){this.g=!1},bf.prototype.info=function(){};var _f={},Sf=null;function xf(){return Sf=Sf||new Qh}function Cf(e){ih.call(this,_f.Ta,e)}function kf(e){const t=xf();Xh(t,new Cf(t))}function If(e,t){ih.call(this,_f.STAT_EVENT,e),this.stat=t}function Tf(e){const t=xf();Xh(t,new If(t,e))}function Ef(e,t){ih.call(this,_f.Ua,e),this.size=t}function Rf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wd.setTimeout((function(){e()}),t)}_f.Ta="serverreachability",$d(Cf,ih),_f.STAT_EVENT="statevent",$d(If,ih),_f.Ua="timingevent",$d(Ef,ih);var Pf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Of={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Af(){}function Nf(e){return e.h||(e.h=e.i())}function Mf(){}Af.prototype.h=null;var Df,Lf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zf(){ih.call(this,"d")}function jf(){ih.call(this,"c")}function Ff(){}function Uf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new mf(this),this.P=Bf,e=mh?125:void 0,this.V=new uf(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zf}function Zf(){this.i=null,this.g="",this.h=!1}$d(zf,ih),$d(jf,ih),$d(Ff,Af),Ff.prototype.g=function(){return new XMLHttpRequest},Ff.prototype.i=function(){return{}},Df=new Ff;var Bf=45e3,Vf={},Wf={};function Hf(e,t,n){e.L=1,e.A=up(op(t)),e.u=n,e.S=!0,qf(e,null)}function qf(e,t){e.G=Date.now(),Xf(e),e.B=op(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),xp(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Zf,e.g=xm(e.l,n?t:null,!e.u),0<e.O&&(e.M=new pf(Yd(e.Pa,e,e.g),e.O)),vf(e.U,e.g,"readystatechange",e.nb),t=e.I?Oh(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),kf(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Gf(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Kf(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Qf(e,n),r==Wf){4==t&&(e.s=4,Tf(14),i=!1),wf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vf){e.s=4,Tf(15),wf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wf(e.j,e.m,r,null),tp(e,r)}Gf(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Tf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mm(t),t.M=!0,Tf(11))):(wf(e.j,e.m,n,"[Invalid Chunked Response]"),ep(e),$f(e))}function Qf(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Wf:(n=Number(t.substring(n,r)),isNaN(n)?Vf:(r+=1)+n>t.length?Wf:(t=t.slice(r,r+n),e.o=r+n,t))}function Xf(e){e.Y=Date.now()+e.P,Yf(e,e.P)}function Yf(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Rf(Yd(e.lb,e),t)}function Jf(e){e.C&&(Wd.clearTimeout(e.C),e.C=null)}function $f(e){0==e.l.H||e.J||ym(e.l,e)}function ep(e){Jf(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,df(e.V),yf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function tp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Pp(n.i,e)))if(!e.K&&Pp(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(K){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;vm(n),am(n)}pm(n),Tf(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rf(Yd(n.ib,n),6e3));if(1>=Rp(n.i)&&n.oa){try{n.oa()}catch(K){}n.oa=void 0}}else wm(n,11)}else if((e.K||n.g==e)&&vm(n),!sh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Op(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,cp(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Sm(r,r.J?r.pa:null,r.Y),s.K){Ap(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Jf(a),Xf(a)),r.g=s}else fm(r);0<n.j.length&&cm(n)}else"stop"!=c[0]&&"close"!=c[0]||wm(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wm(n,7):sm(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}kf()}catch(K){}}function np(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Hd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Hd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Hd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Ud=Uf.prototype).setTimeout=function(e){this.P=e},Ud.nb=function(e){e=e.target;const t=this.M;t&&3==em(e)?t.l():this.Pa(e)},Ud.Pa=function(e){try{if(e==this.g)e:{const u=em(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||mh||this.g&&(this.h.h||this.g.ja()||tm(this.g)))){this.J||4!=u||7==t||kf(),Jf(this);var n=this.g.da();this.ca=n;t:if(Gf(this)){var r=tm(this.g);e="";var i=r.length,o=4==em(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ep(this),$f(this);var s="";break t}this.h.i=new Wd.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Tf(12),ep(this),$f(this);break e}wf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tp(this,n)}this.S?(Kf(this,u,s),mh&&this.i&&3==u&&(vf(this.U,this.V,"tick",this.mb),this.V.start())):(wf(this.j,this.m,s,null),tp(this,s)),4==u&&ep(this),this.i&&!this.J&&(4==u?ym(this.l,this):(this.i=!1,Xf(this)))}else(function(e){const t={};e=(e.g&&2<=em(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(sh(e[r]))continue;var n=nf(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Tf(12)):(this.s=0,Tf(13)),ep(this),$f(this)}}}catch(L){}},Ud.mb=function(){if(this.g){var e=em(this.g),t=this.g.ja();this.o<t.length&&(Jf(this),Kf(this,e,t),this.i&&4!=e&&Xf(this))}},Ud.cancel=function(){this.J=!0,ep(this)},Ud.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(kf(),Tf(17)),ep(this),this.s=2,$f(this)):Yf(this,this.Y-e)};var rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ip(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ip){this.h=e.h,sp(this,e.j),this.s=e.s,this.g=e.g,ap(this,e.m),this.l=e.l;var t=e.i,n=new bp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lp(this,n),this.o=e.o}else e&&(t=String(e).match(rp))?(this.h=!1,sp(this,t[1]||"",!0),this.s=dp(t[2]||""),this.g=dp(t[3]||"",!0),ap(this,t[4]),this.l=dp(t[5]||"",!0),lp(this,t[6]||"",!0),this.o=dp(t[7]||"")):(this.h=!1,this.i=new bp(null,this.h))}function op(e){return new ip(e)}function sp(e,t,n){e.j=n?dp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ap(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lp(e,t,n){t instanceof bp?(e.i=t,function(e,t){t&&!e.j&&(wp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_p(this,t),xp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=hp(t,vp)),e.i=new bp(t,e.h))}function cp(e,t,n){e.i.set(t,n)}function up(e){return cp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,fp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ip.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hp(t,pp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hp(t,pp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(hp(n,"/"==n.charAt(0)?gp:mp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hp(n,yp)),e.join("")};var pp=/[#\/\?@]/g,mp=/[#\?:]/g,gp=/[#\?]/g,vp=/[#\?@]/g,yp=/#/g;function bp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _p(e,t){wp(e),t=Cp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Sp(e,t){return wp(e),t=Cp(e,t),e.g.has(t)}function xp(e,t,n){_p(e,t),0<n.length&&(e.i=null,e.g.set(Cp(e,t),nh(n)),e.h+=n.length)}function Cp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ud=bp.prototype).add=function(e,t){wp(this),this.i=null,e=Cp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ud.forEach=function(e,t){wp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ud.ta=function(){wp(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ud.Z=function(e){wp(this);let t=[];if("string"===typeof e)Sp(this,e)&&(t=t.concat(this.g.get(Cp(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ud.set=function(e,t){return wp(this),this.i=null,Sp(this,e=Cp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ud.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ud.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var kp=class{constructor(e,t){this.g=e,this.map=t}};function Ip(e){this.l=e||Tp,Wd.PerformanceNavigationTiming?e=0<(e=Wd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wd.g&&Wd.g.Ka&&Wd.g.Ka()&&Wd.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tp=10;function Ep(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rp(e){return e.h?1:e.g?e.g.size:0}function Pp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Op(e,t){e.g?e.g.add(t):e.h=t}function Ap(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Np(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return nh(e.i)}Ip.prototype.cancel=function(){if(this.i=Np(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Mp=class{stringify(e){return Wd.JSON.stringify(e,void 0)}parse(e){return Wd.JSON.parse(e,void 0)}};function Dp(){this.g=new Mp}function Lp(e,t,n){const r=n||"";try{np(e,(function(e,n){let i=e;qd(e)&&(i=Jh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(j){}}function jp(e){this.l=e.ec||null,this.j=e.ob||!1}function Fp(e,t){Qh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Up,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$d(jp,Af),jp.prototype.g=function(){return new Fp(this.l,this.j)},jp.prototype.i=function(e){return function(){return e}}({}),$d(Fp,Qh);var Up=0;function Zp(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Bp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vp(e)}function Vp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ud=Fp.prototype).open=function(e,t){if(this.readyState!=Up)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vp(this)},Ud.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Wd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ud.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bp(this)),this.readyState=Up},Ud.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vp(this)),this.g&&(this.readyState=3,Vp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Wd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zp(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ud.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bp(this):Vp(this),3==this.readyState&&Zp(this)}},Ud.Za=function(e){this.g&&(this.response=this.responseText=e,Bp(this))},Ud.Ya=function(e){this.g&&(this.response=e,Bp(this))},Ud.ka=function(){this.g&&Bp(this)},Ud.setRequestHeader=function(e,t){this.v.append(e,t)},Ud.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ud.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wp=Wd.JSON.parse;function Hp(e){Qh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qp,this.L=this.M=!1}$d(Hp,Qh);var qp="",Gp=/^https?$/i,Kp=["POST","PUT"];function Qp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xp(e),Jp(e)}function Xp(e){e.F||(e.F=!0,Xh(e,"complete"),Xh(e,"error"))}function Yp(e){if(e.h&&"undefined"!=typeof Vd&&(!e.C[1]||4!=em(e)||2!=e.da()))if(e.v&&4==em(e))hf(e.La,0,e);else if(Xh(e,"readystatechange"),4==em(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(rp)[1]||null;!i&&Wd.self&&Wd.self.location&&(i=Wd.self.location.protocol.slice(0,-1)),r=!Gp.test(i?i.toLowerCase():"")}n=r}if(n)Xh(e,"complete"),Xh(e,"success");else{e.m=6;try{var o=2<em(e)?e.g.statusText:""}catch(O){o=""}e.j=o+" ["+e.da()+"]",Xp(e)}}finally{Jp(e)}}}function Jp(e,t){if(e.g){$p(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Xh(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function $p(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Wd.clearTimeout(e.A),e.A=null)}function em(e){return e.g?e.g.readyState:0}function tm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(G){return null}}function nm(e){let t="";return Ph(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):cp(e,t,n))}function im(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function om(e){this.Ga=0,this.j=[],this.l=new bf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=im("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=im("baseRetryDelayMs",5e3,e),this.hb=im("retryDelaySeedMs",1e4,e),this.eb=im("forwardChannelMaxRetries",2,e),this.xa=im("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ip(e&&e.concurrentRequestLimit),this.Ja=new Dp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sm(e){if(lm(e),3==e.H){var t=e.W++,n=op(e.I);if(cp(n,"SID",e.K),cp(n,"RID",t),cp(n,"TYPE","terminate"),dm(e,n),(t=new Uf(e,e.l,t)).L=2,t.A=up(op(n)),n=!1,Wd.navigator&&Wd.navigator.sendBeacon)try{n=Wd.navigator.sendBeacon(t.A.toString(),"")}catch(W){}!n&&Wd.Image&&((new Image).src=t.A,n=!0),n||(t.g=xm(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Xf(t)}_m(e)}function am(e){e.g&&(mm(e),e.g.cancel(),e.g=null)}function lm(e){am(e),e.u&&(Wd.clearTimeout(e.u),e.u=null),vm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wd.clearTimeout(e.m),e.m=null)}function cm(e){if(!Ep(e.i)&&!e.m){e.m=!0;var t=e.Na;of||lf(),sf||(of(),sf=!0),af.add(t,e),e.C=0}}function um(e,t){var n;n=t?t.m:e.W++;const r=op(e.I);cp(r,"SID",e.K),cp(r,"RID",n),cp(r,"AID",e.V),dm(e,r),e.o&&e.s&&rm(r,e.o,e.s),n=new Uf(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=hm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Op(e.i,n),Hf(n,r,t)}function dm(e,t){e.na&&Ph(e.na,(function(e,n){cp(t,n,e)})),e.h&&np({},(function(e,n){cp(t,n,e)}))}function hm(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Yd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Lp(a,e,"req"+n+"_")}catch(we){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function fm(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;of||lf(),sf||(of(),sf=!0),af.add(t,e),e.A=0}}function pm(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Rf(Yd(e.Ma,e),bm(e,e.A)),e.A++,!0)}function mm(e){null!=e.B&&(Wd.clearTimeout(e.B),e.B=null)}function gm(e){e.g=new Uf(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=op(e.wa);cp(t,"RID","rpc"),cp(t,"SID",e.K),cp(t,"AID",e.V),cp(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&cp(t,"TO",e.qa),cp(t,"TYPE","xmlhttp"),dm(e,t),e.o&&e.s&&rm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=up(op(t)),n.u=null,n.S=!0,qf(n,e)}function vm(e){null!=e.v&&(Wd.clearTimeout(e.v),e.v=null)}function ym(e,t){var n=null;if(e.g==t){vm(e),mm(e),e.g=null;var r=2}else{if(!Pp(e.i,t))return;n=t.F,Ap(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Xh(r=xf(),new Ef(r,n)),cm(e)}else fm(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Rp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Rf(Yd(e.Na,e,t),bm(e,e.C)),e.C++,!0))}(e,t)||2==r&&pm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wm(e,5);break;case 4:wm(e,10);break;case 3:wm(e,6);break;default:wm(e,2)}}function bm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function wm(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Yd(e.pb,e);n||(n=new ip("//www.google.com/images/cleardot.gif"),Wd.location&&"http"==Wd.location.protocol||sp(n,"https"),up(n)),function(e,t){const n=new bf;if(Wd.Image){const r=new Image;r.onload=Jd(zp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jd(zp,n,r,"TestLoadImage: error",!1,t),r.onabort=Jd(zp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jd(zp,n,r,"TestLoadImage: timeout",!1,t),Wd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tf(2);e.H=0,e.h&&e.h.za(t),_m(e),lm(e)}function _m(e){if(e.H=0,e.ma=[],e.h){const t=Np(e.i);0==t.length&&0==e.j.length||(rh(e.ma,t),rh(e.ma,e.j),e.i.i.length=0,nh(e.j),e.j.length=0),e.h.ya()}}function Sm(e,t,n){var r=n instanceof ip?op(n):new ip(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ap(r,r.m);else{var i=Wd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ip(null);r&&sp(o,r),t&&(o.g=t),i&&ap(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&cp(r,n,t),cp(r,"VER",e.ra),dm(e,r),r}function xm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Hp(new jp({ob:n})):new Hp(e.va)).Oa(e.J),t}function Cm(){}function km(){if(fh&&!(10<=Number(xh)))throw Error("Environmental error: no available transport.")}function Im(e,t){Qh.call(this),this.g=new om(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!sh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Rm(this)}function Tm(e){zf.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Em(){jf.call(this),this.status=1}function Rm(e){this.g=e}function Pm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Om(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Am(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Ud=Hp.prototype).Oa=function(e){this.M=e},Ud.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Df.g(),this.C=this.u?Nf(this.u):Nf(Df),this.g.onreadystatechange=Yd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(j){return void Qp(this,j)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Wd.FormData&&e instanceof Wd.FormData,!(0<=th(Kp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$p(this),0<this.B&&((this.L=function(e){return fh&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yd(this.ua,this)):this.A=hf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(j){Qp(this,j)}},Ud.ua=function(){"undefined"!=typeof Vd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xh(this,"timeout"),this.abort(8))},Ud.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xh(this,"complete"),Xh(this,"abort"),Jp(this))},Ud.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jp(this,!0)),Hp.$.N.call(this)},Ud.La=function(){this.s||(this.G||this.v||this.l?Yp(this):this.kb())},Ud.kb=function(){Yp(this)},Ud.isActive=function(){return!!this.g},Ud.da=function(){try{return 2<em(this)?this.g.status:-1}catch(z){return-1}},Ud.ja=function(){try{return this.g?this.g.responseText:""}catch(z){return""}},Ud.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wp(t)}},Ud.Ia=function(){return this.m},Ud.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ud=om.prototype).ra=8,Ud.H=1,Ud.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Uf(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Oh(o),Nh(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hm(this,i,t),cp(n=op(this.I),"RID",e),cp(n,"CVER",22),this.F&&cp(n,"X-HTTP-Session-Id",this.F),dm(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(nm(o)))+"&"+t:this.o&&rm(n,this.o,o)),Op(this.i,i),this.bb&&cp(n,"TYPE","init"),this.P?(cp(n,"$req",t),cp(n,"SID","null"),i.aa=!0,Hf(i,n,null)):Hf(i,n,t),this.H=2}}else 3==this.H&&(e?um(this,e):0==this.j.length||Ep(this.i)||um(this))},Ud.Ma=function(){if(this.u=null,gm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rf(Yd(this.jb,this),e)}},Ud.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tf(10),am(this),gm(this))},Ud.ib=function(){null!=this.v&&(this.v=null,am(this),pm(this),Tf(19))},Ud.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Tf(2)):(this.l.info("Failed to ping google.com"),Tf(1))},Ud.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ud=Cm.prototype).Ba=function(){},Ud.Aa=function(){},Ud.za=function(){},Ud.ya=function(){},Ud.isActive=function(){return!0},Ud.Va=function(){},km.prototype.g=function(e,t){return new Im(e,t)},$d(Im,Qh),Im.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Tf(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sm(e,null,e.Y),cm(e)},Im.prototype.close=function(){sm(this.g)},Im.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Jh(e),e=n);t.j.push(new kp(t.fb++,e)),3==t.H&&cm(t)},Im.prototype.N=function(){this.g.h=null,delete this.j,sm(this.g),delete this.g,Im.$.N.call(this)},$d(Tm,zf),$d(Em,jf),$d(Rm,Cm),Rm.prototype.Ba=function(){Xh(this.g,"a")},Rm.prototype.Aa=function(e){Xh(this.g,new Tm(e))},Rm.prototype.za=function(e){Xh(this.g,new Em)},Rm.prototype.ya=function(){Xh(this.g,"b")},$d(Pm,(function(){this.blockSize=-1})),Pm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Om(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Om(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Om(this,r),i=0;break}}this.h=i,this.i+=t},Pm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Nm={};function Mm(e){return-128<=e&&128>e?function(e,t){var n=Nm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Am([0|e],0>e?-1:0)})):new Am([0|e],0>e?-1:0)}function Dm(e){if(isNaN(e)||!isFinite(e))return zm;if(0>e)return Bm(Dm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Lm;return new Am(t,0)}var Lm=4294967296,zm=Mm(0),jm=Mm(1),Fm=Mm(16777216);function Um(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Zm(e){return-1==e.h}function Bm(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Am(n,~e.h).add(jm)}function Vm(e,t){return e.add(Bm(t))}function Wm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Hm(e,t){this.g=e,this.h=t}function qm(e,t){if(Um(t))throw Error("division by zero");if(Um(e))return new Hm(zm,zm);if(Zm(e))return t=qm(Bm(e),t),new Hm(Bm(t.g),Bm(t.h));if(Zm(t))return t=qm(e,Bm(t)),new Hm(Bm(t.g),t.h);if(30<e.g.length){if(Zm(e)||Zm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=jm,r=t;0>=r.X(e);)n=Gm(n),r=Gm(r);var i=Km(n,1),o=Km(r,1);for(r=Km(r,2),n=Km(n,2);!Um(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Km(r,1),n=Km(n,1)}return t=Vm(e,i.R(t)),new Hm(i,t)}for(i=zm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Dm(n)).R(t);Zm(s)||0<s.X(e);)s=(o=Dm(n-=r)).R(t);Um(o)&&(o=jm),i=i.add(o),e=Vm(e,s)}return new Hm(i,e)}function Gm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Am(n,e.h)}function Km(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Am(i,e.h)}(Ud=Am.prototype).ea=function(){if(Zm(this))return-Bm(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Lm+r)*t,t*=Lm}return e},Ud.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Um(this))return"0";if(Zm(this))return"-"+Bm(this).toString(e);for(var t=Dm(Math.pow(e,6)),n=this,r="";;){var i=qm(n,t).g,o=((0<(n=Vm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Um(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ud.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ud.X=function(e){return Zm(e=Vm(this,e))?-1:Um(e)?0:1},Ud.abs=function(){return Zm(this)?Bm(this):this},Ud.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Am(n,-2147483648&n[n.length-1]?-1:0)},Ud.R=function(e){if(Um(this)||Um(e))return zm;if(Zm(this))return Zm(e)?Bm(this).R(Bm(e)):Bm(Bm(this).R(e));if(Zm(e))return Bm(this.R(Bm(e)));if(0>this.X(Fm)&&0>e.X(Fm))return Dm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Wm(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Wm(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Wm(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Wm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Am(n,0)},Ud.gb=function(e){return qm(this,e).h},Ud.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Am(n,this.h&e.h)},Ud.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Am(n,this.h|e.h)},Ud.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Am(n,this.h^e.h)},km.prototype.createWebChannel=km.prototype.g,Im.prototype.send=Im.prototype.u,Im.prototype.open=Im.prototype.m,Im.prototype.close=Im.prototype.close,Pf.NO_ERROR=0,Pf.TIMEOUT=8,Pf.HTTP_ERROR=6,Of.COMPLETE="complete",Mf.EventType=Lf,Lf.OPEN="a",Lf.CLOSE="b",Lf.ERROR="c",Lf.MESSAGE="d",Qh.prototype.listen=Qh.prototype.O,Hp.prototype.listenOnce=Hp.prototype.P,Hp.prototype.getLastError=Hp.prototype.Sa,Hp.prototype.getLastErrorCode=Hp.prototype.Ia,Hp.prototype.getStatus=Hp.prototype.da,Hp.prototype.getResponseJson=Hp.prototype.Wa,Hp.prototype.getResponseText=Hp.prototype.ja,Hp.prototype.send=Hp.prototype.ha,Hp.prototype.setWithCredentials=Hp.prototype.Oa,Pm.prototype.digest=Pm.prototype.l,Pm.prototype.reset=Pm.prototype.reset,Pm.prototype.update=Pm.prototype.j,Am.prototype.add=Am.prototype.add,Am.prototype.multiply=Am.prototype.R,Am.prototype.modulo=Am.prototype.gb,Am.prototype.compare=Am.prototype.X,Am.prototype.toNumber=Am.prototype.ea,Am.prototype.toString=Am.prototype.toString,Am.prototype.getBits=Am.prototype.D,Am.fromNumber=Dm,Am.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Bm(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Dm(Math.pow(n,8)),i=zm,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Dm(Math.pow(n,s)),i=i.R(s).add(Dm(a))):i=(i=i.R(r)).add(Dm(a))}return i};var Qm=Bd.createWebChannelTransport=function(){return new km},Xm=Bd.getStatEventTarget=function(){return xf()},Ym=Bd.ErrorCode=Pf,Jm=Bd.EventType=Of,$m=Bd.Event=_f,eg=Bd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tg=(Bd.FetchXmlHttpFactory=jp,Bd.WebChannel=Mf),ng=Bd.XhrIo=Hp,rg=Bd.Md5=Pm,ig=Bd.Integer=Am;const og="@firebase/firestore";class sg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sg.UNAUTHENTICATED=new sg(null),sg.GOOGLE_CREDENTIALS=new sg("google-credentials-uid"),sg.FIRST_PARTY=new sg("first-party-uid"),sg.MOCK_USER=new sg("mock-user");let ag="10.7.0";const lg=new Fr("@firebase/firestore");function cg(){return lg.logLevel}function ug(e){if(lg.logLevel<=Mr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fg);lg.debug("Firestore (".concat(ag,"): ").concat(e),...i)}}function dg(e){if(lg.logLevel<=Mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fg);lg.error("Firestore (".concat(ag,"): ").concat(e),...i)}}function hg(e){if(lg.logLevel<=Mr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(fg);lg.warn("Firestore (".concat(ag,"): ").concat(e),...i)}}function fg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(N){return e}}function pg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ag,") INTERNAL ASSERTION FAILED: ")+e;throw dg(t),new Error(t)}function mg(e,t){e||pg()}function gg(e,t){return e}const vg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yg extends mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class bg{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class wg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _g{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sg.UNAUTHENTICATED)))}shutdown(){}}class Sg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xg{constructor(e){this.t=e,this.currentUser=sg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new bg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bg,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ug("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bg)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mg("string"==typeof t.accessToken),new wg(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mg(null===e||"string"==typeof e),new sg(e)}}class Cg{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=sg.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kg{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Cg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(sg.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ig{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tg{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ug("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ug("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(mg("string"==typeof e.token),this.R=e.token,new Ig(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Eg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Eg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Pg(e,t){return e<t?-1:e>t?1:0}function Og(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ag(e){return e+"\0"}class Ng{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yg(vg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yg(vg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yg(vg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yg(vg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ng.fromMillis(Date.now())}static fromDate(e){return Ng.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ng(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pg(this.nanoseconds,e.nanoseconds):Pg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mg(e)}static min(){return new Mg(new Ng(0,0))}static max(){return new Mg(new Ng(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dg{constructor(e,t,n){void 0===t?t=0:t>e.length&&pg(),void 0===n?n=e.length-t:n>e.length-t&&pg(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Dg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dg?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Lg extends Dg{construct(e,t,n){return new Lg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new yg(vg.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Lg(e)}static emptyPath(){return new Lg([])}}const zg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jg extends Dg{construct(e,t,n){return new jg(e,t,n)}static isValidIdentifier(e){return zg.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jg.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new yg(vg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new yg(vg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yg(vg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new yg(vg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jg(t)}static emptyPath(){return new jg([])}}class Fg{constructor(e){this.path=e}static fromPath(e){return new Fg(Lg.fromString(e))}static fromName(e){return new Fg(Lg.fromString(e).popFirst(5))}static empty(){return new Fg(Lg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Lg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fg(new Lg(e.slice()))}}class Ug{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Zg(e){return e.fields.find((e=>2===e.kind))}function Bg(e){return e.fields.filter((e=>2!==e.kind))}Ug.UNKNOWN_ID=-1;class Vg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wg(0,Gg.min())}}function Hg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mg.fromTimestamp(1e9===r?new Ng(n+1,0):new Ng(n,r));return new Gg(i,Fg.empty(),t)}function qg(e){return new Gg(e.readTime,e.key,-1)}class Gg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Gg(Mg.min(),Fg.empty(),-1)}static max(){return new Gg(Mg.max(),Fg.empty(),-1)}}function Kg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fg.comparator(e.documentKey,t.documentKey),0!==n?n:Pg(e.largestBatchId,t.largestBatchId))}const Qg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yg(e){if(e.code!==vg.FAILED_PRECONDITION||e.message!==Qg)throw e;ug("LocalStore","Unexpectedly lost primary lease")}class Jg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Jg?t:Jg.resolve(t)}catch(e){return Jg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Jg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Jg.reject(t)}static resolve(e){return new Jg(((t,n)=>{t(e)}))}static reject(e){return new Jg(((t,n)=>{n(e)}))}static waitFor(e){return new Jg(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Jg.resolve(!1);for(const n of e)t=t.next((e=>e?Jg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Jg(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Jg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class $g{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new bg,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new nv(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=av(t.target.error);this.V.reject(new nv(e,n))}}static open(e,t,n,r){try{return new $g(t,e.transaction(r,n))}catch(e){throw new nv(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ug("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iv(t)}}class ev{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===ev.S(cr())&&dg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ug("SimpleDb","Removing database:",e),ov(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!pr())return!1;if(ev.C())return!0;const e=cr(),t=ev.S(e),n=0<t&&t<10,r=ev.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/social-app-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(ug("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new nv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new yg(vg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new yg(vg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new nv(e,r))},r.onupgradeneeded=e=>{ug("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{ug("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=$g.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Jg.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(ug("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tv{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ov(this.k.delete())}}class nv extends yg{constructor(e,t){super(vg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function rv(e){return"IndexedDbTransactionError"===e.name}class iv{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ug("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ug("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ov(n)}add(e){return ug("SimpleDb","ADD",this.store.name,e,e),ov(this.store.add(e))}get(e){return ov(this.store.get(e)).next((t=>(void 0===t&&(t=null),ug("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ug("SimpleDb","DELETE",this.store.name,e),ov(this.store.delete(e))}count(){return ug("SimpleDb","COUNT",this.store.name),ov(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Jg(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Jg(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){ug("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Jg(((n,r)=>{t.onerror=e=>{const t=av(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Jg(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new tv(i),s=t(i.primaryKey,i.value,o);if(s instanceof Jg){const e=s.catch((e=>(o.done(),Jg.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Jg.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ov(e){return new Jg(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=av(e.target.error);n(t)}}))}let sv=!1;function av(e){const t=ev.S(cr());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new yg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sv||(sv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class lv{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){ug("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{ug("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){rv(e)?ug("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Yg(e)}await this.ee(6e4)}))}}class cv{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Jg.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return ug("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(ug("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=qg(t);Kg(r,n)>0&&(n=r)})),new Gg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class uv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function dv(e){return null==e}function hv(e){return 0===e&&1/e==-1/0}function fv(e){return"number"==typeof e&&Number.isInteger(e)&&!hv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function pv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gv(t)),t=mv(e.get(n),t);return gv(t)}function mv(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function gv(e){return e+"\x01\x01"}function vv(e){const t=e.length;if(mg(t>=2),2===t)return mg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Lg.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&pg(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:pg()}o=t+2}return new Lg(r)}uv._e=-1;const yv=["userId","batchId"];function bv(e,t){return[e,pv(t)]}function wv(e,t,n){return[e,pv(t),n]}const _v={},Sv=["prefixPath","collectionGroup","readTime","documentId"],xv=["prefixPath","collectionGroup","documentId"],Cv=["collectionGroup","readTime","prefixPath","documentId"],kv=["canonicalId","targetId"],Iv=["targetId","path"],Tv=["path","targetId"],Ev=["collectionId","parent"],Rv=["indexId","uid"],Pv=["uid","sequenceNumber"],Ov=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Av=["indexId","uid","orderedDocumentKey"],Nv=["userId","collectionPath","documentId"],Mv=["userId","collectionPath","largestBatchId"],Dv=["userId","collectionGroup","largestBatchId"],Lv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zv=[...Lv,"documentOverlays"],jv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fv=jv,Uv=[...Fv,"indexConfiguration","indexState","indexEntries"];class Zv extends Xg{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Bv(e,t){const n=gg(e);return ev.M(n.ae,t)}function Vv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class qv{constructor(e,t){this.comparator=e,this.root=t||Kv.EMPTY}insert(e,t){return new qv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kv.BLACK,null,null))}remove(e){return new qv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gv(this.root,e,this.comparator,!0)}}class Gv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kv.RED,this.left=null!=r?r:Kv.EMPTY,this.right=null!=i?i:Kv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pg();if(this.right.isRed())throw pg();const e=this.left.check();if(e!==this.right.check())throw pg();return e+(this.isRed()?0:1)}}Kv.EMPTY=null,Kv.RED=!0,Kv.BLACK=!1,Kv.EMPTY=new class{constructor(){this.size=0}get key(){throw pg()}get value(){throw pg()}get color(){throw pg()}get left(){throw pg()}get right(){throw pg()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qv{constructor(e){this.comparator=e,this.data=new qv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(e){return new Xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Qv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qv(this.comparator);return t.data=e,t}}class Xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yv(e){return e.hasNext()?e.getNext():void 0}class Jv{constructor(e){this.fields=e,e.sort(jg.comparator)}static empty(){return new Jv([])}unionWith(e){let t=new Qv(jg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Jv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Og(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ey{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $v("Invalid base64 string: "+e):e}}(e);return new ey(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ey(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ey.EMPTY_BYTE_STRING=new ey("");const ty=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ny(e){if(mg(!!e),"string"==typeof e){let t=0;const n=ty.exec(e);if(mg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ry(e.seconds),nanos:ry(e.nanos)}}function ry(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function iy(e){return"string"==typeof e?ey.fromBase64String(e):ey.fromUint8Array(e)}function oy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sy(e){const t=e.mapValue.fields.__previous_value__;return oy(t)?sy(t):t}function ay(e){const t=ny(e.mapValue.fields.__local_write_time__.timestampValue);return new Ng(t.seconds,t.nanos)}class ly{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class cy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cy&&e.projectId===this.projectId&&e.database===this.database}}const uy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dy={nullValue:"NULL_VALUE"};function hy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:Iy(e)?9007199254740991:10:pg()}function fy(e,t){if(e===t)return!0;const n=hy(e);if(n!==hy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ay(e).isEqual(ay(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ny(e.timestampValue),r=ny(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return iy(e.bytesValue).isEqual(iy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ry(e.geoPointValue.latitude)===ry(t.geoPointValue.latitude)&&ry(e.geoPointValue.longitude)===ry(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ry(e.integerValue)===ry(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ry(e.doubleValue),r=ry(t.doubleValue);return n===r?hv(n)===hv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Og(e.arrayValue.values||[],t.arrayValue.values||[],fy);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vv(n)!==Vv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fy(n[i],r[i])))return!1;return!0}(e,t);default:return pg()}}function py(e,t){return void 0!==(e.values||[]).find((e=>fy(e,t)))}function my(e,t){if(e===t)return 0;const n=hy(e),r=hy(t);if(n!==r)return Pg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ry(e.integerValue||e.doubleValue),r=ry(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gy(e.timestampValue,t.timestampValue);case 4:return gy(ay(e),ay(t));case 5:return Pg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=iy(e),r=iy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Pg(n[i],r[i]);if(0!==e)return e}return Pg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Pg(ry(e.latitude),ry(t.latitude));return 0!==n?n:Pg(ry(e.longitude),ry(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=my(n[i],r[i]);if(e)return e}return Pg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===uy.mapValue&&t===uy.mapValue)return 0;if(e===uy.mapValue)return 1;if(t===uy.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Pg(r[s],o[s]);if(0!==e)return e;const t=my(n[r[s]],i[o[s]]);if(0!==t)return t}return Pg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw pg()}}function gy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pg(e,t);const n=ny(e),r=ny(t),i=Pg(n.seconds,r.seconds);return 0!==i?i:Pg(n.nanos,r.nanos)}function vy(e){return yy(e)}function yy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ny(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return iy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=yy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(yy(e.fields[i]));return n+"}"}(e.mapValue):pg()}function by(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wy(e){return!!e&&"integerValue"in e}function _y(e){return!!e&&"arrayValue"in e}function Sy(e){return!!e&&"nullValue"in e}function xy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cy(e){return!!e&&"mapValue"in e}function ky(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ky(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ky(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Iy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ty(e){return"nullValue"in e?dy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?by(cy.empty(),Fg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:pg()}function Ey(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?by(cy.empty(),Fg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?uy:pg()}function Ry(e,t){const n=my(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Py(e,t){const n=my(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Oy{constructor(e){this.value=e}static empty(){return new Oy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Cy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ky(t)}setAll(e){let t=jg.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ky(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Cy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Cy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Wv(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Oy(ky(this.value))}}function Ay(e){const t=[];return Wv(e.fields,((e,n)=>{const r=new jg([e]);if(Cy(n)){const e=Ay(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Jv(t)}class Ny{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ny(e,0,Mg.min(),Mg.min(),Mg.min(),Oy.empty(),0)}static newFoundDocument(e,t,n,r){return new Ny(e,1,t,Mg.min(),n,r,0)}static newNoDocument(e,t){return new Ny(e,2,t,Mg.min(),Mg.min(),Oy.empty(),0)}static newUnknownDocument(e,t){return new Ny(e,3,t,Mg.min(),Mg.min(),Oy.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oy.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ny&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ny(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class My{constructor(e,t){this.position=e,this.inclusive=t}}function Dy(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Fg.comparator(Fg.fromName(s.referenceValue),n.key):my(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ly(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fy(e.position[n],t.position[n]))return!1;return!0}class zy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function jy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Fy{}class Uy extends Fy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xy(e,t,n):"array-contains"===t?new eb(e,n):"in"===t?new tb(e,n):"not-in"===t?new nb(e,n):"array-contains-any"===t?new rb(e,n):new Uy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Yy(e,n):new Jy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(my(t,this.value)):null!==t&&hy(this.value)===hy(t)&&this.matchesComparison(my(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pg()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zy extends Fy{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Zy(e,t)}matches(e){return By(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function By(e){return"and"===e.op}function Vy(e){return"or"===e.op}function Wy(e){return Hy(e)&&By(e)}function Hy(e){for(const t of e.filters)if(t instanceof Zy)return!1;return!0}function qy(e){if(e instanceof Uy)return e.field.canonicalString()+e.op.toString()+vy(e.value);if(Wy(e))return e.filters.map((e=>qy(e))).join(",");{const t=e.filters.map((e=>qy(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Gy(e,t){return e instanceof Uy?function(e,t){return t instanceof Uy&&e.op===t.op&&e.field.isEqual(t.field)&&fy(e.value,t.value)}(e,t):e instanceof Zy?function(e,t){return t instanceof Zy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Gy(n,t.filters[r])),!0)}(e,t):void pg()}function Ky(e,t){const n=e.filters.concat(t);return Zy.create(n,e.op)}function Qy(e){return e instanceof Uy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(vy(e.value))}(e):e instanceof Zy?function(e){return e.op.toString()+" {"+e.getFilters().map(Qy).join(" ,")+"}"}(e):"Filter"}class Xy extends Uy{constructor(e,t,n){super(e,t,n),this.key=Fg.fromName(n.referenceValue)}matches(e){const t=Fg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yy extends Uy{constructor(e,t){super(e,"in",t),this.keys=$y("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jy extends Uy{constructor(e,t){super(e,"not-in",t),this.keys=$y("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $y(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fg.fromName(e.referenceValue)))}class eb extends Uy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _y(t)&&py(t.arrayValue,this.value)}}class tb extends Uy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&py(this.value.arrayValue,t)}}class nb extends Uy{constructor(e,t){super(e,"not-in",t)}matches(e){if(py(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!py(this.value.arrayValue,t)}}class rb extends Uy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_y(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>py(this.value.arrayValue,e)))}}class ib{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function ob(e){return new ib(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sb(e){const t=gg(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>qy(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),dv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>vy(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>vy(e))).join(",")),t.ce=e}return t.ce}function ab(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!jy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Gy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ly(e.startAt,t.startAt)&&Ly(e.endAt,t.endAt)}function lb(e){return Fg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cb(e,t){return e.filters.filter((e=>e instanceof Uy&&e.field.isEqual(t)))}function ub(e,t,n){let r=dy,i=!0;for(const o of cb(e,t)){let e=dy,t=!0;switch(o.op){case"<":case"<=":e=Ty(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=dy}Ry({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Ry({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function db(e,t,n){let r=uy,i=!0;for(const o of cb(e,t)){let e=uy,t=!0;switch(o.op){case">=":case">":e=Ey(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=uy}Py({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Py({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class hb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function fb(e,t,n,r,i,o,s,a){return new hb(e,t,n,r,i,o,s,a)}function pb(e){return new hb(e)}function mb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gb(e){return null!==e.collectionGroup}function vb(e){const t=gg(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Qv(jg.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new zy(r,n))})),e.has(jg.keyField().canonicalString())||t.le.push(new zy(jg.keyField(),n))}return t.le}function yb(e){const t=gg(e);return t.he||(t.he=bb(t,vb(e))),t.he}function bb(e,t){if("F"===e.limitType)return ob(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new zy(e.field,t)}));const n=e.endAt?new My(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new My(e.startAt.position,e.startAt.inclusive):null;return ob(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function wb(e,t){const n=e.filters.concat([t]);return new hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _b(e,t,n){return new hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sb(e,t){return ab(yb(e),yb(t))&&e.limitType===t.limitType}function xb(e){return"".concat(sb(yb(e)),"|lt:").concat(e.limitType)}function Cb(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Qy(e))).join(", "),"]")),dv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>vy(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>vy(e))).join(",")),"Target(".concat(t,")")}(yb(e)),"; limitType=").concat(e.limitType,")")}function kb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Dy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vb(e),t))&&!(e.endAt&&!function(e,t,n){const r=Dy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vb(e),t))}(e,t)}function Ib(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tb(e){return(t,n)=>{let r=!1;for(const i of vb(e)){const e=Eb(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Eb(e,t,n){const r=e.field.isKeyField()?Fg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?my(r,i):pg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pg()}}class Rb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wv(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Hv(this.inner)}size(){return this.innerSize}}const Pb=new qv(Fg.comparator);function Ob(){return Pb}const Ab=new qv(Fg.comparator);function Nb(){let e=Ab;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Mb(e){let t=Ab;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Db(){return zb()}function Lb(){return zb()}function zb(){return new Rb((e=>e.toString()),((e,t)=>e.isEqual(t)))}const jb=new qv(Fg.comparator),Fb=new Qv(Fg.comparator);function Ub(){let e=Fb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Zb=new Qv(Pg);function Bb(){return Zb}function Vb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hv(t)?"-0":t}}function Wb(e){return{integerValue:""+e}}function Hb(e,t){return fv(t)?Wb(t):Vb(e,t)}class qb{constructor(){this._=void 0}}function Gb(e,t,n){return e instanceof Xb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&oy(t)&&(t=sy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Yb?Jb(e,t):e instanceof $b?ew(e,t):function(e,t){const n=Qb(e,t),r=nw(n)+nw(e.Ie);return wy(n)&&wy(e.Ie)?Wb(r):Vb(e.serializer,r)}(e,t)}function Kb(e,t,n){return e instanceof Yb?Jb(e,t):e instanceof $b?ew(e,t):n}function Qb(e,t){return e instanceof tw?function(e){return wy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Xb extends qb{}class Yb extends qb{constructor(e){super(),this.elements=e}}function Jb(e,t){const n=rw(t);for(const r of e.elements)n.some((e=>fy(e,r)))||n.push(r);return{arrayValue:{values:n}}}class $b extends qb{constructor(e){super(),this.elements=e}}function ew(e,t){let n=rw(t);for(const r of e.elements)n=n.filter((e=>!fy(e,r)));return{arrayValue:{values:n}}}class tw extends qb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nw(e){return ry(e.integerValue||e.doubleValue)}function rw(e){return _y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class iw{constructor(e,t){this.field=e,this.transform=t}}class ow{constructor(e,t){this.version=e,this.transformResults=t}}class sw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sw}static exists(e){return new sw(void 0,e)}static updateTime(e){return new sw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lw{}function cw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new bw(e.key,sw.none()):new pw(e.key,e.data,sw.none());{const n=e.data,r=Oy.empty();let i=new Qv(jg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new mw(e.key,r,new Jv(i.toArray()),sw.none())}}function uw(e,t,n){e instanceof pw?function(e,t,n){const r=e.value.clone(),i=vw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mw?function(e,t,n){if(!aw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=vw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dw(e,t,n,r){return e instanceof pw?function(e,t,n,r){if(!aw(e.precondition,t))return n;const i=e.value.clone(),o=yw(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof mw?function(e,t,n,r){if(!aw(e.precondition,t))return n;const i=yw(e.fieldTransforms,r,t),o=t.data;return o.setAll(gw(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return aw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qb(r.transform,e||null);null!=i&&(null===n&&(n=Oy.empty()),n.set(r.field,i))}return n||null}function fw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Og(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yb&&t instanceof Yb||e instanceof $b&&t instanceof $b?Og(e.elements,t.elements,fy):e instanceof tw&&t instanceof tw?fy(e.Ie,t.Ie):e instanceof Xb&&t instanceof Xb}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pw extends lw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mw extends lw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function vw(e,t,n){const r=new Map;mg(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Kb(s,a,n[i]))}return r}function yw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Gb(e,o,t))}return r}class bw extends lw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ww extends lw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _w{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&uw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Lb();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=cw(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Mg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ub())}isEqual(e){return this.batchId===e.batchId&&Og(this.mutations,e.mutations,((e,t)=>fw(e,t)))&&Og(this.baseMutations,e.baseMutations,((e,t)=>fw(e,t)))}}class Sw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mg(e.mutations.length===n.length);let r=jb;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Sw(e,t,n,r)}}class xw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Cw{constructor(e,t){this.count=e,this.unchangedNames=t}}var kw,Iw;function Tw(e){switch(e){default:return pg();case vg.CANCELLED:case vg.UNKNOWN:case vg.DEADLINE_EXCEEDED:case vg.RESOURCE_EXHAUSTED:case vg.INTERNAL:case vg.UNAVAILABLE:case vg.UNAUTHENTICATED:return!1;case vg.INVALID_ARGUMENT:case vg.NOT_FOUND:case vg.ALREADY_EXISTS:case vg.PERMISSION_DENIED:case vg.FAILED_PRECONDITION:case vg.ABORTED:case vg.OUT_OF_RANGE:case vg.UNIMPLEMENTED:case vg.DATA_LOSS:return!0}}function Ew(e){if(void 0===e)return dg("GRPC error has no .code"),vg.UNKNOWN;switch(e){case kw.OK:return vg.OK;case kw.CANCELLED:return vg.CANCELLED;case kw.UNKNOWN:return vg.UNKNOWN;case kw.DEADLINE_EXCEEDED:return vg.DEADLINE_EXCEEDED;case kw.RESOURCE_EXHAUSTED:return vg.RESOURCE_EXHAUSTED;case kw.INTERNAL:return vg.INTERNAL;case kw.UNAVAILABLE:return vg.UNAVAILABLE;case kw.UNAUTHENTICATED:return vg.UNAUTHENTICATED;case kw.INVALID_ARGUMENT:return vg.INVALID_ARGUMENT;case kw.NOT_FOUND:return vg.NOT_FOUND;case kw.ALREADY_EXISTS:return vg.ALREADY_EXISTS;case kw.PERMISSION_DENIED:return vg.PERMISSION_DENIED;case kw.FAILED_PRECONDITION:return vg.FAILED_PRECONDITION;case kw.ABORTED:return vg.ABORTED;case kw.OUT_OF_RANGE:return vg.OUT_OF_RANGE;case kw.UNIMPLEMENTED:return vg.UNIMPLEMENTED;case kw.DATA_LOSS:return vg.DATA_LOSS;default:return pg()}}(Iw=kw||(kw={}))[Iw.OK=0]="OK",Iw[Iw.CANCELLED=1]="CANCELLED",Iw[Iw.UNKNOWN=2]="UNKNOWN",Iw[Iw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Iw[Iw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Iw[Iw.NOT_FOUND=5]="NOT_FOUND",Iw[Iw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Iw[Iw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Iw[Iw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Iw[Iw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Iw[Iw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Iw[Iw.ABORTED=10]="ABORTED",Iw[Iw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Iw[Iw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Iw[Iw.INTERNAL=13]="INTERNAL",Iw[Iw.UNAVAILABLE=14]="UNAVAILABLE",Iw[Iw.DATA_LOSS=15]="DATA_LOSS";let Rw=null;function Pw(){return new TextEncoder}const Ow=new ig([4294967295,4294967295],0);function Aw(e){const t=Pw().encode(e),n=new rg;return n.update(t),new Uint8Array(n.digest())}function Nw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ig([n,r],0),new ig([i,o],0)]}class Mw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Dw("Invalid padding: ".concat(t));if(n<0)throw new Dw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Dw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Dw("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=ig.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(ig.fromNumber(n)));return 1===r.compare(Ow)&&(r=new ig([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Aw(e),[n,r]=Nw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Mw(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Aw(e),[n,r]=Nw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Dw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,zw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Lw(Mg.min(),r,new qv(Pg),Ob(),Ub())}}class zw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new zw(n,t,Ub(),Ub(),Ub())}}class jw{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Fw{constructor(e,t){this.targetId=e,this.fe=t}}class Uw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ey.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zw{constructor(){this.ge=0,this.pe=Ww(),this.ye=ey.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ub(),t=Ub(),n=Ub();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pg()}})),new zw(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Ww()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,mg(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Bw{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ob(),this.Qe=Vw(),this.Ke=new qv(Pg)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:pg()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(lb(i))if(0===n){const e=new Fg(i.path);this.We(t,e,Ny.newNoDocument(e,Mg.min()))}else mg(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Rw||Rw.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=iy(n).toUint8Array()}catch(e){if(e instanceof $v)return hg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Mw(o,r,i)}catch(e){return hg(e instanceof Dw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&lb(i.target)){const t=new Fg(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Ny.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Ub();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Lw(e,t,this.Ke,this.qe,n);return this.qe=Ob(),this.Qe=Vw(),this.Ke=new qv(Pg),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Zw,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Qv(Pg),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ug("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Zw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Vw(){return new qv(Fg.comparator)}function Ww(){return new qv(Fg.comparator)}const Hw={asc:"ASCENDING",desc:"DESCENDING"},qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"};class Kw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qw(e,t){return e.useProto3Json||dv(t)?t:{value:t}}function Xw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jw(e,t){return Xw(e,t.toTimestamp())}function $w(e){return mg(!!e),Mg.fromTimestamp(function(e){const t=ny(e);return new Ng(t.seconds,t.nanos)}(e))}function e_(e,t){return function(e){return new Lg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function t_(e){const t=Lg.fromString(e);return mg(x_(t)),t}function n_(e,t){return e_(e.databaseId,t.path)}function r_(e,t){const n=t_(t);if(n.get(1)!==e.databaseId.projectId)throw new yg(vg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yg(vg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fg(a_(n))}function i_(e,t){return e_(e.databaseId,t)}function o_(e){const t=t_(e);return 4===t.length?Lg.emptyPath():a_(t)}function s_(e){return new Lg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function a_(e){return mg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function l_(e,t,n){return{name:n_(e,t),fields:n.value.mapValue.fields}}function c_(e,t,n){const r=r_(e,t.name),i=$w(t.updateTime),o=t.createTime?$w(t.createTime):Mg.min(),s=new Oy({mapValue:{fields:t.fields}}),a=Ny.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function u_(e,t){let n;if(t instanceof pw)n={update:l_(e,t.key,t.value)};else if(t instanceof bw)n={delete:n_(e,t.key)};else if(t instanceof mw)n={update:l_(e,t.key,t.data),updateMask:S_(t.fieldMask)};else{if(!(t instanceof ww))return pg();n={verify:n_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Xb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $b)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tw)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw pg()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pg()}(e,t.precondition)),n}function d_(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?sw.updateTime($w(e.updateTime)):void 0!==e.exists?sw.exists(e.exists):sw.none()}(t.currentDocument):sw.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)mg("REQUEST_TIME"===t.setToServerValue),n=new Xb;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Yb(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new $b(e)}else"increment"in t?n=new tw(e,t.increment):pg();const r=jg.fromServerFormat(t.fieldPath);return new iw(r,n)}(e,t))):[];if(t.update){t.update.name;const i=r_(e,t.update.name),o=new Oy({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Jv(t.map((e=>jg.fromServerFormat(e))))}(t.updateMask);return new mw(i,o,e,n,r)}return new pw(i,o,n,r)}if(t.delete){const r=r_(e,t.delete);return new bw(r,n)}if(t.verify){const r=r_(e,t.verify);return new ww(r,n)}return pg()}function h_(e,t){return{documents:[i_(e,t.path)]}}function f_(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=i_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=i_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return __(Zy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:b_(e.field),direction:g_(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Qw(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function p_(e){let t=o_(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mg(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=m_(e);return t instanceof Zy&&Wy(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new zy(w_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,dv(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new My(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new My(n,t)}(n.endAt)),fb(t,i,s,o,a,"F",l,c)}function m_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=w_(e.unaryFilter.field);return Uy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=w_(e.unaryFilter.field);return Uy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=w_(e.unaryFilter.field);return Uy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=w_(e.unaryFilter.field);return Uy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pg()}}(e):void 0!==e.fieldFilter?function(e){return Uy.create(w_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zy.create(e.compositeFilter.filters.map((e=>m_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pg()}}(e.compositeFilter.op))}(e):pg()}function g_(e){return Hw[e]}function v_(e){return qw[e]}function y_(e){return Gw[e]}function b_(e){return{fieldPath:e.canonicalString()}}function w_(e){return jg.fromServerFormat(e.fieldPath)}function __(e){return e instanceof Uy?function(e){if("=="===e.op){if(xy(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NAN"}};if(Sy(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xy(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NOT_NAN"}};if(Sy(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:b_(e.field),op:v_(e.op),value:e.value}}}(e):e instanceof Zy?function(e){const t=e.getFilters().map((e=>__(e)));return 1===t.length?t[0]:{compositeFilter:{op:y_(e.op),filters:t}}}(e):pg()}function S_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function x_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class C_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ey.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new C_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new C_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new C_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new C_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k_{constructor(e){this.ut=e}}function I_(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:T_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:n_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xw(e,t.version.toTimestamp()),createTime:Xw(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:E_(t.version)};else{if(!t.isUnknownDocument())return pg();r.unknownDocument={path:n.path.toArray(),version:E_(t.version)}}return r}function T_(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function E_(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function R_(e){const t=new Ng(e.seconds,e.nanoseconds);return Mg.fromTimestamp(t)}function P_(e,t){const n=(t.baseMutations||[]).map((t=>d_(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>d_(e.ut,t))),i=Ng.fromMillis(t.localWriteTimeMs);return new _w(t.batchId,i,n,r)}function O_(e){const t=R_(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?R_(e.lastLimboFreeSnapshotVersion):Mg.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return mg(1===e.documents.length),yb(pb(o_(e.documents[0])))}(e.query):function(e){return yb(p_(e))}(e.query),new C_(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ey.fromBase64String(e.resumeToken))}function A_(e,t){const n=E_(t.snapshotVersion),r=E_(t.lastLimboFreeSnapshotVersion);let i;i=lb(t.target)?h_(e.ut,t.target):f_(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sb(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function N_(e){const t=p_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_b(t,t.limit,"L"):t}function M_(e,t){return new xw(t.largestBatchId,d_(e.ut,t.overlayMutation))}function D_(e,t){const n=t.path.lastSegment();return[e,pv(t.path.popLast()),n]}function L_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:E_(r.readTime),documentKey:pv(r.documentKey.path),largestBatchId:r.largestBatchId}}class z_{getBundleMetadata(e,t){return j_(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:R_(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return j_(e).put(function(e){return{bundleId:e.id,createTime:E_($w(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return F_(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:N_(e.bundledQuery),readTime:R_(e.readTime)}}(e)}))}saveNamedQuery(e,t){return F_(e).put(function(e){return{name:e.name,readTime:E_($w(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function j_(e){return Bv(e,"bundles")}function F_(e){return Bv(e,"namedQueries")}class U_{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new U_(e,n)}getOverlay(e,t){return Z_(e).get(D_(this.userId,t)).next((e=>e?M_(this.serializer,e):null))}getOverlays(e,t){const n=Db();return Jg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new xw(t,i);r.push(this.lt(e,o))})),Jg.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(pv(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Z_(e).H("collectionPathOverlayIndex",r))})),Jg.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Db(),i=pv(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Z_(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=M_(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Db();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Z_(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=M_(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return Z_(e).put(function(e,t,n){const[r,i,o]=D_(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:u_(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function Z_(e){return Bv(e,"documentOverlays")}class B_{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(ry(e.integerValue));else if("doubleValue"in e){const n=ry(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),hv(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(iy(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Iy(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):pg()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Fg.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function V_(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function W_(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=V_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}B_.St=new B_;class H_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=W_(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=W_(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class q_{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class G_{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class K_{constructor(){this.Wt=new H_,this.Gt=new q_(this.Wt),this.zt=new G_(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Q_{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Q_(this.indexId,this.documentKey,this.arrayValue,n)}}function X_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Y_(e.arrayValue,t.arrayValue),0!==n?n:(n=Y_(e.directionalValue,t.directionalValue),0!==n?n:Fg.comparator(e.documentKey,t.documentKey)))}function Y_(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class J_{constructor(e){this.Jt=new Qv(((e,t)=>jg.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(mg(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Zg(e);if(void 0!==t&&!this.tn(t))return!1;const n=Bg(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Qv(jg.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Vg(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Vg(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Vg(n.field,"asc"===n.dir?0:1)));return new Ug(Ug.UNKNOWN_ID,this.collectionId,t,Wg.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function $_(e){var t,n;if(mg(e instanceof Uy||e instanceof Zy),e instanceof Uy){if(e instanceof tb){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Uy.create(e.field,"==",t))))||[];return Zy.create(r,"or")}return e}const r=e.filters.map((e=>$_(e)));return Zy.create(r,e.op)}function eS(e){if(0===e.getFilters().length)return[];const t=iS($_(e));return mg(rS(t)),tS(t)||nS(t)?[t]:t.getFilters()}function tS(e){return e instanceof Uy}function nS(e){return e instanceof Zy&&Wy(e)}function rS(e){return tS(e)||nS(e)||function(e){if(e instanceof Zy&&Vy(e)){for(const t of e.getFilters())if(!tS(t)&&!nS(t))return!1;return!0}return!1}(e)}function iS(e){if(mg(e instanceof Uy||e instanceof Zy),e instanceof Uy)return e;if(1===e.filters.length)return iS(e.filters[0]);const t=e.filters.map((e=>iS(e)));let n=Zy.create(t,e.op);return n=aS(n),rS(n)?n:(mg(n instanceof Zy),mg(By(n)),mg(n.filters.length>1),n.filters.reduce(((e,t)=>oS(e,t))))}function oS(e,t){let n;return mg(e instanceof Uy||e instanceof Zy),mg(t instanceof Uy||t instanceof Zy),n=e instanceof Uy?t instanceof Uy?function(e,t){return Zy.create([e,t],"and")}(e,t):sS(e,t):t instanceof Uy?sS(t,e):function(e,t){if(mg(e.filters.length>0&&t.filters.length>0),By(e)&&By(t))return Ky(e,t.getFilters());const n=Vy(e)?e:t,r=Vy(e)?t:e,i=n.filters.map((e=>oS(e,r)));return Zy.create(i,"or")}(e,t),aS(n)}function sS(e,t){if(By(t))return Ky(t,e.getFilters());{const n=t.filters.map((t=>oS(e,t)));return Zy.create(n,"or")}}function aS(e){if(mg(e instanceof Uy||e instanceof Zy),e instanceof Uy)return e;const t=e.getFilters();if(1===t.length)return aS(t[0]);if(Hy(e))return e;const n=t.map((e=>aS(e))),r=[];return n.forEach((t=>{t instanceof Uy?r.push(t):t instanceof Zy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Zy.create(r,e.op)}class lS{constructor(){this.on=new cS}addToCollectionParentIndex(e,t){return this.on.add(t),Jg.resolve()}getCollectionParents(e,t){return Jg.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Jg.resolve()}deleteFieldIndex(e,t){return Jg.resolve()}deleteAllFieldIndexes(e){return Jg.resolve()}createTargetIndexes(e,t){return Jg.resolve()}getDocumentsMatchingTarget(e,t){return Jg.resolve(null)}getIndexType(e,t){return Jg.resolve(0)}getFieldIndexes(e,t){return Jg.resolve([])}getNextCollectionGroupToUpdate(e){return Jg.resolve(null)}getMinOffset(e,t){return Jg.resolve(Gg.min())}getMinOffsetFromCollectionGroup(e,t){return Jg.resolve(Gg.min())}updateCollectionGroup(e,t,n){return Jg.resolve()}updateIndexEntries(e,t){return Jg.resolve()}}class cS{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qv(Lg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qv(Lg.comparator)).toArray()}}const uS=new Uint8Array(0);class dS{constructor(e,t){this.user=e,this.databaseId=t,this._n=new cS,this.an=new Rb((e=>sb(e)),((e,t)=>ab(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:pv(r)};return hS(e).put(i)}return Jg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ag(t),""],!1,!0);return hS(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(vv(r.parent))}return n}))}addFieldIndex(e,t){const n=pS(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=mS(e);return i.next((e=>{n.put(L_(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=pS(e),r=mS(e),i=fS(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=pS(e),n=fS(e),r=mS(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Jg.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new J_(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=fS(e);let r=!0;const i=new Map;return Jg.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ub();const r=[];return Jg.forEach(i,((i,o)=>{ug("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(sb(t)));const s=function(e,t){const n=Zg(t);if(void 0===n)return null;for(const r of cb(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Bg(t))for(const t of cb(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Bg(t)){const t=0===i.kind?ub(e,i.fieldPath,e.startAt):db(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new My(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Bg(t)){const t=0===i.kind?db(e,i.fieldPath,e.endAt):ub(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new My(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Jg.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Fg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Jg.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:eS(Zy.create(e.filters,"and")).map((t=>ob(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):uS,d=this.Tn(e,a,n[u%l],r),h=this.En(e,a,i[u%l],o),f=s.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new Q_(e,Fg.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Q_(e,Fg.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new J_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Jg.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Qv(jg.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new K_;for(const r of Bg(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);B_.St.ht(e,i)}return n.Ut()}In(e){const t=new K_;return B_.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new K_;return B_.St.ht(by(this.databaseId,t),n.jt(function(e){const t=Bg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new K_);let i=0;for(const o of Bg(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&_y(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);B_.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new K_;n.seed(e.Ut()),B_.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Uy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=pS(e),r=mS(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Jg.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Wg(t.sequenceNumber,new Gg(R_(t.readTime),new Fg(vv(t.documentKey)),t.largestBatchId)):Wg.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Vg(jg.fromServerFormat(t),n)}));return new Ug(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=pS(e),i=mS(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Jg.forEach(t,(t=>i.put(L_(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Jg.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Jg.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Jg.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Jg.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return fS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return fS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=fS(e);let i=new Qv(X_);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Q_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Qv(X_);const r=this.dn(t,e);if(null==r)return n;const i=Zg(t);if(null!=i){const o=e.data.field(i.fieldPath);if(_y(o))for(const i of o.arrayValue.values||[])n=n.add(new Q_(t.indexId,e.key,this.In(i),r))}else n=n.add(new Q_(t.indexId,e.key,uS,r));return n}yn(e,t,n,r,i){ug("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Yv(o),l=Yv(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Yv(s)):t?(i(a),a=Yv(o)):(a=Yv(o),l=Yv(s))}}(r,i,X_,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),Jg.waitFor(o)}fn(e){let t=1;return mS(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>X_(e,t))).filter(((e,t,n)=>!t||0!==X_(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=X_(o,e),i=X_(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,uS,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,uS,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return X_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gS)}getMinOffset(e,t){return Jg.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||pg())))).next(gS)}}function hS(e){return Bv(e,"collectionParents")}function fS(e){return Bv(e,"indexEntries")}function pS(e){return Bv(e,"indexConfiguration")}function mS(e){return Bv(e,"indexState")}function gS(e){mg(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Kg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gg(t.readTime,t.documentKey,n)}const vS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yS{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new yS(e,yS.DEFAULT_COLLECTION_PERCENTILE,yS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bS(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{mg(1===a)})));const c=[];for(const u of n.mutations){const e=wv(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Jg.waitFor(o).next((()=>c))}function wS(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pg();t=e.noDocument}return JSON.stringify(t).length}yS.DEFAULT_COLLECTION_PERCENTILE=10,yS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yS.DEFAULT=new yS(41943040,yS.DEFAULT_COLLECTION_PERCENTILE,yS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yS.DISABLED=new yS(-1,0,0);class _S{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){mg(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new _S(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xS(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=CS(e),o=xS(e);return o.add({}).next((s=>{mg("number"==typeof s);const a=new _w(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>u_(e.ut,t))),i=n.mutations.map((t=>u_(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Qv(((e,t)=>Pg(e.canonicalString(),t.canonicalString())));for(const e of r){const t=wv(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,_v))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),Jg.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return xS(e).get(t).next((e=>e?(mg(e.userId===this.userId),P_(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Jg.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return xS(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(mg(t.batchId>=n),i=P_(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return xS(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xS(e).W("userMutationsIndex",t).next((e=>e.map((e=>P_(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=bv(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return CS(e).Y({range:r},((n,r,o)=>{const[s,a,l]=n,c=vv(a);if(s===this.userId&&t.path.isEqual(c))return xS(e).get(l).next((e=>{if(!e)throw pg();mg(e.userId===this.userId),i.push(P_(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qv(Pg);const r=[];return t.forEach((t=>{const i=bv(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=CS(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,l=vv(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Jg.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=bv(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Qv(Pg);return CS(e).Y({range:o},((e,t,i)=>{const[o,a,l]=e,c=vv(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(xS(e).get(t).next((e=>{if(null===e)throw pg();mg(e.userId===this.userId),n.push(P_(this.serializer,e))})))})),Jg.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return bS(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Jg.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Jg.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return CS(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=vv(e[1]);r.push(t)}else n.done()})).next((()=>{mg(0===r.length)}))}))}containsKey(e,t){return SS(e,this.userId,t)}Mn(e){return kS(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function SS(e,t,n){const r=bv(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return CS(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function xS(e){return Bv(e,"mutations")}function CS(e){return Bv(e,"documentMutations")}function kS(e){return Bv(e,"mutationQueues")}class IS{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new IS(0)}static Nn(){return new IS(-1)}}class TS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new IS(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Mg.fromTimestamp(new Ng(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ES(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(mg(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ES(e).Y(((o,s)=>{const a=O_(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Jg.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ES(e).Y(((e,n)=>{const r=O_(n);t(r)}))}Bn(e){return RS(e).get("targetGlobalKey").next((e=>(mg(null!==e),e)))}Ln(e,t){return RS(e).put("targetGlobalKey",t)}kn(e,t){return ES(e).put(A_(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=sb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ES(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=O_(n);ab(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=PS(e);return t.forEach((t=>{const o=pv(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Jg.waitFor(r)}removeMatchingKeys(e,t,n){const r=PS(e);return Jg.forEach(t,(t=>{const i=pv(t.path);return Jg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=PS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=PS(e);let i=Ub();return r.Y({range:n,J:!0},((e,t,n)=>{const r=vv(e[1]),o=new Fg(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=pv(t.path),r=IDBKeyRange.bound([n],[Ag(n)],!1,!0);let i=0;return PS(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return ES(e).get(t).next((e=>e?O_(e):null))}}function ES(e){return Bv(e,"targets")}function RS(e){return Bv(e,"targetGlobal")}function PS(e){return Bv(e,"targetDocuments")}function OS(e,t){let[n,r]=e,[i,o]=t;const s=Pg(n,i);return 0===s?Pg(r,o):s}class AS{constructor(e){this.Qn=e,this.buffer=new Qv(OS),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();OS(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NS{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){ug("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rv(e)?ug("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Yg(e)}await this.Gn(3e5)}))}}class MS{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Jg.resolve(uv._e);const n=new AS(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ug("LruGarbageCollector","Garbage collection skipped; disabled"),Jg.resolve(vS)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ug("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),vS):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ug("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),cg()<=Mr.DEBUG&&ug("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Jg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function DS(e,t){return new MS(e,t)}class LS{constructor(e,t){this.db=e,this.garbageCollector=DS(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return zS(e,n)}removeReference(e,t,n){return zS(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return zS(e,t)}Xn(e,t){return function(e,t){let n=!1;return kS(e).Z((r=>SS(e,r,t).next((e=>(e&&(n=!0),Jg.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Mg.min()),PS(e).delete(function(e){return[0,pv(e.path)]}(o)))))}));r.push(t)}})).next((()=>Jg.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return zS(e,t)}Zn(e,t){const n=PS(e);let r,i=uv._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==uv._e&&t(new Fg(vv(r)),i),i=l,r=a):i=uv._e})).next((()=>{i!==uv._e&&t(new Fg(vv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zS(e,t){return PS(e).put(function(e,t){return{targetId:0,path:pv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class jS{constructor(){this.changes=new Rb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ny.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Jg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FS{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return VS(e).put(n)}removeEntry(e,t,n){return VS(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],T_(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=Ny.newInvalidDocument(t);return VS(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(WS(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:Ny.newInvalidDocument(t)};return VS(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(WS(t))},((e,r)=>{n={document:this.tr(t,r),size:wS(r)}})).next((()=>n))}getEntries(e,t){let n=Ob();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Ob(),r=new qv(Fg.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,wS(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Jg.resolve();let r=new Qv(qS);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(WS(r.first()),WS(r.last())),o=r.getIterator();let s=o.getNext();return VS(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Fg.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&qS(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(WS(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),T_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return VS(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Ob();for(const i of e){const e=this.tr(Fg.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(kb(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ob();const o=HS(t,n),s=HS(t,Gg.max());return VS(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(Fg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ZS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return BS(e).get("remoteDocumentGlobalKey").next((e=>(mg(!!e),e)))}er(e,t){return BS(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=c_(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Fg.fromSegments(t.noDocument.path),r=R_(t.noDocument.readTime);n=Ny.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return pg();{const e=Fg.fromSegments(t.unknownDocument.path),r=R_(t.unknownDocument.version);n=Ny.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Ng(e[0],e[1]);return Mg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Mg.min()))return e}return Ny.newInvalidDocument(e)}}function US(e){return new FS(e)}class ZS extends jS{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Rb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Qv(((e,t)=>Pg(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=I_(this._r.serializer,o);r=r.add(i.path.popLast());const l=wS(a);n+=l-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=I_(this._r.serializer,o.convertToNoDocument(Mg.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Jg.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function BS(e){return Bv(e,"remoteDocumentGlobal")}function VS(e){return Bv(e,"remoteDocumentsV14")}function WS(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function HS(e,t){const n=t.documentKey.path.toArray();return[e,T_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qS(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Pg(n[o],r[o]),i)return i;return i=Pg(n.length,r.length),i||(i=Pg(n[n.length-2],r[r.length-2]),i||Pg(n[n.length-1],r[r.length-1]))}class GS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class KS{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&dw(n.mutation,e,Jv.empty(),Ng.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ub()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ub();const r=Db();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Nb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Db();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ub())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ob();const o=zb(),s=zb();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof mw)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),dw(s.mutation,t,s.mutation.getFieldMask(),Ng.now())):o.set(t.key,Jv.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new GS(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=zb();let r=new qv(((e,t)=>e-t)),i=Ub();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Jv.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Ub()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Lb();l.forEach((e=>{if(!i.has(e)){const r=cw(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Jg.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Jg.resolve(Db());let s=-1,a=i;return o.next((t=>Jg.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Jg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ub()))).next((e=>({batchId:s,changes:Mb(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fg(t)).next((e=>{let t=Nb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Nb();return this.indexManager.getCollectionParents(e,i).next((s=>Jg.forEach(s,(s=>{const a=function(e,t){return new hb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ny.newInvalidDocument(r)))}));let n=Nb();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&dw(o.mutation,r,Jv.empty(),Ng.now()),kb(t,r)&&(n=n.insert(e,r))})),n}))}}class QS{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Jg.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:$w(e.createTime)}}(t)),Jg.resolve()}getNamedQuery(e,t){return Jg.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:N_(e.bundledQuery),readTime:$w(e.readTime)}}(t)),Jg.resolve()}}class XS{constructor(){this.overlays=new qv(Fg.comparator),this.lr=new Map}getOverlay(e,t){return Jg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Db();return Jg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Jg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Jg.resolve()}getOverlaysForCollection(e,t,n){const r=Db(),i=t.length+1,o=new Fg(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Jg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new qv(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Db(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Db(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Jg.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new xw(t,n));let i=this.lr.get(t);void 0===i&&(i=Ub(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class YS{constructor(){this.hr=new Qv(JS.Pr),this.Ir=new Qv(JS.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new JS(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new JS(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Fg(new Lg([])),n=new JS(t,e),r=new JS(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Fg(new Lg([])),n=new JS(t,e),r=new JS(t,e+1);let i=Ub();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new JS(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class JS{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Fg.comparator(e.key,t.key)||Pg(e.gr,t.gr)}static Tr(e,t){return Pg(e.gr,t.gr)||Fg.comparator(e.key,t.key)}}class $S{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Qv(JS.Pr)}checkEmpty(e){return Jg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _w(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new JS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Jg.resolve(o)}lookupMutationBatch(e,t){return Jg.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Jg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Jg.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Jg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new JS(t,0),r=new JS(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Jg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qv(Pg);return t.forEach((e=>{const t=new JS(e,0),r=new JS(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Jg.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fg.isDocumentKey(i)||(i=i.child(""));const o=new JS(new Fg(i),0);let s=new Qv(Pg);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),Jg.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){mg(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Jg.forEach(t.mutations,(r=>{const i=new JS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new JS(t,0),r=this.yr.firstAfterOrEqual(n);return Jg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Jg.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ex{constructor(e){this.Cr=e,this.docs=new qv(Fg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Jg.resolve(n?n.document.mutableCopy():Ny.newInvalidDocument(t))}getEntries(e,t){let n=Ob();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ny.newInvalidDocument(e))})),Jg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ob();const o=t.path,s=new Fg(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Kg(qg(s),n)<=0||(r.has(s.key)||kb(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Jg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){pg()}vr(e,t){return Jg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new tx(this)}getSize(e){return Jg.resolve(this.size)}}class tx extends jS{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Jg.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class nx{constructor(e){this.persistence=e,this.Fr=new Rb((e=>sb(e)),ab),this.lastRemoteSnapshotVersion=Mg.min(),this.highestTargetId=0,this.Mr=0,this.Or=new YS,this.targetCount=0,this.Nr=IS.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Jg.resolve()}getLastRemoteSnapshotVersion(e){return Jg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jg.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Jg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Jg.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new IS(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Jg.resolve()}updateTargetData(e,t){return this.kn(t),Jg.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Jg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Jg.waitFor(i).next((()=>r))}getTargetCount(e){return Jg.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Jg.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Jg.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Jg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Jg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Jg.resolve(n)}containsKey(e,t){return Jg.resolve(this.Or.containsKey(t))}}class rx{constructor(e,t){this.Br={},this.overlays={},this.Lr=new uv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new nx(this),this.indexManager=new lS,this.remoteDocumentCache=function(e){return new ex(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new k_(t),this.Kr=new QS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new $S(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){ug("MemoryPersistence","Starting transaction:",e);const r=new ix(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Jg.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class ix extends Xg{constructor(e){super(),this.currentSequenceNumber=e}}class ox{constructor(e){this.persistence=e,this.Gr=new YS,this.zr=null}static jr(e){return new ox(e)}get Hr(){if(this.zr)return this.zr;throw pg()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Jg.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Jg.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Jg.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jg.forEach(this.Hr,(n=>{const r=Fg.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Mg.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Jg.or([()=>Jg.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class sx{constructor(e){this.serializer=e}N(e,t,n,r){const i=new $g("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yv,{unique:!0}),e.createObjectStore("documentMutations")}(e),ax(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Jg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ax(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yv,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Jg.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Nv});t.createIndex("collectionPathOverlayIndex",Mv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Dv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Sv});t.createIndex("documentKeyIndex",xv),t.createIndex("collectionGroupIndex",Cv)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Rv}).createIndex("sequenceNumberIndex",Pv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ov}).createIndex("documentKeyIndex",Av,{unique:!1})}(e)))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=wS(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Jg.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Jg.forEach(n,(n=>{mg(n.userId===t.userId);const r=P_(this.serializer,n);return bS(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Lg(n),s=function(e){return[0,pv(e)]}(o);r.push(t.get(s).next((n=>n?Jg.resolve():(n=>t.put({targetId:0,path:pv(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Jg.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Ev});const n=t.store("collectionParents"),r=new cS,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pv(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Lg(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=vv(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=O_(n),i=A_(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Fg(Lg.fromString(e.document.name).popFirst(5)):e.noDocument?Fg.fromSegments(e.noDocument.path):e.unknownDocument?Fg.fromSegments(e.unknownDocument.path):pg()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Jg.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=US(this.serializer),i=new rx(ox.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ub();P_(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Jg.forEach(n,((e,n)=>{const o=new sg(n),s=U_.ct(this.serializer,o),a=i.getIndexManager(o),l=_S.ct(o,this.serializer,a,i.referenceDelegate);return new KS(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Zv(t,uv._e),e).next()}))}))}}function ax(e){e.createObjectStore("targetDocuments",{keyPath:Iv}).createIndex("documentTargetsIndex",Tv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kv,{unique:!0}),e.createObjectStore("targetGlobal")}const lx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cx{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!cx.D())throw new yg(vg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LS(this,r),this.Ii=t+"main",this.serializer=new k_(a),this.Ti=new ev(this.Ii,this.ai,new sx(this.serializer)),this.qr=new TS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=US(this.serializer),this.Kr=new z_,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&dg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yg(vg.FAILED_PRECONDITION,lx);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new uv(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>dx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(rv(e))return ug("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ug("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return ux(e).get("owner").next((e=>Jg.resolve(this.wi(e))))}Si(e){return dx(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Bv(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Jg.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Jg.resolve(!0):ux(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new yg(vg.FAILED_PRECONDITION,lx);return!1}}return!(!this.networkEnabled||!this.inForeground)||dx(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ug("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Zv(e,uv._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>dx(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return _S.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dS(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return U_.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){ug("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Uv:14===e?Fv:13===e?jv:12===e?zv:11===e?Lv:void pg()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new Zv(r,this.Lr?this.Lr.next():uv._e),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw dg("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new yg(vg.FAILED_PRECONDITION,Qg);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Li(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Li(e){return ux(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new yg(vg.FAILED_PRECONDITION,lx)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ux(e).put("owner",t)}static D(){return ev.D()}pi(e){const t=ux(e);return t.get("owner").next((e=>this.wi(e)?(ug("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Jg.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(dg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!ur()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ug("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){dg("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function ux(e){return Bv(e,"owner")}function dx(e){return Bv(e,"clientMetadata")}function hx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class fx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Ub(),r=Ub();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new fx(e,t.fromCache,n,r)}}class px{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mx{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new px;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(cg()<=Mr.DEBUG&&ug("QueryEngine","SDK will not create cache indexes for query:",Cb(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Jg.resolve()):(cg()<=Mr.DEBUG&&ug("QueryEngine","Query:",Cb(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(cg()<=Mr.DEBUG&&ug("QueryEngine","The SDK decides to create cache indexes for query:",Cb(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yb(t))):Jg.resolve())}zi(e,t){if(mb(t))return Jg.resolve(null);let n=yb(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=_b(t,null,"F"),n=yb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ub(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,_b(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return mb(t)||r.isEqual(Mg.min())?Jg.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Jg.resolve(null):(cg()<=Mr.DEBUG&&ug("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cb(t)),this.Xi(e,o,t,Hg(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Qv(Tb(e));return t.forEach(((t,r)=>{kb(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return cg()<=Mr.DEBUG&&ug("QueryEngine","Using full collection scan to execute query:",Cb(t)),this.Gi.getDocumentsMatchingQuery(e,t,Gg.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class gx{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new qv(Pg),this.ns=new Rb((e=>sb(e)),ab),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function vx(e,t,n,r){return new gx(e,t,n,r)}async function yx(e,t){const n=gg(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Ub();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function bx(e){const t=gg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function wx(e,t,n){let r=Ub(),i=Ub();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ob();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Mg.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ug("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function _x(e,t){const n=gg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Sx(e,t){const n=gg(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Jg.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new C_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function xx(e,t,n){const r=gg(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!rv(e))throw e;ug("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Cx(e,t,n){const r=gg(e);let i=Mg.min(),o=Ub();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=gg(e),i=r.ns.get(n);return void 0!==i?Jg.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,yb(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Mg.min(),n?o:Ub()))).next((e=>(Tx(r,Ib(t),e),{documents:e,ls:o})))))}function kx(e,t){const n=gg(e),r=gg(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Ix(e,t){const n=gg(e),r=n.rs.get(t)||Mg.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Hg(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Tx(n,t,e),e)))}function Tx(e,t,n){let r=e.rs.get(t)||Mg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function Ex(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ub();const r=await Sx(e,yb(N_(t.bundledQuery))),i=gg(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=$w(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(ey.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function Rx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Px(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ox(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Ax{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new yg(r.error.code,r.error.message))),o?new Ax(e,t,r.state,i):(dg("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nx{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new yg(n.error.code,n.error.message))),i?new Nx(e,n.state,r):(dg("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Bb();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=fv(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Mx(e,i):(dg("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Dx{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Dx(t.clientId,t.onlineState):(dg("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Lx{constructor(){this.activeTargetIds=Bb()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zx{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new qv(Pg),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=Rx(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Lx),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(Rx(this.persistenceKey,n));if(e){const t=Mx.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ox(this.persistenceKey,e));if(n){const r=Nx.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ox(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ug("SharedClientState","READ",e,t),t}setItem(e,t){ug("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ug("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(ug("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void dg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=uv._e;if(null!=e)try{const n=JSON.parse(e);mg("number"==typeof n),t=n}catch(e){dg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==uv._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new Ax(this.currentUser,e,t,n),i=Px(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=Px(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=Ox(this.persistenceKey,e),i=new Nx(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return Mx.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ax.Ts(new sg(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return Nx.Ts(r,t)}Ms(e){return Dx.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);ug("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Bb();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class jx{constructor(){this.eo=new Lx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Lx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fx{ro(e){}shutdown(){}}class Ux{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zx=null;function Bx(){return null===Zx?Zx=268435456+Math.round(2147483648*Math.random()):Zx++,"0x"+Zx.toString(16)}const Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wx{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Hx="WebChannelConnection";class qx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=Bx(),s=this.So(e,t);ug("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then((t=>(ug("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw hg("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ag,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Vx[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=Bx();return new Promise(((o,s)=>{const a=new ng;a.setWithCredentials(!0),a.listenOnce(Jm.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ym.NO_ERROR:const t=a.getResponseJson();ug(Hx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Ym.TIMEOUT:ug(Hx,"RPC '".concat(e,"' ").concat(i," timed out")),s(new yg(vg.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const n=a.getStatus();if(ug(Hx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(vg).indexOf(t)>=0?t:vg.UNKNOWN}(t.status);s(new yg(e,t.message))}else s(new yg(vg.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new yg(vg.UNAVAILABLE,"Connection failed."));break;default:pg()}}finally{ug(Hx,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ug(Hx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=Bx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Qm(),s=Xm(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");ug(Hx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new Wx({co:t=>{h?ug(Hx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ug(Hx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ug(Hx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,tg.EventType.OPEN,(()=>{h||ug(Hx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,tg.EventType.CLOSE,(()=>{h||(h=!0,ug(Hx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,tg.EventType.ERROR,(t=>{h||(h=!0,hg(Hx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new yg(vg.UNAVAILABLE,"The operation could not be completed")))})),p(u,tg.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];mg(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ug(Hx,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=kw[e];if(void 0!==t)return Ew(t)}(t),i=s.message;void 0===n&&(n=vg.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Ro(new yg(n,i)),u.close()}else ug(Hx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(s,$m.STAT_EVENT,(t=>{t.stat===eg.PROXY?ug(Hx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===eg.NOPROXY&&ug(Hx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Gx(){return"undefined"!=typeof window?window:null}function Kx(){return"undefined"!=typeof document?document:null}function Qx(e){return new Kw(e,!0)}class Xx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&ug("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Yx{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Xx(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===vg.RESOURCE_EXHAUSTED?(dg(t.toString()),dg("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===vg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new yg(vg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return ug("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(ug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jx extends Yx{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(mg(void 0===t||"string"==typeof t),ey.fromBase64String(t||"")):(mg(void 0===t||t instanceof Uint8Array),ey.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?vg.UNKNOWN:Ew(e.code);return new yg(t,e.message||"")}(s);n=new Uw(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=r_(e,r.document.name),o=$w(r.document.updateTime),s=r.document.createTime?$w(r.document.createTime):Mg.min(),a=new Oy({mapValue:{fields:r.document.fields}}),l=Ny.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new jw(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=r_(e,r.document),o=r.readTime?$w(r.readTime):Mg.min(),s=Ny.newNoDocument(i,o),a=r.removedTargetIds||[];n=new jw([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=r_(e,r.document),o=r.removedTargetIds||[];n=new jw([],o,i,null)}else{if(!("filter"in t))return pg();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Cw(r,i),s=e.targetId;n=new Fw(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Mg.min():t.readTime?$w(t.readTime):Mg.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=s_(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=lb(r)?{documents:h_(e,r)}:{query:f_(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Yw(e,t.resumeToken);const r=Qw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Mg.min())>0){n.readTime=Xw(e,t.snapshotVersion.toTimestamp());const r=Qw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=s_(this.serializer),t.removeTarget=e,this.e_(t)}}class $x extends Yx{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(mg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(mg(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?$w(e.updateTime):$w(t);return n.isEqual(Mg.min())&&(n=$w(t)),new ow(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=$w(e.commitTime);return this.listener.I_(n,t)}return mg(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=s_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>u_(this.serializer,e)))};this.e_(t)}}class eC extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new yg(vg.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===vg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yg(vg.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===vg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yg(vg.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class tC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(dg(t),this.f_=!1):ug("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class nC{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{dC(this)&&(ug("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=gg(e);t.C_.add(4),await iC(t),t.M_.set("Unknown"),t.C_.delete(4),await rC(t)}(this))}))})),this.M_=new tC(n,r)}}async function rC(e){if(dC(e))for(const t of e.v_)await t(!0)}async function iC(e){for(const t of e.v_)await t(!1)}function oC(e,t){const n=gg(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),uC(n)?cC(n):RC(n).Ho()&&aC(n,t))}function sC(e,t){const n=gg(e),r=RC(n);n.D_.delete(t),r.Ho()&&lC(n,t),0===n.D_.size&&(r.Ho()?r.Zo():dC(n)&&n.M_.set("Unknown"))}function aC(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}RC(e).u_(t)}function lC(e,t){e.x_.Oe(t),RC(e).c_(t)}function cC(e){e.x_=new Bw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),RC(e).start(),e.M_.g_()}function uC(e){return dC(e)&&!RC(e).jo()&&e.D_.size>0}function dC(e){return 0===gg(e).C_.size}function hC(e){e.x_=void 0}async function fC(e){e.D_.forEach(((t,n)=>{aC(e,t)}))}async function pC(e,t){hC(e),uC(e)?(e.M_.w_(t),cC(e)):e.M_.set("Unknown")}async function mC(e,t,n){if(e.M_.set("Online"),t instanceof Uw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){ug("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gC(e,n)}else if(t instanceof jw?e.x_.$e(t):t instanceof Fw?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Mg.min()))try{const t=await bx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(ey.EMPTY_BYTE_STRING,r.snapshotVersion)),lC(e,t);const i=new C_(r.target,t,n,r.sequenceNumber);aC(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ug("RemoteStore","Failed to raise snapshot:",t),await gC(e,t)}}async function gC(e,t,n){if(!rv(t))throw t;e.C_.add(1),await iC(e),e.M_.set("Offline"),n||(n=()=>bx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ug("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await rC(e)}))}function vC(e,t){return t().catch((n=>gC(e,n,t)))}async function yC(e){const t=gg(e),n=PC(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;bC(t);)try{const e=await _x(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,wC(t,e)}catch(e){await gC(t,e)}_C(t)&&SC(t)}function bC(e){return dC(e)&&e.b_.length<10}function wC(e,t){e.b_.push(t);const n=PC(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function _C(e){return dC(e)&&!PC(e).jo()&&e.b_.length>0}function SC(e){PC(e).start()}async function xC(e){PC(e).E_()}async function CC(e){const t=PC(e);for(const n of e.b_)t.P_(n.mutations)}async function kC(e,t,n){const r=e.b_.shift(),i=Sw.from(r,t,n);await vC(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await yC(e)}async function IC(e,t){t&&PC(e).h_&&await async function(e,t){if(function(e){return Tw(e)&&e!==vg.ABORTED}(t.code)){const n=e.b_.shift();PC(e).Yo(),await vC(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await yC(e)}}(e,t),_C(e)&&SC(e)}async function TC(e,t){const n=gg(e);n.asyncQueue.verifyOperationInProgress(),ug("RemoteStore","RemoteStore received new credentials");const r=dC(n);n.C_.add(3),await iC(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await rC(n)}async function EC(e,t){const n=gg(e);t?(n.C_.delete(2),await rC(n)):t||(n.C_.add(2),await iC(n),n.M_.set("Unknown"))}function RC(e){return e.O_||(e.O_=function(e,t,n){const r=gg(e);return r.A_(),new Jx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:fC.bind(null,e),Io:pC.bind(null,e),a_:mC.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),uC(e)?cC(e):e.M_.set("Unknown")):(await e.O_.stop(),hC(e))}))),e.O_}function PC(e){return e.N_||(e.N_=function(e,t,n){const r=gg(e);return r.A_(),new $x(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:xC.bind(null,e),Io:IC.bind(null,e),T_:CC.bind(null,e),I_:kC.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await yC(e)):(await e.N_.stop(),e.b_.length>0&&(ug("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class OC{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new OC(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yg(vg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AC(e,t){if(dg("AsyncQueue","".concat(t,": ").concat(e)),rv(e))return new yg(vg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class NC{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fg.comparator(t.key,n.key):(e,t)=>Fg.comparator(e.key,t.key),this.keyedMap=Nb(),this.sortedSet=new qv(this.comparator)}static emptySet(e){return new NC(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof NC))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new NC;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class MC{constructor(){this.B_=new qv(Fg.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):pg():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class DC{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new DC(e,t,NC.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class LC{constructor(){this.k_=void 0,this.listeners=[]}}class zC{constructor(){this.queries=new Rb((e=>xb(e)),Sb),this.onlineState="Unknown",this.q_=new Set}}async function jC(e,t){const n=gg(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new LC),i)try{o.k_=await n.onListen(r)}catch(e){const n=AC(e,"Initialization of query '".concat(Cb(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&BC(n)}async function FC(e,t){const n=gg(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function UC(e,t){const n=gg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&BC(n)}function ZC(e,t,n){const r=gg(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function BC(e){e.q_.forEach((e=>{e.next()}))}class VC{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new DC(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=DC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class WC{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class HC{constructor(e){this.serializer=e}hs(e){return r_(this.serializer,e)}Ps(e){return e.metadata.exists?c_(this.serializer,e.document,!1):Ny.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return $w(e)}}class qC{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GC(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Lg.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new HC(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ub()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=gg(e);let o=Ub(),s=Ob();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await Sx(i,function(e){return yb(pb(Lg.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>wx(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new HC(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await Ex(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function GC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class KC{constructor(e){this.key=e}}class QC{constructor(e){this.key=e}}class XC{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ub(),this.mutatedKeys=Ub(),this._a=Tb(e),this.aa=new NC(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new MC,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=kb(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pg()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const s=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new DC(this.query,e.aa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new MC,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ub(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new QC(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new KC(n))})),t}da(e){this.ia=e.ls,this.oa=Ub();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return DC.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class YC{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class JC{constructor(e){this.key=e,this.Ra=!1}}class $C{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Rb((e=>xb(e)),Sb),this.fa=new Map,this.ga=new Set,this.pa=new qv(Fg.comparator),this.ya=new Map,this.wa=new YS,this.Sa={},this.ba=new Map,this.Da=IS.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function ek(e,t){const n=Ik(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await Sx(n.localStore,yb(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await tk(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&oC(n.remoteStore,e)}return i}async function tk(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await Cx(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return hk(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const o=await Cx(e.localStore,t,!0),s=new XC(t,o.ls),a=s.ca(o.documents),l=zw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);hk(e,n,c.Ta);const u=new YC(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function nk(e,t){const n=gg(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Sb(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xx(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),sC(n.remoteStore,r.targetId),uk(n,r.targetId)})).catch(Yg)):(uk(n,r.targetId),await xx(n.localStore,r.targetId,!0))}async function rk(e,t){const n=gg(e);try{const e=await function(e,t){const n=gg(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ey.EMPTY_BYTE_STRING,Mg.min()).withLastLimboFreeSnapshotVersion(Mg.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=Ob(),l=Ub();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(wx(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(Mg.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Jg.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(mg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?mg(r.Ra):e.removedDocuments.size>0&&(mg(r.Ra),r.Ra=!1))})),await mk(n,e,t)}catch(e){await Yg(e)}}function ik(e,t,n){const r=gg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=gg(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&BC(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ok(e,t,n){const r=gg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new qv(Fg.comparator);e=e.insert(o,Ny.newNoDocument(o,Mg.min()));const n=Ub().add(o),i=new Lw(Mg.min(),new Map,new qv(Pg),e,n);await rk(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),pk(r)}else await xx(r.localStore,t,!1).then((()=>uk(r,t,n))).catch(Yg)}async function sk(e,t){const n=gg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Jg.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);mg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ub();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ck(n,r,null),lk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mk(n,e)}catch(e){await Yg(e)}}async function ak(e,t,n){const r=gg(e);try{const e=await function(e,t){const n=gg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(mg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ck(r,t,n),lk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mk(r,e)}catch(n){await Yg(n)}}function lk(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function ck(e,t,n){const r=gg(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function uk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||dk(e,t)}))}function dk(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(sC(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),pk(e))}function hk(e,t,n){for(const r of n)r instanceof KC?(e.wa.addReference(r.key,t),fk(e,r)):r instanceof QC?(ug("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||dk(e,r.key)):pg()}function fk(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(ug("SyncEngine","New document in limbo: "+n),e.ga.add(r),pk(e))}function pk(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Fg(Lg.fromString(t)),r=e.Da.next();e.ya.set(r,new JC(n)),e.pa=e.pa.insert(n,r),oC(e.remoteStore,new C_(yb(pb(n.path)),r,"TargetPurposeLimboResolution",uv._e))}}async function mk(e,t,n){const r=gg(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{s.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=fx.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=gg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Jg.forEach(t,(t=>Jg.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Jg.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!rv(e))throw e;ug("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function gk(e,t){const n=gg(e);if(!n.currentUser.isEqual(t)){ug("SyncEngine","User change. New user:",t.toKey());const e=await yx(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new yg(vg.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mk(n,e._s)}}function vk(e,t){const n=gg(e),r=n.ya.get(t);if(r&&r.Ra)return Ub().add(r.key);{let e=Ub();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function yk(e,t){const n=gg(e),r=await Cx(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&hk(n,t.targetId,i.Ta),i}async function bk(e,t){const n=gg(e);return Ix(n.localStore,t).then((e=>mk(n,e)))}async function wk(e,t,n,r){const i=gg(e),o=await function(e,t){const n=gg(e),r=gg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Jg.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await yC(i.remoteStore):"acknowledged"===n||"rejected"===n?(ck(i,t,r||null),lk(i,t),function(e,t){gg(gg(e).mutationQueue).Fn(t)}(i.localStore,t)):pg(),await mk(i,o)):ug("SyncEngine","Cannot apply mutation batch with id: "+t)}async function _k(e,t,n){const r=gg(e),i=[],o=[];for(const s of t){let e;const t=r.fa.get(s);if(t&&0!==t.length){e=await Sx(r.localStore,yb(t[0]));for(const e of t){const t=r.ma.get(e),n=await yk(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await kx(r.localStore,s);e=await Sx(r.localStore,t),await tk(r,Sk(t),s,!1,e.resumeToken)}i.push(e)}return r.Va.a_(o),i}function Sk(e){return fb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xk(e){return function(e){return gg(gg(e).persistence).Bi()}(gg(e).localStore)}async function Ck(e,t,n,r){const i=gg(e);if(i.Ca)return void ug("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Ix(i.localStore,Ib(o[0])),r=Lw.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ey.EMPTY_BYTE_STRING);await mk(i,e,r);break}case"rejected":await xx(i.localStore,t,!0),uk(i,t,r);break;default:pg()}}async function kk(e,t,n){const r=Ik(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){ug("SyncEngine","Adding an already active target "+e);continue}const t=await kx(r.localStore,e),n=await Sx(r.localStore,t);await tk(r,Sk(t),n.targetId,!1,n.resumeToken),oC(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await xx(r.localStore,e,!1).then((()=>{sC(r.remoteStore,e),uk(r,e)})).catch(Yg)}}function Ik(e){const t=gg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ok.bind(null,t),t.Va.a_=UC.bind(null,t.eventManager),t.Va.Fa=ZC.bind(null,t.eventManager),t}function Tk(e){const t=gg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ak.bind(null,t),t}class Ek{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qx(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vx(this.persistence,new mx,e.initialUser,this.serializer)}createPersistence(e){return new rx(ox.jr,this.serializer)}createSharedClientState(e){return new jx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rk extends Ek{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await Tk(this.xa.syncEngine),await yC(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return vx(this.persistence,new mx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new NS(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new cv(t,this.persistence);return new lv(e.asyncQueue,n)}createPersistence(e){const t=hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yS.withCacheSize(this.cacheSizeBytes):yS.DEFAULT;return new cx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gx(),Kx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new jx}}class Pk extends Rk{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof zx&&(this.sharedClientState.syncEngine={Ys:wk.bind(null,t),Zs:Ck.bind(null,t),Xs:kk.bind(null,t),Bi:xk.bind(null,t),Js:bk.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=gg(e);if(Ik(n),Tk(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await _k(n,e.toArray());n.Ca=!0,await EC(n.remoteStore,!0);for(const r of t)oC(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(uk(n,i),xx(n.localStore,i,!0)))),sC(n.remoteStore,i)})),await t,await _k(n,e),function(e){const t=gg(e);t.ya.forEach(((e,n)=>{sC(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new qv(Fg.comparator)}(n),n.Ca=!1,await EC(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Gx();if(!zx.D(t))throw new yg(vg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ok{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ik(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gk.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zC}createDatastore(e){const t=Qx(e.databaseInfo.databaseId),n=function(e){return new qx(e)}(e.databaseInfo);return function(e,t,n,r){return new eC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new nC(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ik(this.syncEngine,e,0)),Ux.D()?new Ux:new Fx)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new $C(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=gg(e);ug("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await iC(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function Ak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Nk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):dg("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Mk{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new bg,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new WC(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Dk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yg(vg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=gg(e),r=s_(n.serializer)+"/documents",i={documents:t.map((e=>n_(n.serializer,e)))},o=await n.Co("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){mg(!!t.found),t.found.name,t.found.updateTime;const n=r_(e,t.found.name),r=$w(t.found.updateTime),i=t.found.createTime?$w(t.found.createTime):Mg.min(),o=new Oy({mapValue:{fields:t.found.fields}});return Ny.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){mg(!!t.missing),mg(!!t.readTime);const n=r_(e,t.missing),r=$w(t.readTime);return Ny.newNoDocument(n,r)}(e,t):pg()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());mg(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new bw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Fg.fromPath(t);this.mutations.push(new ww(n,this.precondition(n)))})),await async function(e,t){const n=gg(e),r=s_(n.serializer)+"/documents",i={writes:t.map((e=>u_(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pg();t=Mg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yg(vg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mg.min())?sw.exists(!1):sw.updateTime(t):sw.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mg.min()))throw new yg(vg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sw.updateTime(t)}return sw.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Lk{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new Xx(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new Dk(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!dv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Tw(t)}return!1}}class zk{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sg.UNAUTHENTICATED,this.clientId=Rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ug("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ug("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yg(vg.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(N){const n=AC(N,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jk(e,t){e.asyncQueue.verifyOperationInProgress(),ug("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await yx(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Fk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Zk(e);ug("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>TC(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>TC(t.remoteStore,n))),e._onlineComponents=t}function Uk(e){return"FirebaseError"===e.name?e.code===vg.FAILED_PRECONDITION||e.code===vg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Zk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ug("FirestoreClient","Using user provided OfflineComponentProvider");try{await jk(e,e._uninitializedComponentsProvider._offline)}catch(N){const n=N;if(!Uk(n))throw n;hg("Error using user provided cache. Falling back to memory cache: "+n),await jk(e,new Ek)}}else ug("FirestoreClient","Using default OfflineComponentProvider"),await jk(e,new Ek);return e._offlineComponents}async function Bk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ug("FirestoreClient","Using user provided OnlineComponentProvider"),await Fk(e,e._uninitializedComponentsProvider._online)):(ug("FirestoreClient","Using default OnlineComponentProvider"),await Fk(e,new Ok))),e._onlineComponents}function Vk(e){return Zk(e).then((e=>e.persistence))}function Wk(e){return Zk(e).then((e=>e.localStore))}function Hk(e){return Bk(e).then((e=>e.remoteStore))}function qk(e){return Bk(e).then((e=>e.syncEngine))}function Gk(e){return Bk(e).then((e=>e.datastore))}async function Kk(e){const t=await Bk(e),n=t.eventManager;return n.onListen=ek.bind(null,t.syncEngine),n.onUnlisten=nk.bind(null,t.syncEngine),n}function Qk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Nk({next:o=>{t.enqueueAndForget((()=>FC(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new yg(vg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new yg(vg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new VC(pb(n.path),o,{includeMetadataChanges:!0,J_:!0});return jC(e,s)}(await Kk(e),e.asyncQueue,t,n,r))),r.promise}function Xk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Nk({next:n=>{t.enqueueAndForget((()=>FC(e,s))),n.fromCache&&"server"===r.source?i.reject(new yg(vg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new VC(n,o,{includeMetadataChanges:!0,J_:!0});return jC(e,s)}(await Kk(e),e.asyncQueue,t,n,r))),r.promise}function Yk(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Pw().encode(e):e,function(e,t){return new Mk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ak(e,t);if(e instanceof ArrayBuffer)return Ak(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Qx(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=gg(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=gg(e),r=$w(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(GC(r));const i=new qC(r,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await i.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const s=await i.complete();return await mk(e,s.ra,void 0),await function(e,t){const n=gg(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.na)}catch(e){return hg("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await qk(e),i,r)}))}function Jk(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $k=new Map;function eI(e,t,n){if(!n)throw new yg(vg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tI(e,t,n,r){if(!0===t&&!0===r)throw new yg(vg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nI(e){if(!Fg.isDocumentKey(e))throw new yg(vg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rI(e){if(Fg.isDocumentKey(e))throw new yg(vg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":pg()}function oI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yg(vg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iI(e);throw new yg(vg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function sI(e,t){if(t<=0)throw new yg(vg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class aI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new yg(vg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yg(vg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jk(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yg(vg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yg(vg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yg(vg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yg(vg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yg(vg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _g;switch(e.type){case"firstParty":return new kg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yg(vg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$k.get(e);t&&(ug("ComponentProvider","Removing Datastore"),$k.delete(e),t.terminate())}(this),Promise.resolve()}}function cI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=oI(e,lI))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&hg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sg.MOCK_USER;else{t=lr(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new yg(vg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sg(o)}e._authCredentials=new Sg(new wg(t,n))}}class uI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uI(this.firestore,e,this._query)}}class dI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dI(this.firestore,e,this._key)}}class hI extends uI{constructor(e,t,n){super(e,t,pb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dI(this.firestore,null,new Fg(e))}withConverter(e){return new hI(this.firestore,e,this._path)}}function fI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tr(e),eI("collection","path",t),e instanceof lI){const n=Lg.fromString(t,...r);return rI(n),new hI(e,null,n)}{if(!(e instanceof dI||e instanceof hI))throw new yg(vg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lg.fromString(t,...r));return rI(n),new hI(e.firestore,null,n)}}function pI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tr(e),1===arguments.length&&(t=Rg.newId()),eI("doc","path",t),e instanceof lI){const n=Lg.fromString(t,...r);return nI(n),new dI(e,null,new Fg(n))}{if(!(e instanceof dI||e instanceof hI))throw new yg(vg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lg.fromString(t,...r));return nI(n),new dI(e.firestore,e instanceof hI?e.converter:null,new Fg(n))}}function mI(e,t){return e=Tr(e),t=Tr(t),(e instanceof dI||e instanceof hI)&&(t instanceof dI||t instanceof hI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gI(e,t){return e=Tr(e),t=Tr(t),e instanceof uI&&t instanceof uI&&e.firestore===t.firestore&&Sb(e._query,t._query)&&e.converter===t.converter}class vI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Xx(this,"async_queue_retry"),this.iu=()=>{const e=Kx();e&&ug("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Kx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Kx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new bg;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!rv(e))throw e;ug("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dg("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=OC.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&pg()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function yI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class bI{constructor(){this._progressObserver={},this._taskCompletionResolver=new bg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wI extends lI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new vI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SI(this),this._firestoreClient.terminate()}}function _I(e){return e._firestoreClient||SI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SI(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ly(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Jk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zk(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function xI(e,t,n){const r=new bg;return e.asyncQueue.enqueue((async()=>{try{await jk(e,n),await Fk(e,t),r.resolve()}catch(e){const n=e;if(!Uk(n))throw n;hg("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function CI(e){return function(e){const t=new bg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=gg(e);dC(n.remoteStore)||ug("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=gg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=AC(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await qk(e),t))),t.promise}(_I(e=oI(e,wI)))}function kI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Vk(e),n=await Hk(e);return t.setNetworkEnabled(!0),function(e){const t=gg(e);return t.C_.delete(0),rC(t)}(n)}))}(_I(e=oI(e,wI)))}function II(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Vk(e),n=await Hk(e);return t.setNetworkEnabled(!1),async function(e){const t=gg(e);t.C_.add(0),await iC(t),t.M_.set("Offline")}(n)}))}(_I(e=oI(e,wI)))}function TI(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=gg(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await Wk(e),t)))}(_I(e=oI(e,wI)),t).then((t=>t?new uI(e,null,t.query):null))}function EI(e){if(e._initialized||e._terminated)throw new yg(vg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class RI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new RI(ey.fromBase64String(e))}catch(e){throw new yg(vg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new RI(ey.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class PI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new yg(vg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class OI{constructor(e){this._methodName=e}}class AI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yg(vg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yg(vg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pg(this._lat,e._lat)||Pg(this._long,e._long)}}const NI=/^__.*__$/;class MI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new mw(e,this.data,this.fieldMask,t,this.fieldTransforms):new pw(e,this.data,t,this.fieldTransforms)}}class DI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new mw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pg()}}class zI{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new zI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return rT(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(LI(this.Iu)&&NI.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class jI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Qx(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zI({Iu:e,methodName:t,gu:n,path:jg.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FI(e){const t=e._freezeSettings(),n=Qx(e._databaseId);return new jI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function UI(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);$I("Data must be an object, but it was:",s,r);const a=YI(r,s);let l,c;if(o.merge)l=new Jv(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=eT(t,r,n);if(!s.contains(i))throw new yg(vg.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));iT(e,i)||e.push(i)}l=new Jv(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new MI(new Oy(a),l,c)}class ZI extends OI{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ZI}}function BI(e,t,n){return new zI({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class VI extends OI{_toFieldTransform(e){return new iw(e.path,new Xb)}isEqual(e){return e instanceof VI}}class WI extends OI{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=BI(this,e,!0),n=this.yu.map((e=>XI(e,t))),r=new Yb(n);return new iw(e.path,r)}isEqual(e){return this===e}}class HI extends OI{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=BI(this,e,!0),n=this.yu.map((e=>XI(e,t))),r=new $b(n);return new iw(e.path,r)}isEqual(e){return this===e}}class qI extends OI{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new tw(e.serializer,Hb(e.serializer,this.wu));return new iw(e.path,t)}isEqual(e){return this===e}}function GI(e,t,n,r){const i=e.pu(1,t,n);$I("Data must be an object, but it was:",i,r);const o=[],s=Oy.empty();Wv(r,((e,r)=>{const a=nT(t,e,n);r=Tr(r);const l=i.Ru(a);if(r instanceof ZI)o.push(a);else{const e=XI(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Jv(o);return new DI(s,a,i.fieldTransforms)}function KI(e,t,n,r,i,o){const s=e.pu(1,t,n),a=[eT(t,r,n)],l=[i];if(o.length%2!=0)throw new yg(vg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(eT(t,o[h])),l.push(o[h+1]);const c=[],u=Oy.empty();for(let h=a.length-1;h>=0;--h)if(!iT(c,a[h])){const e=a[h];let t=l[h];t=Tr(t);const n=s.Ru(e);if(t instanceof ZI)c.push(e);else{const r=XI(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Jv(c);return new DI(u,d,s.fieldTransforms)}function QI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return XI(n,e.pu(r?4:3,t))}function XI(e,t){if(JI(e=Tr(e)))return $I("Unsupported field value:",t,e),YI(e,t);if(e instanceof OI)return function(e,t){if(!LI(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=XI(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Tr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ng.fromDate(e);return{timestampValue:Xw(t.serializer,n)}}if(e instanceof Ng){const n=new Ng(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xw(t.serializer,n)}}if(e instanceof AI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof RI)return{bytesValue:Yw(t.serializer,e._byteString)};if(e instanceof dI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:e_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(iI(e)))}(e,t)}function YI(e,t){const n={};return Hv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wv(e,((e,r)=>{const i=XI(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function JI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ng||e instanceof AI||e instanceof RI||e instanceof dI||e instanceof OI)}function $I(e,t,n){if(!JI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=iI(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function eT(e,t,n){if((t=Tr(t))instanceof PI)return t._internalPath;if("string"==typeof t)return nT(e,t);throw rT("Field path arguments must be of type string or ",e,!1,void 0,n)}const tT=new RegExp("[~\\*/\\[\\]]");function nT(e,t,n){if(t.search(tT)>=0)throw rT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new PI(...t.split("."))._internalPath}catch(A){throw rT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rT(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new yg(vg.INVALID_ARGUMENT,a+e+l)}function iT(e,t){return e.some((e=>e.isEqual(t)))}class oT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sT extends oT{data(){return super.data()}}function aT(e,t){return"string"==typeof t?nT(e,t):t instanceof PI?t._internalPath:t._delegate._internalPath}function lT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yg(vg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cT{}class uT extends cT{}function dT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof cT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof fT)).length,n=e.filter((e=>e instanceof hT)).length;if(t>1||t>0&&n>0)throw new yg(vg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class hT extends uT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hT(e,t,n)}_apply(e){const t=this._parse(e);return _T(e._query,t),new uI(e.firestore,e.converter,wb(e._query,t))}_parse(e){const t=FI(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yg(vg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){wT(s,o);const t=[];for(const n of s)t.push(bT(r,e,n));a={arrayValue:{values:t}}}else a=bT(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||wT(s,o),a=QI(n,t,s,"in"===o||"not-in"===o);return Uy.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class fT extends cT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Zy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_T(n,i),n=wb(n,i)}(e._query,t),new uI(e.firestore,e.converter,wb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pT extends uT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new yg(vg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yg(vg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zy(t,n)}(e._query,this._field,this._direction);return new uI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class mT extends uT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new mT(e,t,n)}_apply(e){return new uI(e.firestore,e.converter,_b(e._query,this._limit,this._limitType))}}class gT extends uT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new gT(e,t,n)}_apply(e){const t=yT(e,this.type,this._docOrFields,this._inclusive);return new uI(e.firestore,e.converter,function(e,t){return new hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class vT extends uT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new vT(e,t,n)}_apply(e){const t=yT(e,this.type,this._docOrFields,this._inclusive);return new uI(e.firestore,e.converter,function(e,t){return new hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function yT(e,t,n,r){if(n[0]=Tr(n[0]),n[0]instanceof oT)return function(e,t,n,r,i){if(!r)throw new yg(vg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of vb(e))if(s.field.isKeyField())o.push(by(t,r.key));else{const e=r.data.field(s.field);if(oy(e))throw new yg(vg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new yg(vg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new My(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=FI(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new yg(vg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new yg(vg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!gb(e)&&-1!==o.indexOf("/"))throw new yg(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Lg.fromString(o));if(!Fg.isDocumentKey(n))throw new yg(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Fg(n);a.push(by(t,i))}else{const e=QI(n,r,o);a.push(e)}}return new My(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function bT(e,t,n){if("string"==typeof(n=Tr(n))){if(""===n)throw new yg(vg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gb(t)&&-1!==n.indexOf("/"))throw new yg(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Lg.fromString(n));if(!Fg.isDocumentKey(r))throw new yg(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return by(e,new Fg(r))}if(n instanceof dI)return by(e,n._key);throw new yg(vg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iI(n),"."))}function wT(e,t){if(!Array.isArray(e)||0===e.length)throw new yg(vg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _T(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new yg(vg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new yg(vg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class ST{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ry(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(iy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pg()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Wv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new AI(ry(e.latitude),ry(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ay(e));default:return null}}convertTimestamp(e){const t=ny(e);return new Ng(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Lg.fromString(e);mg(x_(n));const r=new cy(n.get(1),n.get(3)),i=new Fg(n.popFirst(5));return r.isEqual(t)||dg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function xT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class CT extends ST{constructor(e){super(),this.firestore=e}convertBytes(e){return new RI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dI(this.firestore,null,t)}}class kT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IT extends oT{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new TT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class TT extends IT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ET{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new kT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new TT(this._firestore,this._userDataWriter,n.key,n,new kT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yg(vg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new TT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new kT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new TT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:RT(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function RT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pg()}}function PT(e,t){return e instanceof IT&&t instanceof IT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ET&&t instanceof ET&&e._firestore===t._firestore&&gI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function OT(e){e=oI(e,dI);const t=oI(e.firestore,wI);return Qk(_I(t),e._key).then((n=>UT(t,e,n)))}class AT extends ST{constructor(e){super(),this.firestore=e}convertBytes(e){return new RI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dI(this.firestore,null,t)}}function NT(e){e=oI(e,dI);const t=oI(e.firestore,wI),n=_I(t),r=new AT(t);return function(e,t){const n=new bg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=gg(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new yg(vg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=AC(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Wk(e),t,n))),n.promise}(n,e._key).then((n=>new IT(t,r,e._key,n,new kT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function MT(e){e=oI(e,uI);const t=oI(e.firestore,wI),n=_I(t),r=new AT(t);return function(e,t){const n=new bg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Cx(e,t,!0),i=new XC(t,r.ls),o=i.ca(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=AC(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Wk(e),t,n))),n.promise}(n,e._query).then((n=>new ET(t,r,e,n)))}function DT(e,t,n){e=oI(e,dI);const r=oI(e.firestore,wI),i=xT(e.converter,t,n);return FT(r,[UI(FI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sw.none())])}function LT(e,t,n){e=oI(e,dI);const r=oI(e.firestore,wI),i=FI(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Tr(t))||t instanceof PI?KI(i,"updateDoc",e._key,t,n,a):GI(i,"updateDoc",e._key,t),FT(r,[o.toMutation(e._key,sw.exists(!0))])}function zT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Tr(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||yI(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(yI(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof dI)d=oI(e.firestore,wI),h=pb(e._key.path),u={next:t=>{n[l]&&n[l](UT(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=oI(e,uI);d=oI(t.firestore,wI),h=t._query;const r=new AT(d);u={next:e=>{n[l]&&n[l](new ET(d,r,t,e))},error:n[l+1],complete:n[l+2]},lT(e._query)}return function(e,t,n,r){const i=new Nk(r),o=new VC(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>jC(await Kk(e),o))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>FC(await Kk(e),o)))}}(_I(d),h,c,u)}function jT(e,t){return function(e,t){const n=new Nk(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){gg(e).q_.add(t),t.next()}(await Kk(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){gg(e).q_.delete(t)}(await Kk(e),n)))}}(_I(e=oI(e,wI)),yI(t)?t:{next:t})}function FT(e,t){return function(e,t){const n=new bg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Tk(e);try{const e=await function(e,t){const n=gg(e),r=Ng.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ub());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ob(),l=Ub();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=hw(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new mw(e.key,t,Ay(t.value.mapValue),sw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Mb(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new qv(Pg)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await mk(r,e.changes),await yC(r.remoteStore)}catch(e){const t=AC(e,"Failed to persist write");n.reject(t)}}(await qk(e),t,n))),n.promise}(_I(e),t)}function UT(e,t,n){const r=n.docs.get(t._key),i=new AT(e);return new IT(e,i,t._key,r,new kT(n.hasPendingWrites,n.fromCache),t.converter)}const ZT={maxAttempts:5};class BT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=FI(e)}set(e,t,n){this._verifyNotCommitted();const r=VT(e,this._firestore),i=xT(r.converter,t,n),o=UI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,sw.none())),this}update(e,t,n){this._verifyNotCommitted();const r=VT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Tr(t))||t instanceof PI?KI(this._dataReader,"WriteBatch.update",r._key,t,n,s):GI(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,sw.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=VT(e,this._firestore);return this._mutations=this._mutations.concat(new bw(t._key,sw.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yg(vg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function VT(e,t){if((e=Tr(e)).firestore!==t)throw new yg(vg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class WT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=FI(e)}get(e){const t=VT(e,this._firestore),n=new CT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return pg();const r=e[0];if(r.isFoundDocument())return new oT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new oT(this._firestore,n,t._key,null,t.converter);throw pg()}))}set(e,t,n){const r=VT(e,this._firestore),i=xT(r.converter,t,n),o=UI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=VT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Tr(t))||t instanceof PI?KI(this._dataReader,"Transaction.update",r._key,t,n,s):GI(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=VT(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=VT(e,this._firestore),n=new AT(this._firestore);return super.get(e).then((e=>new IT(this._firestore,n,t._key,e._document,new kT(!1,!1),t.converter)))}}function HT(){return new VI("serverTimestamp")}function qT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WI("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ag=e}(bi),fi(new Er("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new wI(new xg(e.getProvider("auth-internal")),new Tg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yg(vg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cy(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ci(og,"4.4.0",e),Ci(og,"4.4.0","esm2017")}();function GT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function KT(){if("undefined"===typeof Uint8Array)throw new yg("unimplemented","Uint8Arrays are not available in this environment.")}function QT(){if("undefined"==typeof atob)throw new yg("unimplemented","Blobs are unavailable in Firestore in this environment.")}class XT{constructor(e){this._delegate=e}static fromBase64String(e){return QT(),new XT(RI.fromBase64String(e))}static fromUint8Array(e){return KT(),new XT(RI.fromUint8Array(e))}toBase64(){return QT(),this._delegate.toBase64()}toUint8Array(){return KT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class JT{enableIndexedDbPersistence(e,t){return function(e,t){EI(e=oI(e,wI));const n=_I(e);if(n._uninitializedComponentsProvider)throw new yg(vg.FAILED_PRECONDITION,"SDK cache is already specified.");hg("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Ok;return xI(n,i,new Rk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){EI(e=oI(e,wI));const t=_I(e);if(t._uninitializedComponentsProvider)throw new yg(vg.FAILED_PRECONDITION,"SDK cache is already specified.");hg("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Ok;return xI(t,r,new Pk(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new yg(vg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new bg;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ev.D())return Promise.resolve();const t=e+"main";await ev.delete(t)}(hx(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class $T{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof cy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||hg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cI(this._delegate,e,t,n)}enableNetwork(){return kI(this._delegate)}disableNetwork(){return II(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,tI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return CI(this._delegate)}onSnapshotsInSync(e){return jT(this._delegate,e)}get app(){if(!this._appCompat)throw new yg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fE(this,fI(this._delegate,e))}catch(t){throw oE(t,"collection()","Firestore.collection()")}}doc(e){try{return new iE(this,pI(this._delegate,e))}catch(t){throw oE(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new uE(this,function(e,t){if(e=oI(e,lI),eI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yg(vg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new uI(e,null,function(e){return new hb(Lg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw oE(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=oI(e,wI);const r=Object.assign(Object.assign({},ZT),n);return function(e){if(e.maxAttempts<1)throw new yg(vg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new bg;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Gk(e);new Lk(e.asyncQueue,i,n,t,r).run()})),r.promise}(_I(e),(n=>t(new WT(e,n))),r)}(this._delegate,(t=>e(new tE(this,t))))}batch(){return _I(this._delegate),new nE(new BT(this._delegate,(e=>FT(this._delegate,e))))}loadBundle(e){return function(e,t){const n=_I(e=oI(e,wI)),r=new bI;return Yk(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return TI(this._delegate,e).then((e=>e?new uE(this,e):null))}}class eE extends ST{constructor(e){super(),this.firestore=e}convertBytes(e){return new XT(new RI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return iE.forKey(t,this.firestore,null)}}class tE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eE(e)}get(e){const t=pE(e);return this._delegate.get(t).then((e=>new lE(this._firestore,new IT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=pE(e);return n?(GT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=pE(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=pE(e);return this._delegate.delete(t),this}}class nE{constructor(e){this._delegate=e}set(e,t,n){const r=pE(e);return n?(GT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=pE(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=pE(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rE{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new TT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cE(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=rE.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new rE(e,new eE(e),t),r.set(t,i)),i}}rE.INSTANCES=new WeakMap;class iE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eE(e)}static forPath(e,t,n){if(e.length%2!==0)throw new yg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new iE(t,new dI(t._delegate,n,new Fg(e)))}static forKey(e,t,n){return new iE(t,new dI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new fE(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fE(this.firestore,fI(this._delegate,e))}catch(t){throw oE(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Tr(e))instanceof dI&&mI(this._delegate,e)}set(e,t){t=GT("DocumentReference.set",t);try{return t?DT(this._delegate,e,t):DT(this._delegate,e)}catch(n){throw oE(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?LT(this._delegate,e):LT(this._delegate,e,t,...r)}catch(o){throw oE(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return FT(oI(e.firestore,wI),[new bw(e._key,sw.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=sE(t),i=aE(t,(e=>new lE(this.firestore,new IT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return zT(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?NT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oI(e,dI);const t=oI(e.firestore,wI);return Qk(_I(t),e._key,{source:"server"}).then((n=>UT(t,e,n)))}(this._delegate):OT(this._delegate),t.then((e=>new lE(this.firestore,new IT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new iE(this.firestore,e?this._delegate.withConverter(rE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function oE(e,t,n){return e.message=e.message.replace(t,n),e}function sE(e){for(const t of e)if("object"===typeof t&&!YT(t))return t;return{}}function aE(e,t){var n,r;let i;return i=YT(e[0])?e[0]:YT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class lE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new iE(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return PT(this._delegate,e._delegate)}}class cE extends lE{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||pg()}(void 0!==t),t}}class uE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eE(e)}where(e,t,n){try{return new uE(this.firestore,dT(this._delegate,function(e,t,n){const r=t,i=aT("where",e);return hT._create(i,r,n)}(e,t,n)))}catch(r){throw oE(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new uE(this.firestore,dT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aT("orderBy",e);return pT._create(n,t)}(e,t)))}catch(n){throw oE(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new uE(this.firestore,dT(this._delegate,function(e){return sI("limit",e),mT._create("limit",e,"F")}(e)))}catch(t){throw oE(t,"limit()","Query.limit()")}}limitToLast(e){try{return new uE(this.firestore,dT(this._delegate,function(e){return sI("limitToLast",e),mT._create("limitToLast",e,"L")}(e)))}catch(t){throw oE(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new uE(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gT._create("startAt",t,!0)}(...arguments)))}catch(e){throw oE(e,"startAt()","Query.startAt()")}}startAfter(){try{return new uE(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gT._create("startAfter",t,!1)}(...arguments)))}catch(e){throw oE(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new uE(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vT._create("endBefore",t,!1)}(...arguments)))}catch(e){throw oE(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new uE(this.firestore,dT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vT._create("endAt",t,!0)}(...arguments)))}catch(e){throw oE(e,"endAt()","Query.endAt()")}}isEqual(e){return gI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?MT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oI(e,uI);const t=oI(e.firestore,wI),n=_I(t),r=new AT(t);return Xk(n,e._query,{source:"server"}).then((n=>new ET(t,r,e,n)))}(this._delegate):function(e){e=oI(e,uI);const t=oI(e.firestore,wI),n=_I(t),r=new AT(t);return lT(e._query),Xk(n,e._query).then((n=>new ET(t,r,e,n)))}(this._delegate),t.then((e=>new hE(this.firestore,new ET(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=sE(t),i=aE(t,(e=>new hE(this.firestore,new ET(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return zT(this._delegate,r,i)}withConverter(e){return new uE(this.firestore,e?this._delegate.withConverter(rE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class dE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new uE(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new cE(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new dE(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new cE(this._firestore,n))}))}isEqual(e){return PT(this._delegate,e._delegate)}}class fE extends uE{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new iE(this.firestore,e):null}doc(e){try{return new iE(this.firestore,void 0===e?pI(this._delegate):pI(this._delegate,e))}catch(t){throw oE(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=oI(e.firestore,wI),r=pI(e),i=xT(e.converter,t);return FT(n,[UI(FI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sw.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new iE(this.firestore,e)))}isEqual(e){return mI(this._delegate,e._delegate)}withConverter(e){return new fE(this.firestore,e?this._delegate.withConverter(rE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pE(e){return oI(e,dI)}class mE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new PI(...t)}static documentId(){return new mE(jg.keyField().canonicalString())}isEqual(e){return(e=Tr(e))instanceof PI&&this._delegate._internalPath.isEqual(e._internalPath)}}class gE{constructor(e){this._delegate=e}static serverTimestamp(){const e=HT();return e._methodName="FieldValue.serverTimestamp",new gE(e)}static delete(){const e=new ZI("deleteField");return e._methodName="FieldValue.delete",new gE(e)}static arrayUnion(){const e=qT(...arguments);return e._methodName="FieldValue.arrayUnion",new gE(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new gE(e)}static increment(e){const t=function(e){return new qI("increment",e)}(e);return t._methodName="FieldValue.increment",new gE(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vE={Firestore:$T,GeoPoint:AI,Timestamp:Ng,Blob:XT,Transaction:tE,WriteBatch:nE,DocumentReference:iE,DocumentSnapshot:lE,Query:uE,QueryDocumentSnapshot:cE,QuerySnapshot:hE,CollectionReference:fE,FieldPath:mE,FieldValue:gE,setLogLevel:function(e){!function(e){lg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Er("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},vE)))}(e,((e,t)=>new $T(e,t,new JT))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(Vi);Vi.registerVersion("firebase","10.7.0","app-compat");const yE=Vi.initializeApp({apiKey:"AIzaSyCWu39i99LppMLzKVHX_GGkt8vEASbHaXE",authDomain:"social-media-27267.firebaseapp.com",projectId:"social-media-27267",storageBucket:"social-media-27267.appspot.com",messagingSenderId:"940323635932",appId:"1:940323635932:web:795f0adbe7aab3b6c92a19",measurementId:"G-KW9X06J0CV"}),bE=Vi.auth(),wE=Vi.storage(),_E=yE.firestore(),SE=new zs;SE.setCustomParameters({prompt:"select_account"});var xE=n(3366),CE=n(7462),kE=n(3733),IE=n(1184),TE=n(2466),EE=n(7416);const RE=["sx"],PE=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:EE.Z;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function OE(e){const{sx:t}=e,n=(0,xE.Z)(e,RE),{systemProps:r,otherProps:i}=PE(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,TE.P)(e)?(0,CE.Z)({},r,e):r}:(0,CE.Z)({},r,t),(0,CE.Z)({},i,{sx:o})}var AE=n(4419),NE=n(6934),ME=n(1402),DE=n(418),LE=n(6482),zE=n(988);function jE(){const e=(0,DE.Z)(LE.Z);return e[zE.Z]||e}const FE=t.createContext();var UE=n(5878),ZE=n(1217);function BE(e){return(0,ZE.Z)("MuiGrid",e)}const VE=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],WE=(0,UE.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...VE.map((e=>"grid-xs-".concat(e))),...VE.map((e=>"grid-sm-".concat(e))),...VE.map((e=>"grid-md-".concat(e))),...VE.map((e=>"grid-lg-".concat(e))),...VE.map((e=>"grid-xl-".concat(e)))]),HE=WE;var qE=n(184);const GE=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function KE(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function QE(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const XE=(0,NE.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,IE.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,IE.k9)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(HE.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,IE.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=QE({breakpoints:t.breakpoints.values,values:e})),o=(0,IE.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(KE(o)),["& > .".concat(HE.item)]:{paddingTop:KE(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(HE.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,IE.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=QE({breakpoints:t.breakpoints.values,values:e})),o=(0,IE.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(KE(o),")"),marginLeft:"-".concat(KE(o)),["& > .".concat(HE.item)]:{paddingLeft:KE(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(HE.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,IE.P$)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[i]:s;if(void 0===a||null===a)return e;const l="".concat(Math.round(t/a*1e8)/1e6,"%");let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(KE(e),")");c={flexBasis:t,maxWidth:t}}}o=(0,CE.Z)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const YE=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]};return(0,AE.Z)(d,BE,t)},JE=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiGrid"}),{breakpoints:i}=jE(),o=OE(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,v=(0,xE.Z)(o,GE),y=f||p,b=l||p,w=t.useContext(FE),_=u?a||12:w,S={},x=(0,CE.Z)({},v);i.keys.forEach((e=>{null!=v[e]&&(S[e]=v[e],delete x[e])}));const C=(0,CE.Z)({},o,{columns:_,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:p},S,{breakpoints:i.keys}),k=YE(C);return(0,qE.jsx)(FE.Provider,{value:_,children:(0,qE.jsx)(XE,(0,CE.Z)({ownerState:C,className:(0,kE.Z)(k.root,s),as:c,ref:n},x))})}));const $E=JE;var eR=n(4036);function tR(e){return(0,ZE.Z)("MuiTypography",e)}(0,UE.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const nR=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],rR=(0,NE.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,eR.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),iR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},oR={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},sR=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiTypography"}),r=(e=>oR[e]||e)(n.color),i=OE((0,CE.Z)({},n,{color:r})),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=iR}=i,f=(0,xE.Z)(i,nR),p=(0,CE.Z)({},i,{align:o,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=a||(u?"p":h[d]||iR[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&"align".concat((0,eR.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,AE.Z)(a,tR,s)})(p);return(0,qE.jsx)(rR,(0,CE.Z)({as:m,ref:t,ownerState:p,className:(0,kE.Z)(g.root,s)},f))})),aR=sR;var lR={};function cR(){return lR}function uR(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function dR(e){uR(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ae(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function hR(e,t){uR(2,arguments);var n=dR(e),r=dR(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function fR(e){uR(1,arguments);var t=dR(e);return function(e){uR(1,arguments);var t=dR(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){uR(1,arguments);var t=dR(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function pR(e,t){uR(2,arguments);var n,r=dR(e),i=dR(t),o=hR(r,i),s=Math.abs(function(e,t){uR(2,arguments);var n=dR(e),r=dR(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*s);var a=hR(r,i)===-o;fR(dR(e))&&1===s&&1===hR(e,i)&&(a=!1),n=o*(s-Number(a))}return 0===n?0:n}var mR={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},gR="trunc";function vR(e,t,n){uR(2,arguments);var r,i=function(e,t){return uR(2,arguments),dR(e).getTime()-dR(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?mR[r]:mR[gR])(i)}var yR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const bR=function(e,t,n){var r,i=yR[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wR(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var _R={date:wR({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:wR({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:wR({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var SR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function xR(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function CR(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var kR;const IR={code:"en-US",formatDistance:bR,formatLong:_R,formatRelative:function(e,t,n,r){return SR[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:xR({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:xR({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:xR({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:xR({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:xR({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(kR={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(kR.matchPattern);if(!n)return null;var r=n[0],i=e.match(kR.parsePattern);if(!i)return null;var o=kR.valueCallback?kR.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:CR({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:CR({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:CR({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:CR({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:CR({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function TR(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ER(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var RR=1440,PR=2520,OR=43200,AR=86400;function NR(e,t,n){var r,i;uR(2,arguments);var o=cR(),s=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:IR;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=hR(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l,c,u=TR(TR({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:a});a>0?(l=dR(t),c=dR(e)):(l=dR(e),c=dR(t));var d,h=vR(c,l),f=(ER(c)-ER(l))/1e3,p=Math.round((h-f)/60);if(p<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===p?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",p,u);if(p<45)return s.formatDistance("xMinutes",p,u);if(p<90)return s.formatDistance("aboutXHours",1,u);if(p<RR){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,u)}if(p<PR)return s.formatDistance("xDays",1,u);if(p<OR){var g=Math.round(p/RR);return s.formatDistance("xDays",g,u)}if(p<AR)return d=Math.round(p/OR),s.formatDistance("aboutXMonths",d,u);if((d=pR(c,l))<12){var v=Math.round(p/OR);return s.formatDistance("xMonths",v,u)}var y=d%12,b=Math.floor(d/12);return y<3?s.formatDistance("aboutXYears",b,u):y<9?s.formatDistance("overXYears",b,u):s.formatDistance("almostXYears",b+1,u)}function MR(e,t){return uR(1,arguments),NR(e,Date.now(),t)}var DR=n(2065);const LR=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function zR(e){return(0,ZE.Z)("MuiPaper",e)}(0,UE.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const jR=["className","component","elevation","square","variant"],FR=(0,NE.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,CE.Z)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,CE.Z)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,DR.Fq)("#fff",LR(n.elevation)),", ").concat((0,DR.Fq)("#fff",LR(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),UR=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=(0,xE.Z)(n,jR),c=(0,CE.Z)({},n,{component:i,elevation:o,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,AE.Z)(o,zR,i)})(c);return(0,qE.jsx)(FR,(0,CE.Z)({as:i,ownerState:c,className:(0,kE.Z)(u.root,r),ref:t},l))})),ZR=UR;function BR(e){return(0,ZE.Z)("MuiCard",e)}(0,UE.Z)("MuiCard",["root"]);const VR=["className","raised"],WR=(0,NE.ZP)(ZR,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),HR=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=(0,xE.Z)(n,VR),s=(0,CE.Z)({},n,{raised:i}),a=(e=>{const{classes:t}=e;return(0,AE.Z)({root:["root"]},BR,t)})(s);return(0,qE.jsx)(WR,(0,CE.Z)({className:(0,kE.Z)(a.root,r),elevation:i?8:void 0,ref:t,ownerState:s},o))})),qR=HR;function GR(e){return(0,ZE.Z)("MuiCardHeader",e)}const KR=(0,UE.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),QR=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],XR=(0,NE.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,CE.Z)({["& .".concat(KR.title)]:t.title,["& .".concat(KR.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),YR=(0,NE.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),JR=(0,NE.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),$R=(0,NE.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),eP=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiCardHeader"}),{action:r,avatar:i,className:o,component:s="div",disableTypography:a=!1,subheader:l,subheaderTypographyProps:c,title:u,titleTypographyProps:d}=n,h=(0,xE.Z)(n,QR),f=(0,CE.Z)({},n,{component:s,disableTypography:a}),p=(e=>{const{classes:t}=e;return(0,AE.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},GR,t)})(f);let m=u;null==m||m.type===aR||a||(m=(0,qE.jsx)(aR,(0,CE.Z)({variant:i?"body2":"h5",className:p.title,component:"span",display:"block"},d,{children:m})));let g=l;return null==g||g.type===aR||a||(g=(0,qE.jsx)(aR,(0,CE.Z)({variant:i?"body2":"body1",className:p.subheader,color:"text.secondary",component:"span",display:"block"},c,{children:g}))),(0,qE.jsxs)(XR,(0,CE.Z)({className:(0,kE.Z)(p.root,o),as:s,ref:t,ownerState:f},h,{children:[i&&(0,qE.jsx)(YR,{className:p.avatar,ownerState:f,children:i}),(0,qE.jsxs)($R,{className:p.content,ownerState:f,children:[m,g]}),r&&(0,qE.jsx)(JR,{className:p.action,ownerState:f,children:r})]}))})),tP=eP;var nP=n(9201);const rP=(0,nP.Z)((0,qE.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function iP(e){return(0,ZE.Z)("MuiAvatar",e)}(0,UE.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const oP=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],sP=(0,NE.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,CE.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),aP=(0,NE.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lP=(0,NE.ZP)(rP,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const cP=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:h="circular"}=r,f=(0,xE.Z)(r,oP);let p=null;const m=function(e){let{crossOrigin:n,referrerPolicy:r,src:i,srcSet:o}=e;const[s,a]=t.useState(!1);return t.useEffect((()=>{if(!i&&!o)return;a(!1);let e=!0;const t=new Image;return t.onload=()=>{e&&a("loaded")},t.onerror=()=>{e&&a("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,o&&(t.srcset=o),()=>{e=!1}}),[n,r,i,o]),s}((0,CE.Z)({},l,{src:u,srcSet:d})),g=u||d,v=g&&"error"!==m,y=(0,CE.Z)({},r,{colorDefault:!v,component:a,variant:h}),b=(e=>{const{classes:t,variant:n,colorDefault:r}=e,i={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,AE.Z)(i,iP,t)})(y);return p=v?(0,qE.jsx)(aP,(0,CE.Z)({alt:i,srcSet:d,src:u,sizes:c,ownerState:y,className:b.img},l)):null!=o?o:g&&i?i[0]:(0,qE.jsx)(lP,{ownerState:y,className:b.fallback}),(0,qE.jsx)(sP,(0,CE.Z)({as:a,ownerState:y,className:(0,kE.Z)(b.root,s),ref:n},f,{children:p}))})),uP=cP;function dP(e){return(0,ZE.Z)("MuiCardMedia",e)}(0,UE.Z)("MuiCardMedia",["root","media","img"]);const hP=["children","className","component","image","src","style"],fP=(0,NE.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),pP=["video","audio","picture","iframe","img"],mP=["picture","img"],gP=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiCardMedia"}),{children:r,className:i,component:o="div",image:s,src:a,style:l}=n,c=(0,xE.Z)(n,hP),u=-1!==pP.indexOf(o),d=!u&&s?(0,CE.Z)({backgroundImage:'url("'.concat(s,'")')},l):l,h=(0,CE.Z)({},n,{component:o,isMediaComponent:u,isImageComponent:-1!==mP.indexOf(o)}),f=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,i={root:["root",n&&"media",r&&"img"]};return(0,AE.Z)(i,dP,t)})(h);return(0,qE.jsx)(fP,(0,CE.Z)({className:(0,kE.Z)(f.root,i),as:o,role:!u&&s?"img":void 0,ref:t,style:d,ownerState:h,src:u?s||a:void 0},c,{children:r}))})),vP=gP;function yP(e){return(0,ZE.Z)("MuiCardContent",e)}(0,UE.Z)("MuiCardContent",["root"]);const bP=["className","component"],wP=(0,NE.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),_P=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=(0,xE.Z)(n,bP),s=(0,CE.Z)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,AE.Z)({root:["root"]},yP,t)})(s);return(0,qE.jsx)(wP,(0,CE.Z)({as:i,className:(0,kE.Z)(a.root,r),ownerState:s,ref:t},o))})),SP=_P;var xP=n(8252),CP=n(6189),kP=n(6117),IP=n(5202),TP=n(2876),EP=n(2254);const RP=["onChange","maxRows","minRows","style","value"];function PP(e){return parseInt(e,10)||0}const OP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function AP(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const NP=t.forwardRef((function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:l}=e,c=(0,xE.Z)(e,RP),{current:u}=t.useRef(null!=l),d=t.useRef(null),h=(0,kP.Z)(n,d),f=t.useRef(null),p=t.useRef(0),[m,g]=t.useState({outerHeightStyle:0}),v=t.useCallback((()=>{const t=d.current,n=(0,IP.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=f.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const s=n.boxSizing,a=PP(n.paddingBottom)+PP(n.paddingTop),l=PP(n.borderBottomWidth)+PP(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*u,h)),i&&(h=Math.min(Number(i)*u,h)),h=Math.max(h,u);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflow:Math.abs(h-c)<=1}}),[i,o,e.placeholder]),y=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return p.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(p.current+=1,{overflow:r,outerHeightStyle:n}):e},b=t.useCallback((()=>{const e=v();AP(e)||g((t=>y(t,e)))}),[v]);(0,TP.Z)((()=>{const e=()=>{p.current=0,(()=>{const e=v();AP(e)||a.flushSync((()=>{g((t=>y(t,e)))}))})()};let t;const n=(0,EP.Z)(e),r=d.current,i=(0,IP.Z)(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[v]),(0,TP.Z)((()=>{b()})),t.useEffect((()=>{p.current=0}),[l]);return(0,qE.jsxs)(t.Fragment,{children:[(0,qE.jsx)("textarea",(0,CE.Z)({value:l,onChange:e=>{p.current=0,u||b(),r&&r(e)},ref:h,rows:o,style:(0,CE.Z)({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},s)},c)),(0,qE.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,CE.Z)({},OP,s,{paddingTop:0,paddingBottom:0})})]})}));function MP(e){return"string"===typeof e}function DP(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const LP=t.createContext(void 0);function zP(){return t.useContext(LP)}var jP=n(2071),FP=n(162),UP=n(2564),ZP=n(5438),BP=n(2561),VP=n(9140),WP=(n(3361),(0,UP.w)((function(e,n){var r=e.styles,i=(0,VP.O)([r],void 0,t.useContext(UP.T));if(!UP.i){for(var o,s=i.name,a=i.styles,l=i.next;void 0!==l;)s+=" "+l.name,a+=l.styles,l=l.next;var c=!0===n.compat,u=n.insert("",{name:s,styles:a},n.sheet,c);return c?null:t.createElement("style",((o={})["data-emotion"]=n.key+"-global "+s,o.dangerouslySetInnerHTML={__html:u},o.nonce=n.sheet.nonce,o))}var d=t.useRef();return(0,BP.j)((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),d.current=[t,r],function(){t.flush()}}),[n]),(0,BP.j)((function(){var e=d.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,ZP.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null})));function HP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,VP.O)(t)}var qP=function(){var e=HP.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function GP(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,qE.jsx)(WP,{styles:r})}const KP=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=(0,DE.Z)(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,qE.jsx)(GP,{styles:o})};const QP=function(e){return(0,qE.jsx)(KP,(0,CE.Z)({},e,{defaultTheme:LE.Z,themeId:zE.Z}))};function XP(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function YP(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(XP(e.value)&&""!==e.value||t&&XP(e.defaultValue)&&""!==e.defaultValue)}function JP(e){return(0,ZE.Z)("MuiInputBase",e)}const $P=(0,UE.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),eO=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],tO=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,eR.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},nO=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},rO=(0,NE.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:tO})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat($P.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,CE.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),iO=(0,NE.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:nO})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,CE.Z)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,CE.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat($P.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat($P.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),oO=(0,qE.jsx)(QP,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),sO=t.forwardRef((function(e,n){var r;const i=(0,ME.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:w,minRows:_,multiline:S=!1,name:x,onBlur:C,onChange:k,onClick:I,onFocus:T,onKeyDown:E,onKeyUp:R,placeholder:P,readOnly:O,renderSuffix:A,rows:N,slotProps:M={},slots:D={},startAdornment:L,type:z="text",value:j}=i,F=(0,xE.Z)(i,eO),U=null!=y.value?y.value:j,{current:Z}=t.useRef(null!=U),B=t.useRef(),V=t.useCallback((e=>{0}),[]),W=(0,jP.Z)(B,b,y.ref,V),[H,q]=t.useState(!1),G=zP();const K=DP({props:i,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=G?G.focused:H,t.useEffect((()=>{!G&&h&&H&&(q(!1),C&&C())}),[G,h,H,C]);const Q=G&&G.onFilled,X=G&&G.onEmpty,Y=t.useCallback((e=>{YP(e)?Q&&Q():X&&X()}),[Q,X]);(0,FP.Z)((()=>{Z&&Y({value:U})}),[U,Y,Z]);t.useEffect((()=>{Y(B.current)}),[]);let J=v,$=y;S&&"input"===J&&($=N?(0,CE.Z)({type:void 0,minRows:N,maxRows:N},$):(0,CE.Z)({type:void 0,maxRows:w,minRows:_},$),J=NP);t.useEffect((()=>{G&&G.setAdornedStart(Boolean(L))}),[G,L]);const ee=(0,CE.Z)({},i,{color:K.color||"primary",disabled:K.disabled,endAdornment:p,error:K.error,focused:K.focused,formControl:G,fullWidth:m,hiddenLabel:K.hiddenLabel,multiline:S,size:K.size,startAdornment:L,type:z}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=e,m={root:["root","color".concat((0,eR.Z)(n)),r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat((0,eR.Z)(h)),u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,AE.Z)(m,JP,t)})(ee),ne=D.root||c.Root||rO,re=M.root||u.root||{},ie=D.input||c.Input||iO;return $=(0,CE.Z)({},$,null!=(r=M.input)?r:u.input),(0,qE.jsxs)(t.Fragment,{children:[!f&&oO,(0,qE.jsxs)(ne,(0,CE.Z)({},re,!MP(ne)&&{ownerState:(0,CE.Z)({},ee,re.ownerState)},{ref:n,onClick:e=>{B.current&&e.currentTarget===e.target&&B.current.focus(),I&&I(e)}},F,{className:(0,kE.Z)(te.root,re.className,l,O&&"MuiInputBase-readOnly"),children:[L,(0,qE.jsx)(LP.Provider,{value:null,children:(0,qE.jsx)(ie,(0,CE.Z)({ownerState:ee,"aria-invalid":K.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:K.disabled,id:g,onAnimationStart:e=>{Y("mui-auto-fill-cancel"===e.animationName?B.current:{value:"x"})},name:x,placeholder:P,readOnly:O,required:K.required,rows:N,value:U,onKeyDown:E,onKeyUp:R,type:z},$,!MP(ie)&&{as:J,ownerState:(0,CE.Z)({},ee,$.ownerState)},{ref:W,className:(0,kE.Z)(te.input,$.className,O&&"MuiInputBase-readOnly"),onBlur:e=>{C&&C(e),y.onBlur&&y.onBlur(e),G&&G.onBlur?G.onBlur(e):q(!1)},onChange:function(e){if(!Z){const t=e.target||B.current;if(null==t)throw new Error((0,CP.Z)(1));Y({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),k&&k(e,...n)},onFocus:e=>{K.disabled?e.stopPropagation():(T&&T(e),y.onFocus&&y.onFocus(e),G&&G.onFocus?G.onFocus(e):q(!0))}}))}),p,A?A((0,CE.Z)({},K,{startAdornment:L})):null]}))]})})),aO=sO;function lO(e){return(0,ZE.Z)("MuiInput",e)}const cO=(0,CE.Z)({},$P,(0,UE.Z)("MuiInput",["root","underline","input"])),uO=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],dO=(0,NE.ZP)(rO,{shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...tO(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,CE.Z)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(cO.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(cO.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(cO.disabled,", .").concat(cO.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(cO.disabled,":before")]:{borderBottomStyle:"dotted"}})})),hO=(0,NE.ZP)(iO,{name:"MuiInput",slot:"Input",overridesResolver:nO})({}),fO=t.forwardRef((function(e,t){var n,r,i,o;const s=(0,ME.Z)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text"}=s,g=(0,xE.Z)(s,uO),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,AE.Z)(r,lO,t);return(0,CE.Z)({},t,i)})(s),y={root:{ownerState:{disableUnderline:a}}},b=(null!=f?f:c)?(0,TE.Z)(null!=f?f:c,y):y,w=null!=(n=null!=(r=p.root)?r:l.Root)?n:dO,_=null!=(i=null!=(o=p.input)?o:l.Input)?i:hO;return(0,qE.jsx)(aO,(0,CE.Z)({slots:{root:w,input:_},slotProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));fO.muiName="Input";const pO=fO;function mO(e){return(0,ZE.Z)("MuiFilledInput",e)}const gO=(0,CE.Z)({},$P,(0,UE.Z)("MuiFilledInput",["root","underline","input"])),vO=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],yO=(0,NE.ZP)(rO,{shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...tO(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,CE.Z)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},["&.".concat(gO.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},["&.".concat(gO.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(gO.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(gO.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(gO.disabled,", .").concat(gO.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(gO.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,CE.Z)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),bO=(0,NE.ZP)(iO,{name:"MuiFilledInput",slot:"Input",overridesResolver:nO})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),wO=t.forwardRef((function(e,t){var n,r,i,o;const s=(0,ME.Z)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:f={},type:p="text"}=s,m=(0,xE.Z)(s,vO),g=(0,CE.Z)({},s,{fullWidth:c,inputComponent:u,multiline:d,type:p}),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,AE.Z)(r,mO,t);return(0,CE.Z)({},t,i)})(s),y={root:{ownerState:g},input:{ownerState:g}},b=(null!=h?h:l)?(0,TE.Z)(y,null!=h?h:l):y,w=null!=(n=null!=(r=f.root)?r:a.Root)?n:yO,_=null!=(i=null!=(o=f.input)?o:a.Input)?i:bO;return(0,qE.jsx)(aO,(0,CE.Z)({slots:{root:w,input:_},componentsProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:p},m,{classes:v}))}));wO.muiName="Input";const _O=wO;var SO;const xO=["children","classes","className","label","notched"],CO=(0,NE.ZP)("fieldset",{shouldForwardProp:NE.FO})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),kO=(0,NE.ZP)("legend",{shouldForwardProp:NE.FO})((e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,CE.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function IO(e){return(0,ZE.Z)("MuiOutlinedInput",e)}const TO=(0,CE.Z)({},$P,(0,UE.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),EO=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],RO=(0,NE.ZP)(rO,{shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:tO})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,CE.Z)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(TO.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(TO.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(TO.focused," .").concat(TO.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(TO.error," .").concat(TO.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(TO.disabled," .").concat(TO.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,CE.Z)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),PO=(0,NE.ZP)((function(e){const{className:t,label:n,notched:r}=e,i=(0,xE.Z)(e,xO),o=null!=n&&""!==n,s=(0,CE.Z)({},e,{notched:r,withLabel:o});return(0,qE.jsx)(CO,(0,CE.Z)({"aria-hidden":!0,className:t,ownerState:s},i,{children:(0,qE.jsx)(kO,{ownerState:s,children:o?(0,qE.jsx)("span",{children:n}):SO||(SO=(0,qE.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),OO=(0,NE.ZP)(iO,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:nO})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),AO=t.forwardRef((function(e,n){var r,i,o,s,a;const l=(0,ME.Z)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:m={},type:g="text"}=l,v=(0,xE.Z)(l,EO),y=(e=>{const{classes:t}=e,n=(0,AE.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},IO,t);return(0,CE.Z)({},t,n)})(l),b=zP(),w=DP({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=(0,CE.Z)({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:g}),S=null!=(r=null!=(i=m.root)?i:c.Root)?r:RO,x=null!=(o=null!=(s=m.input)?s:c.Input)?o:OO;return(0,qE.jsx)(aO,(0,CE.Z)({slots:{root:S,input:x},renderSuffix:e=>(0,qE.jsx)(PO,{ownerState:_,className:y.notchedOutline,label:null!=h&&""!==h&&w.required?a||(a=(0,qE.jsxs)(t.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:n,type:g},v,{classes:(0,CE.Z)({},y,{notchedOutline:null})}))}));AO.muiName="Input";const NO=AO;function MO(e){return(0,ZE.Z)("MuiFormLabel",e)}const DO=(0,UE.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),LO=["children","className","color","component","disabled","error","filled","focused","required"],zO=(0,NE.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,CE.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(DO.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(DO.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(DO.error)]:{color:(t.vars||t).palette.error.main}})})),jO=(0,NE.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(DO.error)]:{color:(t.vars||t).palette.error.main}}})),FO=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,s=(0,xE.Z)(n,LO),a=DP({props:n,muiFormControl:zP(),states:["color","required","focused","disabled","error","filled"]}),l=(0,CE.Z)({},n,{color:a.color||"primary",component:o,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root","color".concat((0,eR.Z)(n)),i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return(0,AE.Z)(l,MO,t)})(l);return(0,qE.jsxs)(zO,(0,CE.Z)({as:o,ownerState:l,className:(0,kE.Z)(c.root,i),ref:t},s,{children:[r,a.required&&(0,qE.jsxs)(jO,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),UO=FO;function ZO(e){return(0,ZE.Z)("MuiInputLabel",e)}(0,UE.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const BO=["disableAnimation","margin","shrink","variant","className"],VO=(0,NE.ZP)(UO,{shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(DO.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,CE.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,CE.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,CE.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}),"standard"===n.variant&&{"&:not(label) + div":{marginTop:16}})})),WO=t.forwardRef((function(e,t){const n=(0,ME.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,s=(0,xE.Z)(n,BO),a=zP();let l=i;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=DP({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),u=(0,CE.Z)({},n,{disableAnimation:r,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat((0,eR.Z)(r)),s],asterisk:[a&&"asterisk"]},c=(0,AE.Z)(l,ZO,t);return(0,CE.Z)({},t,c)})(u);return(0,qE.jsx)(VO,(0,CE.Z)({"data-shrink":l,ownerState:u,ref:t,className:(0,kE.Z)(d.root,o)},s,{classes:d}))})),HO=WO;var qO=n(9103);function GO(e){return(0,ZE.Z)("MuiFormControl",e)}(0,UE.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KO=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],QO=(0,NE.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,CE.Z)({},t.root,t["margin".concat((0,eR.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),XO=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:g="outlined"}=r,v=(0,xE.Z)(r,KO),y=(0,CE.Z)({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&"margin".concat((0,eR.Z)(n)),r&&"fullWidth"]};return(0,AE.Z)(i,GO,t)})(y),[w,_]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{if(!(0,qO.Z)(t,["Input","Select"]))return;const n=(0,qO.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,x]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{(0,qO.Z)(t,["Input","Select"])&&(YP(t.props,!0)||YP(t.props.inputProps,!0))&&(e=!0)})),e})),[C,k]=t.useState(!1);l&&C&&k(!1);const I=void 0===u||l?C:u;let T;const E=t.useMemo((()=>({adornedStart:w,setAdornedStart:_,color:s,disabled:l,error:c,filled:S,focused:I,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{k(!0)},registerEffect:T,required:p,variant:g})),[w,s,l,c,S,I,d,h,T,p,m,g]);return(0,qE.jsx)(LP.Provider,{value:E,children:(0,qE.jsx)(QO,(0,CE.Z)({as:a,ownerState:y,className:(0,kE.Z)(b.root,o),ref:n},v,{children:i}))})})),YO=XO;function JO(e){return(0,ZE.Z)("MuiFormHelperText",e)}const $O=(0,UE.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var eA;const tA=["children","className","component","disabled","error","filled","focused","margin","required","variant"],nA=(0,NE.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,eR.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat($O.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat($O.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),rA=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,s=(0,xE.Z)(n,tA),a=DP({props:n,muiFormControl:zP(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,CE.Z)({},n,{component:o,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,eR.Z)(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,AE.Z)(c,JO,t)})(l);return(0,qE.jsx)(nA,(0,CE.Z)({as:o,ownerState:l,className:(0,kE.Z)(c.root,i),ref:t},s,{children:" "===r?eA||(eA=(0,qE.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),iA=rA;var oA=n(8301);function sA(e,t,n){return void 0===e||MP(e)?t:(0,CE.Z)({},t,{ownerState:(0,CE.Z)({},t.ownerState,n)})}function aA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function lA(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const cA=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function uA(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=(0,xE.Z)(e,cA),a=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=(0,kE.Z)(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,CE.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,CE.Z)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=aA((0,CE.Z)({},i,r)),a=lA(r),l=lA(i),c=t(s),u=(0,kE.Z)(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,CE.Z)({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,CE.Z)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}((0,CE.Z)({},s,{externalSlotProps:a})),u=(0,kP.Z)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return sA(n,(0,CE.Z)({},l,{ref:u}),i)}const dA=t.createContext({});function hA(e){return(0,ZE.Z)("MuiList",e)}(0,UE.Z)("MuiList",["root","padding","dense","subheader"]);const fA=["children","className","component","dense","disablePadding","subheader"],pA=(0,NE.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),mA=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=(0,xE.Z)(r,fA),d=t.useMemo((()=>({dense:a})),[a]),h=(0,CE.Z)({},r,{component:s,dense:a,disablePadding:l}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,AE.Z)(o,hA,t)})(h);return(0,qE.jsx)(dA.Provider,{value:d,children:(0,qE.jsxs)(pA,(0,CE.Z)({as:s,className:(0,kE.Z)(f.root,o),ref:n,ownerState:h},u,{children:[c,i]}))})})),gA=mA;function vA(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const yA=vA,bA=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function wA(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function _A(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function SA(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function xA(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&SA(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const CA=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,xE.Z)(e,bA),f=t.useRef(null),p=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,FP.Z)((()=>{i&&f.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&n){const n="".concat(yA((0,oA.Z)(e)),"px");f.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,f.current.style.width="calc(100% + ".concat(n,")")}return f.current}})),[]);const m=(0,jP.Z)(f,n);let g=-1;t.Children.forEach(s,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=n),g===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===n&&(g+=1,g>=s.length&&(g=-1))}));const v=t.Children.map(s,((e,n)=>{if(n===g){const n={};return o&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,qE.jsx)(gA,(0,CE.Z)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,oA.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),xA(t,r,c,l,wA);else if("ArrowUp"===n)e.preventDefault(),xA(t,r,c,l,_A);else if("Home"===n)e.preventDefault(),xA(t,null,c,l,wA);else if("End"===n)e.preventDefault(),xA(t,null,c,l,_A);else if(1===n.length){const i=p.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&SA(r,i);i.previousKeyMatched&&(a||xA(t,r,!1,l,wA,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:i?0:-1},h,{children:v}))})),kA=CA;var IA=n(3199),TA=n(7602);function EA(e,t){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},EA(e,t)}function RA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,EA(e,t)}const PA=!1,OA=t.createContext(null);var AA=function(e){return e.scrollTop},NA="unmounted",MA="exited",DA="entering",LA="entered",zA="exiting",jA=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=MA,r.appearStatus=DA):i=LA:i=t.unmountOnExit||t.mountOnEnter?NA:MA,r.state={status:i},r.nextCallback=null,r}RA(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===NA?{status:MA}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==DA&&n!==LA&&(t=DA):n!==DA&&n!==LA||(t=zA)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===DA){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&AA(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===MA&&this.setState({status:NA})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||PA?this.safeSetState({status:LA},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:DA},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:LA},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!PA?(this.props.onExit(r),this.safeSetState({status:zA},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:MA},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:MA},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===NA)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,xE.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(OA.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function FA(){}jA.contextType=OA,jA.propTypes={},jA.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:FA,onEntering:FA,onEntered:FA,onExit:FA,onExiting:FA,onExited:FA},jA.UNMOUNTED=NA,jA.EXITED=MA,jA.ENTERING=DA,jA.ENTERED=LA,jA.EXITING=zA;const UA=jA,ZA=e=>e.scrollTop;function BA(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const VA=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function WA(e){return"scale(".concat(e,", ").concat(e**2,")")}const HA={entering:{opacity:1,transform:WA(1)},entered:{opacity:1,transform:"none"}},qA="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),GA=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=UA}=e,v=(0,xE.Z)(e,VA),y=t.useRef(),b=t.useRef(),w=jE(),_=t.useRef(null),S=(0,jP.Z)(_,o.ref,n),x=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},C=x(u),k=x(((e,t)=>{ZA(e);const{duration:n,delay:r,easing:i}=BA({style:p,timeout:m,easing:s},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:qA?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),I=x(c),T=x(f),E=x((e=>{const{duration:t,delay:n,easing:r}=BA({style:p,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:qA?i:.666*i,delay:qA?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=WA(.75),d&&d(e)})),R=x(h);return t.useEffect((()=>()=>{clearTimeout(y.current)}),[]),(0,qE.jsx)(g,(0,CE.Z)({appear:i,in:a,nodeRef:_,onEnter:k,onEntered:I,onEntering:C,onExit:E,onExited:R,onExiting:T,addEndListener:e=>{"auto"===m&&(y.current=setTimeout(e,b.current||0)),r&&r(_.current,e)},timeout:"auto"===m?null:m},v,{children:(e,n)=>t.cloneElement(o,(0,CE.Z)({style:(0,CE.Z)({opacity:0,transform:WA(.75),visibility:"exited"!==e||a?void 0:"hidden"},HA[e],p,o.props.style),ref:S},n))}))}));GA.muiSupportAuto=!0;const KA=GA;var QA=n(4913),XA=n(7054),YA=n(8949);function JA(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function $A(e){return parseInt((0,IP.Z)(e).getComputedStyle(e).paddingRight,10)||0}function eN(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&JA(e,i)}))}function tN(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function nN(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,QA.Z)(e);return t.body===e?(0,IP.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=vA((0,QA.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat($A(r)+e,"px");const t=(0,QA.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat($A(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,QA.Z)(r).body;else{const t=r.parentElement,n=(0,IP.Z)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const rN=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&JA(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);eN(t,e.mount,e.modalRef,r,!0);const i=tN(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=tN(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=nN(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=tN(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&JA(e.modalRef,t),eN(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&JA(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function iN(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=rN,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,f=t.useRef({}),p=t.useRef(null),m=t.useRef(null),g=(0,kP.Z)(m,h),[v,y]=t.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),S=()=>{o.mount(_(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},x=(0,XA.Z)((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||(0,QA.Z)(p.current).body;o.add(_(),e),m.current&&S()})),C=t.useCallback((()=>o.isTopModal(_())),[o]),k=(0,XA.Z)((e=>{p.current=e,e&&(d&&C()?S():m.current&&JA(m.current,w))})),I=t.useCallback((()=>{o.remove(_(),w)}),[w,o]);t.useEffect((()=>()=>{I()}),[I]),t.useEffect((()=>{d?x():b&&s||I()}),[d,I,b,s,x]);const T=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&C()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},E=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=aA(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,CE.Z)({},n,t);return(0,CE.Z)({role:"presentation"},r,{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,CE.Z)({"aria-hidden":!0},e,{onClick:E(e),open:d})},getTransitionProps:()=>({onEnter:(0,YA.Z)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,YA.Z)((()=>{y(!0),l&&l(),s&&I()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:k,isTopModal:C,exited:v,hasTransition:b}}const oN=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function sN(e){const t=[],n=[];return Array.from(e.querySelectorAll(oN)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function aN(){return!0}function lN(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=sN,isEnabled:a=aN,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=(0,kP.Z)(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,QA.Z)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,QA.Z)(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,qE.jsxs)(t.Fragment,{children:[(0,qE.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,qE.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var cN=n(2971);const uN=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,l]=t.useState(null),c=(0,kP.Z)(t.isValidElement(r)?r.ref:null,n);if((0,TP.Z)((()=>{o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,TP.Z)((()=>{if(s&&!o)return(0,cN.Z)(n,s),()=>{(0,cN.Z)(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:c};return t.cloneElement(r,e)}return(0,qE.jsx)(t.Fragment,{children:r})}return(0,qE.jsx)(t.Fragment,{children:s?a.createPortal(r,s):s})}));const dN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],hN={entering:{opacity:1},entered:{opacity:1}},fN=t.forwardRef((function(e,n){const r=jE(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:v=i,TransitionComponent:y=UA}=e,b=(0,xE.Z)(e,dN),w=t.useRef(null),_=(0,jP.Z)(w,a.ref,n),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},x=S(h),C=S(((e,t)=>{ZA(e);const n=BA({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)})),k=S(d),I=S(m),T=S((e=>{const t=BA({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),f&&f(e)})),E=S(p);return(0,qE.jsx)(y,(0,CE.Z)({appear:s,in:c,nodeRef:w,onEnter:C,onEntered:k,onEntering:x,onExit:T,onExited:E,onExiting:I,addEndListener:e=>{o&&o(w.current,e)},timeout:v},b,{children:(e,n)=>t.cloneElement(a,(0,CE.Z)({style:(0,CE.Z)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},hN[e],g,a.props.style),ref:_},n))}))})),pN=fN;function mN(e){return(0,ZE.Z)("MuiBackdrop",e)}(0,UE.Z)("MuiBackdrop",["root","invisible"]);const gN=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],vN=(0,NE.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),yN=t.forwardRef((function(e,t){var n,r,i;const o=(0,ME.Z)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:f={},slots:p={},TransitionComponent:m=pN,transitionDuration:g}=o,v=(0,xE.Z)(o,gN),y=(0,CE.Z)({},o,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,AE.Z)(r,mN,t)})(y),w=null!=(n=f.root)?n:u.root;return(0,qE.jsx)(m,(0,CE.Z)({in:h,timeout:g},v,{children:(0,qE.jsx)(vN,(0,CE.Z)({"aria-hidden":!0},w,{as:null!=(r=null!=(i=p.root)?i:c.Root)?r:l,className:(0,kE.Z)(b.root,a,null==w?void 0:w.className),ownerState:(0,CE.Z)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:s}))}))})),bN=yN;function wN(e){return(0,ZE.Z)("MuiModal",e)}(0,UE.Z)("MuiModal",["root","hidden","backdrop"]);const _N=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],SN=(0,NE.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),xN=(0,NE.ZP)(bN,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),CN=t.forwardRef((function(e,n){var r,i,o,s,a,l;const c=(0,ME.Z)({name:"MuiModal",props:e}),{BackdropComponent:u=xN,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:S=!1,disableRestoreFocus:x=!1,disableScrollLock:C=!1,hideBackdrop:k=!1,keepMounted:I=!1,onBackdropClick:T,open:E,slotProps:R,slots:P}=c,O=(0,xE.Z)(c,_N),A=(0,CE.Z)({},c,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:x,disableScrollLock:C,hideBackdrop:k,keepMounted:I}),{getRootProps:N,getBackdropProps:M,getTransitionProps:D,portalRef:L,isTopModal:z,exited:j,hasTransition:F}=iN((0,CE.Z)({},A,{rootRef:n})),U=(0,CE.Z)({},A,{exited:j}),Z=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,AE.Z)(i,wN,r)})(U),B={};if(void 0===p.props.tabIndex&&(B.tabIndex="-1"),F){const{onEnter:e,onExited:t}=D();B.onEnter=e,B.onExited=t}const V=null!=(r=null!=(i=null==P?void 0:P.root)?i:v.Root)?r:SN,W=null!=(o=null!=(s=null==P?void 0:P.backdrop)?s:v.Backdrop)?o:u,H=null!=(a=null==R?void 0:R.root)?a:y.root,q=null!=(l=null==R?void 0:R.backdrop)?l:y.backdrop,G=uA({elementType:V,externalSlotProps:H,externalForwardedProps:O,getSlotProps:N,additionalProps:{ref:n,as:g},ownerState:U,className:(0,kE.Z)(h,null==H?void 0:H.className,null==Z?void 0:Z.root,!U.open&&U.exited&&(null==Z?void 0:Z.hidden))}),K=uA({elementType:W,externalSlotProps:q,additionalProps:d,getSlotProps:e=>M((0,CE.Z)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,kE.Z)(null==q?void 0:q.className,null==d?void 0:d.className,null==Z?void 0:Z.backdrop),ownerState:U});return I||E||F&&!j?(0,qE.jsx)(uN,{ref:L,container:m,disablePortal:S,children:(0,qE.jsxs)(V,(0,CE.Z)({},G,{children:[!k&&u?(0,qE.jsx)(W,(0,CE.Z)({},K)):null,(0,qE.jsx)(lN,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:x,isEnabled:z,open:E,children:t.cloneElement(p,B)})]}))}):null})),kN=CN;function IN(e){return(0,ZE.Z)("MuiPopover",e)}(0,UE.Z)("MuiPopover",["root","paper"]);const TN=["onEntering"],EN=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],RN=["slotProps"];function PN(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ON(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function AN(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function NN(e){return"function"===typeof e?e():e}const MN=(0,NE.ZP)(kN,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),DN=(0,NE.ZP)(ZR,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),LN=t.forwardRef((function(e,n){var r,i,o;const s=(0,ME.Z)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:S=KA,transitionDuration:x="auto",TransitionProps:{onEntering:C}={},disableScrollLock:k=!1}=s,I=(0,xE.Z)(s.TransitionProps,TN),T=(0,xE.Z)(s,EN),E=null!=(r=null==w?void 0:w.paper)?r:y,R=t.useRef(),P=(0,jP.Z)(R,E.ref),O=(0,CE.Z)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:E,transformOrigin:_,TransitionComponent:S,transitionDuration:x,TransitionProps:I}),A=(e=>{const{classes:t}=e;return(0,AE.Z)({root:["root"],paper:["paper"]},IN,t)})(O),N=t.useCallback((()=>{if("anchorPosition"===d)return u;const e=NN(l),t=(e&&1===e.nodeType?e:(0,oA.Z)(R.current).body).getBoundingClientRect();return{top:t.top+PN(t,c.vertical),left:t.left+ON(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),M=t.useCallback((e=>({vertical:PN(e,_.vertical),horizontal:ON(e,_.horizontal)})),[_.horizontal,_.vertical]),D=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=M(t);if("none"===d)return{top:null,left:null,transformOrigin:AN(n)};const r=N();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,c=(0,TA.Z)(NN(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&s>u){const e=s-u;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(a>h){const e=a-h;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:AN(n)}}),[l,d,N,M,g]),[L,z]=t.useState(v),j=t.useCallback((()=>{const e=R.current;if(!e)return;const t=D(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)}),[D]);t.useEffect((()=>(k&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j))),[l,k,j]);t.useEffect((()=>{v&&j()})),t.useImperativeHandle(a,(()=>v?{updatePosition:()=>{j()}}:null),[v,j]),t.useEffect((()=>{if(!v)return;const e=(0,IA.Z)((()=>{j()})),t=(0,TA.Z)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,j]);let F=x;"auto"!==x||S.muiSupportAuto||(F=void 0);const U=p||(l?(0,oA.Z)(NN(l)).body:void 0),Z=null!=(i=null==b?void 0:b.root)?i:MN,B=null!=(o=null==b?void 0:b.paper)?o:DN,V=uA({elementType:B,externalSlotProps:(0,CE.Z)({},E,{style:L?E.style:(0,CE.Z)({},E.style,{opacity:0})}),additionalProps:{elevation:m,ref:P},ownerState:O,className:(0,kE.Z)(A.paper,null==E?void 0:E.className)}),W=uA({elementType:Z,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:T,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:U,open:v},ownerState:O,className:(0,kE.Z)(A.root,f)}),{slotProps:H}=W,q=(0,xE.Z)(W,RN);return(0,qE.jsx)(Z,(0,CE.Z)({},q,!MP(Z)&&{slotProps:H,disableScrollLock:k},{children:(0,qE.jsx)(S,(0,CE.Z)({appear:!0,in:v,onEntering:(e,t)=>{C&&C(e,t),j()},onExited:()=>{z(!1)},timeout:F},I,{children:(0,qE.jsx)(B,(0,CE.Z)({},V,{children:h}))}))}))})),zN=LN;function jN(e){return(0,ZE.Z)("MuiMenu",e)}(0,UE.Z)("MuiMenu",["root","paper","list"]);const FN=["onEntering"],UN=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ZN={vertical:"top",horizontal:"right"},BN={vertical:"top",horizontal:"left"},VN=(0,NE.ZP)(zN,{shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),WN=(0,NE.ZP)(DN,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),HN=(0,NE.ZP)(kA,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),qN=t.forwardRef((function(e,n){var r,i;const o=(0,ME.Z)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=o,w=(0,xE.Z)(o.TransitionProps,FN),_=(0,xE.Z)(o,UN),S=jE(),x="rtl"===S.direction,C=(0,CE.Z)({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:f,transitionDuration:m,TransitionProps:w,variant:v}),k=(e=>{const{classes:t}=e;return(0,AE.Z)({root:["root"],paper:["paper"],list:["list"]},jN,t)})(C),I=s&&!c&&h,T=t.useRef(null);let E=-1;t.Children.map(a,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===E)&&(E=n))}));const R=null!=(r=y.paper)?r:WN,P=null!=(i=b.paper)?i:f,O=uA({elementType:y.root,externalSlotProps:b.root,ownerState:C,className:[k.root,l]}),A=uA({elementType:R,externalSlotProps:P,ownerState:C,className:k.paper});return(0,qE.jsx)(VN,(0,CE.Z)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?ZN:BN,slots:{paper:R,root:y.root},slotProps:{root:O,paper:A},open:h,ref:n,transitionDuration:m,TransitionProps:(0,CE.Z)({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,S),g&&g(e,t)}},w),ownerState:C},_,{classes:p,children:(0,qE.jsx)(HN,(0,CE.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:T,autoFocus:s&&(-1===E||c),autoFocusItem:I,variant:v},u,{className:(0,kE.Z)(k.list,u.className),children:a}))}))})),GN=qN;function KN(e){return(0,ZE.Z)("MuiNativeSelect",e)}const QN=(0,UE.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),XN=["className","disabled","error","IconComponent","inputRef","variant"],YN=e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,CE.Z)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(QN.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},JN=(0,NE.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:NE.FO,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(QN.multiple)]:t.multiple}]}})(YN),$N=e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(QN.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},eM=(0,NE.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,eR.Z)(n.variant))],n.open&&t.iconOpen]}})($N),tM=t.forwardRef((function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,xE.Z)(e,XN),u=(0,CE.Z)({},e,{disabled:i,variant:l,error:o}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,eR.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,AE.Z)(a,KN,t)})(u);return(0,qE.jsxs)(t.Fragment,{children:[(0,qE.jsx)(JN,(0,CE.Z)({ownerState:u,className:(0,kE.Z)(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:(0,qE.jsx)(eM,{as:s,ownerState:u,className:d.icon})]})})),nM=tM;var rM=n(5158);function iM(e){return(0,ZE.Z)("MuiSelect",e)}const oM=(0,UE.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var sM;const aM=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],lM=(0,NE.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(oM.select)]:t.select},{["&.".concat(oM.select)]:t[n.variant]},{["&.".concat(oM.error)]:t.error},{["&.".concat(oM.multiple)]:t.multiple}]}})(YN,{["&.".concat(oM.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),cM=(0,NE.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,eR.Z)(n.variant))],n.open&&t.iconOpen]}})($N),uM=(0,NE.ZP)("input",{shouldForwardProp:e=>(0,NE.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dM(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function hM(e){return null==e||"string"===typeof e&&!e.trim()}const fM=t.forwardRef((function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:y={},multiple:b,name:w,onBlur:_,onChange:S,onClose:x,onFocus:C,onOpen:k,open:I,readOnly:T,renderValue:E,SelectDisplayProps:R={},tabIndex:P,value:O,variant:A="standard"}=e,N=(0,xE.Z)(e,aM),[M,D]=(0,rM.Z)({controlled:O,default:d,name:"Select"}),[L,z]=(0,rM.Z)({controlled:I,default:u,name:"Select"}),j=t.useRef(null),F=t.useRef(null),[U,Z]=t.useState(null),{current:B}=t.useRef(null!=I),[V,W]=t.useState(),H=(0,jP.Z)(n,g),q=t.useCallback((e=>{F.current=e,e&&Z(e)}),[]),G=null==U?void 0:U.parentNode;t.useImperativeHandle(H,(()=>({focus:()=>{F.current.focus()},node:j.current,value:M})),[M]),t.useEffect((()=>{u&&L&&U&&!B&&(W(a?null:G.clientWidth),F.current.focus())}),[U,a]),t.useEffect((()=>{s&&F.current.focus()}),[s]),t.useEffect((()=>{if(!v)return;const e=(0,oA.Z)(F.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&F.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const K=(e,t)=>{e?k&&k(t):x&&x(t),B||(W(a?null:G.clientWidth),z(e))},Q=t.Children.toArray(l),X=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(M)?M.slice():[];const t=M.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),M!==n&&(D(n),S)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:w}}),S(i,e)}b||K(!1,t)}},Y=null!==U&&L;let J,$;delete N["aria-invalid"];const ee=[];let te=!1,ne=!1;(YP({value:M})||f)&&(E?J=E(M):te=!0);const re=Q.map((e=>{if(!t.isValidElement(e))return null;let n;if(b){if(!Array.isArray(M))throw new Error((0,CP.Z)(2));n=M.some((t=>dM(t,e.props.value))),n&&te&&ee.push(e.props.children)}else n=dM(M,e.props.value),n&&te&&($=e.props.children);return n&&(ne=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):$);let ie,oe=V;!a&&B&&U&&(oe=G.clientWidth),ie="undefined"!==typeof P?P:h?null:0;const se=R.id||(w?"mui-component-select-".concat(w):void 0),ae=(0,CE.Z)({},e,{variant:A,value:M,open:Y,error:p}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,eR.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,AE.Z)(a,iM,t)})(ae),ce=(0,CE.Z)({},y.PaperProps,null==(r=y.slotProps)?void 0:r.paper),ue=(0,xP.Z)(),de=(0,xP.Z)();return(0,qE.jsxs)(t.Fragment,{children:[(0,qE.jsx)(lM,(0,CE.Z)({ref:q,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":Y?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),K(!0,e))}},onMouseDown:h||T?null:e=>{0===e.button&&(e.preventDefault(),F.current.focus(),K(!0,e))},onBlur:e=>{!Y&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:M,name:w}}),_(e))},onFocus:C},R,{ownerState:ae,className:(0,kE.Z)(R.className,le.select,c),id:se,children:hM(J)?sM||(sM=(0,qE.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,qE.jsx)(uM,(0,CE.Z)({"aria-invalid":p,value:Array.isArray(M)?M.join(","):M,name:null!=w?w:de,ref:j,"aria-hidden":!0,onChange:e=>{const t=Q.find((t=>t.props.value===e.target.value));void 0!==t&&(D(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},N)),(0,qE.jsx)(cM,{as:m,className:le.icon,ownerState:ae}),(0,qE.jsx)(GN,(0,CE.Z)({id:"menu-".concat(w||""),anchorEl:G,open:Y,onClose:e=>{K(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,CE.Z)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ue},y.MenuListProps),slotProps:(0,CE.Z)({},y.slotProps,{paper:(0,CE.Z)({},ce,{style:(0,CE.Z)({minWidth:oe},null!=ce?ce.style:null)})}),children:re}))]})})),pM=fM,mM=(0,nP.Z)((0,qE.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),gM=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],vM=["root"],yM={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,NE.FO)(e)&&"variant"!==e,slot:"Root"},bM=(0,NE.ZP)(pO,yM)(""),wM=(0,NE.ZP)(NO,yM)(""),_M=(0,NE.ZP)(_O,yM)(""),SM=t.forwardRef((function(e,n){const r=(0,ME.Z)({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=mM,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:x,variant:C="outlined"}=r,k=(0,xE.Z)(r,gM),I=y?nM:pM,T=DP({props:r,muiFormControl:zP(),states:["variant","error"]}),E=T.variant||C,R=(0,CE.Z)({},r,{variant:E,classes:s}),P=(e=>{const{classes:t}=e;return t})(R),O=(0,xE.Z)(P,vM),A=h||{standard:(0,qE.jsx)(bM,{ownerState:R}),outlined:(0,qE.jsx)(wM,{label:p,ownerState:R}),filled:(0,qE.jsx)(_M,{ownerState:R})}[E],N=(0,jP.Z)(n,A.ref);return(0,qE.jsx)(t.Fragment,{children:t.cloneElement(A,(0,CE.Z)({inputComponent:I,inputProps:(0,CE.Z)({children:o,error:T.error,IconComponent:u,variant:E,type:void 0,multiple:v},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:(0,CE.Z)({id:d},x)},f,{classes:f?(0,TE.Z)(O,f.classes):O},h?h.props.inputProps:{})},v&&y&&"outlined"===E?{notched:!0}:{},{ref:N,className:(0,kE.Z)(A.props.className,a,P.root)},!h&&{variant:E},k))})}));SM.muiName="Select";const xM=SM;function CM(e){return(0,ZE.Z)("MuiTextField",e)}(0,UE.Z)("MuiTextField",["root"]);const kM=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],IM={standard:pO,filled:_O,outlined:NO},TM=(0,NE.ZP)(YO,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),EM=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:f,id:p,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:_,multiline:S=!1,name:x,onBlur:C,onChange:k,onFocus:I,placeholder:T,required:E=!1,rows:R,select:P=!1,SelectProps:O,type:A,value:N,variant:M="outlined"}=n,D=(0,xE.Z)(n,kM),L=(0,CE.Z)({},n,{autoFocus:i,color:a,disabled:c,error:u,fullWidth:h,multiline:S,required:E,select:P,variant:M}),z=(e=>{const{classes:t}=e;return(0,AE.Z)({root:["root"]},CM,t)})(L);const j={};"outlined"===M&&(m&&"undefined"!==typeof m.shrink&&(j.notched=m.shrink),j.label=b),P&&(O&&O.native||(j.id=void 0),j["aria-describedby"]=void 0);const F=(0,xP.Z)(p),U=f&&F?"".concat(F,"-helper-text"):void 0,Z=b&&F?"".concat(F,"-label"):void 0,B=IM[M],V=(0,qE.jsx)(B,(0,CE.Z)({"aria-describedby":U,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:S,name:x,rows:R,maxRows:w,minRows:_,type:A,value:N,id:F,inputRef:y,onBlur:C,onChange:k,onFocus:I,placeholder:T,inputProps:g},j,v));return(0,qE.jsxs)(TM,(0,CE.Z)({className:(0,kE.Z)(z.root,s),disabled:c,error:u,fullWidth:h,ref:t,required:E,color:a,variant:M,ownerState:L},D,{children:[null!=b&&""!==b&&(0,qE.jsx)(HO,(0,CE.Z)({htmlFor:F,id:Z},m,{children:b})),P?(0,qE.jsx)(xM,(0,CE.Z)({"aria-describedby":U,id:F,labelId:Z,value:N,input:V},O,{children:o})):V,f&&(0,qE.jsx)(iA,(0,CE.Z)({id:U},d,{children:f}))]}))})),RM=EM;var PM=n(5917),OM=n(104);const AM=["className","component"];var NM=n(5902),MM=n(570);const DM=(0,UE.Z)("MuiBox",["root"]),LM=(0,MM.Z)(),zM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,s=(0,PM.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(OM.Z),a=t.forwardRef((function(e,t){const a=(0,DE.Z)(r),l=OE(e),{className:c,component:u="div"}=l,d=(0,xE.Z)(l,AM);return(0,qE.jsx)(s,(0,CE.Z)({as:u,ref:t,className:(0,kE.Z)(c,o?o(i):i),theme:n&&a[n]||a},d))}));return a}({themeId:zE.Z,defaultTheme:LM,defaultClassName:DM.root,generateClassName:NM.Z.generate}),jM=zM;function FM(e){return(0,ZE.Z)("MuiCardActions",e)}(0,UE.Z)("MuiCardActions",["root","spacing"]);const UM=["disableSpacing","className"],ZM=(0,NE.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),BM=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:i}=n,o=(0,xE.Z)(n,UM),s=(0,CE.Z)({},n,{disableSpacing:r}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,AE.Z)(r,FM,t)})(s);return(0,qE.jsx)(ZM,(0,CE.Z)({className:(0,kE.Z)(a.root,i),ownerState:s,ref:t},o))})),VM=BM;var WM=n(5735),HM=n(9683),qM=n(3031);function GM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function KM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QM(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function XM(e,t,n){return null!=n[t]?n[t]:e.props[t]}function YM(e,n,r){var i=QM(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:XM(a,"exit",e),enter:XM(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:XM(a,"exit",e),enter:XM(a,"enter",e)})}})),o}var JM=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},$M=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(KM(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}RA(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,QM(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:XM(e,"appear",r),enter:XM(e,"enter",r),exit:XM(e,"exit",r)})}))):YM(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=QM(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,CE.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,xE.Z)(e,["component","childFactory"]),o=this.state.contextValue,s=JM(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(OA.Provider,{value:o},s):t.createElement(OA.Provider,{value:o},t.createElement(n,i,s))},n}(t.Component);$M.propTypes={},$M.defaultProps={component:"div",childFactory:function(e){return e}};const eD=$M;const tD=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=t.useState(!1),f=(0,kE.Z)(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),p={width:a,height:a,top:-a/2+s,left:-a/2+o},m=(0,kE.Z)(r.child,d&&r.childLeaving,i&&r.childPulsate);return l||d||h(!0),t.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,qE.jsx)("span",{className:f,style:p,children:(0,qE.jsx)("span",{className:m})})};const nD=(0,UE.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var rD,iD,oD,sD;const aD=["center","classes","className"];let lD,cD,uD,dD;const hD=qP(lD||(lD=rD||(rD=GM(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),fD=qP(cD||(cD=iD||(iD=GM(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),pD=qP(uD||(uD=oD||(oD=GM(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),mD=(0,NE.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),gD=(0,NE.ZP)(tD,{name:"MuiTouchRipple",slot:"Ripple"})(dD||(dD=sD||(sD=GM(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),nD.rippleVisible,hD,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nD.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),nD.child,nD.childLeaving,fD,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nD.childPulsate,pD,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),vD=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=(0,xE.Z)(r,aD),[l,c]=t.useState([]),u=t.useRef(0),d=t.useRef(null);t.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=t.useRef(!1),f=t.useRef(0),p=t.useRef(null),m=t.useRef(null);t.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]);const g=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,qE.jsx)(gD,{classes:{ripple:(0,kE.Z)(o.ripple,nD.ripple),rippleVisible:(0,kE.Z)(o.rippleVisible,nD.rippleVisible),ripplePulsate:(0,kE.Z)(o.ripplePulsate,nD.ripplePulsate),child:(0,kE.Z)(o.child,nD.child),childLeaving:(0,kE.Z)(o.childLeaving,nD.childLeaving),childPulsate:(0,kE.Z)(o.childPulsate,nD.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),v=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},f.current=setTimeout((()=>{p.current&&(p.current(),p.current=null)}),80)):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,g]),y=t.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=t.useCallback(((e,t)=>{if(clearTimeout(f.current),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void(f.current=setTimeout((()=>{b(e,t)})));p.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[]);return t.useImperativeHandle(n,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,qE.jsx)(mD,(0,CE.Z)({className:(0,kE.Z)(nD.root,o.root,s),ref:m},a,{children:(0,qE.jsx)(eD,{component:null,exit:!0,children:l})}))})),yD=vD;function bD(e){return(0,ZE.Z)("MuiButtonBase",e)}const wD=(0,UE.Z)("MuiButtonBase",["root","disabled","focusVisible"]),_D=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],SD=(0,NE.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(wD.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),xD=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:_,onMouseDown:S,onMouseLeave:x,onMouseUp:C,onTouchEnd:k,onTouchMove:I,onTouchStart:T,tabIndex:E=0,TouchRippleProps:R,touchRippleRef:P,type:O}=r,A=(0,xE.Z)(r,_D),N=t.useRef(null),M=t.useRef(null),D=(0,jP.Z)(M,P),{isFocusVisibleRef:L,onFocus:z,onBlur:j,ref:F}=(0,qM.Z)(),[U,Z]=t.useState(!1);c&&U&&Z(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{Z(!0),N.current.focus()}})),[]);const[B,V]=t.useState(!1);t.useEffect((()=>{V(!0)}),[]);const W=B&&!u&&!c;function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,HM.Z)((r=>{t&&t(r);return!n&&M.current&&M.current[e](r),!0}))}t.useEffect((()=>{U&&h&&!u&&B&&M.current.pulsate()}),[u,h,U,B]);const q=H("start",S),G=H("stop",g),K=H("stop",v),Q=H("stop",C),X=H("stop",(e=>{U&&e.preventDefault(),x&&x(e)})),Y=H("start",T),J=H("stop",k),$=H("stop",I),ee=H("stop",(e=>{j(e),!1===L.current&&Z(!1),p&&p(e)}),!1),te=(0,HM.Z)((e=>{N.current||(N.current=e.currentTarget),z(e),!0===L.current&&(Z(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=N.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=t.useRef(!1),ie=(0,HM.Z)((e=>{h&&!re.current&&U&&M.current&&" "===e.key&&(re.current=!0,M.current.stop(e,(()=>{M.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),oe=(0,HM.Z)((e=>{h&&" "===e.key&&M.current&&U&&!e.defaultPrevented&&(re.current=!1,M.current.stop(e,(()=>{M.current.pulsate(e)}))),_&&_(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(A.href||A.to)&&(se=f);const ae={};"button"===se?(ae.type=void 0===O?"button":O,ae.disabled=c):(A.href||A.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,jP.Z)(n,F,N);const ce=(0,CE.Z)({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:E,focusVisible:U}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,AE.Z)(o,bD,i);return n&&r&&(s.root+=" ".concat(r)),s})(ce);return(0,qE.jsxs)(SD,(0,CE.Z)({as:se,className:(0,kE.Z)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:ie,onKeyUp:oe,onMouseDown:q,onMouseLeave:X,onMouseUp:Q,onDragLeave:K,onTouchEnd:J,onTouchMove:$,onTouchStart:Y,ref:le,tabIndex:c?-1:E,type:O},ae,A,{children:[s,W?(0,qE.jsx)(yD,(0,CE.Z)({ref:D,center:o},R)):null]}))})),CD=xD;function kD(e){return(0,ZE.Z)("MuiButton",e)}const ID=(0,UE.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const TD=t.createContext({});const ED=t.createContext(void 0),RD=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],PD=e=>(0,CE.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),OD=(0,NE.ZP)(CD,{shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,eR.Z)(n.color))],t["size".concat((0,eR.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,eR.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,CE.Z)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,CE.Z)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,DR.Fq)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,DR.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,DR.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,CE.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(ID.focusVisible)]:(0,CE.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(ID.disabled)]:(0,CE.Z)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,DR.Fq)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(ID.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(ID.disabled)]:{boxShadow:"none"}}})),AD=(0,NE.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat((0,eR.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},PD(t))})),ND=(0,NE.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat((0,eR.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},PD(t))})),MD=t.forwardRef((function(e,n){const r=t.useContext(TD),i=t.useContext(ED),o=(0,WM.Z)(r,e),s=(0,ME.Z)({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=s,_=(0,xE.Z)(s,RD),S=(0,CE.Z)({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:g,size:v,type:b,variant:w}),x=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,"".concat(o).concat((0,eR.Z)(t)),"size".concat((0,eR.Z)(i)),"".concat(o,"Size").concat((0,eR.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,eR.Z)(i))],endIcon:["endIcon","iconSize".concat((0,eR.Z)(i))]},l=(0,AE.Z)(a,kD,s);return(0,CE.Z)({},s,l)})(S),C=y&&(0,qE.jsx)(AD,{className:x.startIcon,ownerState:S,children:y}),k=p&&(0,qE.jsx)(ND,{className:x.endIcon,ownerState:S,children:p}),I=i||"";return(0,qE.jsxs)(OD,(0,CE.Z)({ownerState:S,className:(0,kE.Z)(r.className,x.root,u,I),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:(0,kE.Z)(x.focusVisible,m),ref:n,type:b},_,{classes:x,children:[C,a,k]}))})),DD=MD;function LD(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zD(e){return e instanceof LD(e).Element||e instanceof Element}function jD(e){return e instanceof LD(e).HTMLElement||e instanceof HTMLElement}function FD(e){return"undefined"!==typeof ShadowRoot&&(e instanceof LD(e).ShadowRoot||e instanceof ShadowRoot)}var UD=Math.max,ZD=Math.min,BD=Math.round;function VD(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function WD(){return!/^((?!chrome|android).)*safari/i.test(VD())}function HD(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&jD(e)&&(i=e.offsetWidth>0&&BD(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&BD(r.height)/e.offsetHeight||1);var s=(zD(e)?LD(e):window).visualViewport,a=!WD()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function qD(e){var t=LD(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function GD(e){return e?(e.nodeName||"").toLowerCase():null}function KD(e){return((zD(e)?e.ownerDocument:e.document)||window.document).documentElement}function QD(e){return HD(KD(e)).left+qD(e).scrollLeft}function XD(e){return LD(e).getComputedStyle(e)}function YD(e){var t=XD(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function JD(e,t,n){void 0===n&&(n=!1);var r=jD(t),i=jD(t)&&function(e){var t=e.getBoundingClientRect(),n=BD(t.width)/e.offsetWidth||1,r=BD(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=KD(t),s=HD(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==GD(t)||YD(o))&&(a=function(e){return e!==LD(e)&&jD(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:qD(e);var t}(t)),jD(t)?((l=HD(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=QD(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function $D(e){var t=HD(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function eL(e){return"html"===GD(e)?e:e.assignedSlot||e.parentNode||(FD(e)?e.host:null)||KD(e)}function tL(e){return["html","body","#document"].indexOf(GD(e))>=0?e.ownerDocument.body:jD(e)&&YD(e)?e:tL(eL(e))}function nL(e,t){var n;void 0===t&&(t=[]);var r=tL(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=LD(r),s=i?[o].concat(o.visualViewport||[],YD(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(nL(eL(s)))}function rL(e){return["table","td","th"].indexOf(GD(e))>=0}function iL(e){return jD(e)&&"fixed"!==XD(e).position?e.offsetParent:null}function oL(e){for(var t=LD(e),n=iL(e);n&&rL(n)&&"static"===XD(n).position;)n=iL(n);return n&&("html"===GD(n)||"body"===GD(n)&&"static"===XD(n).position)?t:n||function(e){var t=/firefox/i.test(VD());if(/Trident/i.test(VD())&&jD(e)&&"fixed"===XD(e).position)return null;var n=eL(e);for(FD(n)&&(n=n.host);jD(n)&&["html","body"].indexOf(GD(n))<0;){var r=XD(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var sL="top",aL="bottom",lL="right",cL="left",uL="auto",dL=[sL,aL,lL,cL],hL="start",fL="end",pL="clippingParents",mL="viewport",gL="popper",vL="reference",yL=dL.reduce((function(e,t){return e.concat([t+"-"+hL,t+"-"+fL])}),[]),bL=[].concat(dL,[uL]).reduce((function(e,t){return e.concat([t,t+"-"+hL,t+"-"+fL])}),[]),wL=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function _L(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function SL(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var xL={placement:"bottom",modifiers:[],strategy:"absolute"};function CL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function kL(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?xL:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},xL,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:zD(e)?nL(e):e.contextElement?nL(e.contextElement):[],popper:nL(t)};var u=function(e){var t=_L(e);return wL.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(CL(t,n)){i.rects={reference:JD(t,oL(n),"fixed"===i.options.strategy),popper:$D(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:SL((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!CL(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var IL={passive:!0};const TL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=LD(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,IL)})),a&&l.addEventListener("resize",n.update,IL),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,IL)})),a&&l.removeEventListener("resize",n.update,IL)}},data:{}};function EL(e){return e.split("-")[0]}function RL(e){return e.split("-")[1]}function PL(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function OL(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?EL(i):null,s=i?RL(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case sL:t={x:a,y:n.y-r.height};break;case aL:t={x:a,y:n.y+n.height};break;case lL:t={x:n.x+n.width,y:l};break;case cL:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?PL(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case hL:t[c]=t[c]-(n[u]/2-r[u]/2);break;case fL:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var AL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NL(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=cL,w=sL,_=window;if(c){var S=oL(n),x="clientHeight",C="clientWidth";if(S===LD(n)&&"static"!==XD(S=KD(n)).position&&"absolute"===a&&(x="scrollHeight",C="scrollWidth"),i===sL||(i===cL||i===lL)&&o===fL)w=aL,m-=(d&&S===_&&_.visualViewport?_.visualViewport.height:S[x])-r.height,m*=l?1:-1;if(i===cL||(i===sL||i===aL)&&o===fL)b=lL,f-=(d&&S===_&&_.visualViewport?_.visualViewport.width:S[C])-r.width,f*=l?1:-1}var k,I=Object.assign({position:a},c&&AL),T=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:BD(n*i)/i||0,y:BD(r*i)/i||0}}({x:f,y:m},LD(n)):{x:f,y:m};return f=T.x,m=T.y,l?Object.assign({},I,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},I,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const ML={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=bL.reduce((function(e,n){return e[n]=function(e,t,n){var r=EL(e),i=[cL,sL].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[cL,lL].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var DL={left:"right",right:"left",bottom:"top",top:"bottom"};function LL(e){return e.replace(/left|right|bottom|top/g,(function(e){return DL[e]}))}var zL={start:"end",end:"start"};function jL(e){return e.replace(/start|end/g,(function(e){return zL[e]}))}function FL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&FD(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function UL(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ZL(e,t,n){return t===mL?UL(function(e,t){var n=LD(e),r=KD(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=WD();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+QD(e),y:l}}(e,n)):zD(t)?function(e,t){var n=HD(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):UL(function(e){var t,n=KD(e),r=qD(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=UD(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=UD(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+QD(e),l=-r.scrollTop;return"rtl"===XD(i||n).direction&&(a+=UD(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(KD(e)))}function BL(e,t,n,r){var i="clippingParents"===t?function(e){var t=nL(eL(e)),n=["absolute","fixed"].indexOf(XD(e).position)>=0&&jD(e)?oL(e):e;return zD(n)?t.filter((function(e){return zD(e)&&FL(e,n)&&"body"!==GD(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=ZL(e,n,r);return t.top=UD(i.top,t.top),t.right=ZD(i.right,t.right),t.bottom=ZD(i.bottom,t.bottom),t.left=UD(i.left,t.left),t}),ZL(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function VL(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function WL(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function HL(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?pL:a,c=n.rootBoundary,u=void 0===c?mL:c,d=n.elementContext,h=void 0===d?gL:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=VL("number"!==typeof g?g:WL(g,dL)),y=h===gL?vL:gL,b=e.rects.popper,w=e.elements[p?y:h],_=BL(zD(w)?w:w.contextElement||KD(e.elements.popper),l,u,s),S=HD(e.elements.reference),x=OL({reference:S,element:b,strategy:"absolute",placement:i}),C=UL(Object.assign({},b,x)),k=h===gL?C:S,I={top:_.top-k.top+v.top,bottom:k.bottom-_.bottom+v.bottom,left:_.left-k.left+v.left,right:k.right-_.right+v.right},T=e.modifiersData.offset;if(h===gL&&T){var E=T[i];Object.keys(I).forEach((function(e){var t=[lL,aL].indexOf(e)>=0?1:-1,n=[sL,aL].indexOf(e)>=0?"y":"x";I[e]+=E[n]*t}))}return I}const qL={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=EL(g),y=l||(v===g||!p?[LL(g)]:function(e){if(EL(e)===uL)return[];var t=LL(e);return[jL(e),t,jL(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(EL(n)===uL?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?bL:l,u=RL(r),d=u?a?yL:yL.filter((function(e){return RL(e)===u})):dL,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=HL(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[EL(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,S=new Map,x=!0,C=b[0],k=0;k<b.length;k++){var I=b[k],T=EL(I),E=RL(I)===hL,R=[sL,aL].indexOf(T)>=0,P=R?"width":"height",O=HL(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),A=R?E?lL:cL:E?aL:sL;w[P]>_[P]&&(A=LL(A));var N=LL(A),M=[];if(o&&M.push(O[T]<=0),a&&M.push(O[A]<=0,O[N]<=0),M.every((function(e){return e}))){C=I,x=!1;break}S.set(I,M)}if(x)for(var D=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},L=p?3:1;L>0;L--){if("break"===D(L))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function GL(e,t,n){return UD(e,ZD(t,n))}const KL={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=HL(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=EL(t.placement),y=RL(t.placement),b=!y,w=PL(v),_="x"===w?"y":"x",S=t.modifiersData.popperOffsets,x=t.rects.reference,C=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(S){if(o){var R,P="y"===w?sL:cL,O="y"===w?aL:lL,A="y"===w?"height":"width",N=S[w],M=N+g[P],D=N-g[O],L=f?-C[A]/2:0,z=y===hL?x[A]:C[A],j=y===hL?-C[A]:-x[A],F=t.elements.arrow,U=f&&F?$D(F):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=Z[P],V=Z[O],W=GL(0,x[A],U[A]),H=b?x[A]/2-L-W-B-I.mainAxis:z-W-B-I.mainAxis,q=b?-x[A]/2+L+W+V+I.mainAxis:j+W+V+I.mainAxis,G=t.elements.arrow&&oL(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,Q=null!=(R=null==T?void 0:T[w])?R:0,X=N+q-Q,Y=GL(f?ZD(M,N+H-Q-K):M,N,f?UD(D,X):D);S[w]=Y,E[w]=Y-N}if(a){var J,$="x"===w?sL:cL,ee="x"===w?aL:lL,te=S[_],ne="y"===_?"height":"width",re=te+g[$],ie=te-g[ee],oe=-1!==[sL,cL].indexOf(v),se=null!=(J=null==T?void 0:T[_])?J:0,ae=oe?re:te-x[ne]-C[ne]-se+I.altAxis,le=oe?te+x[ne]+C[ne]-se-I.altAxis:ie,ce=f&&oe?function(e,t,n){var r=GL(e,t,n);return r>n?n:r}(ae,te,le):GL(f?ae:re,te,f?le:ie);S[_]=ce,E[_]=ce-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};const QL={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=EL(n.placement),l=PL(a),c=[cL,lL].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return VL("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:WL(e,dL))}(i.padding,n),d=$D(o),h="y"===l?sL:cL,f="y"===l?aL:lL,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=oL(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],_=v/2-d[c]/2+y,S=GL(b,_,w),x=l;n.modifiersData[r]=((t={})[x]=S,t.centerOffset=S-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&FL(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function XL(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function YL(e){return[sL,lL,aL,cL].some((function(t){return e[t]>=0}))}var JL=kL({defaultModifiers:[TL,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=OL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:EL(t.placement),variation:RL(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,NL(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,NL(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];jD(i)&&GD(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});jD(r)&&GD(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},ML,qL,KL,QL,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=HL(t,{elementContext:"reference"}),a=HL(t,{altBoundary:!0}),l=XL(s,r),c=XL(a,i,o),u=YL(l),d=YL(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function $L(e){return(0,ZE.Z)("MuiPopper",e)}(0,UE.Z)("MuiPopper",["root"]);const ez={disableDefaultClasses:!1},tz=t.createContext(ez);const nz=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],rz=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function iz(e){return"function"===typeof e?e():e}function oz(e){return void 0!==e.nodeType}const sz=()=>(0,AE.Z)({root:["root"]},function(e){const{disableDefaultClasses:n}=t.useContext(tz);return t=>n?"":e(t)}($L)),az={},lz=t.forwardRef((function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:m}=e,g=(0,xE.Z)(e,nz),v=t.useRef(null),y=(0,kP.Z)(v,n),b=t.useRef(null),w=(0,kP.Z)(b,h),_=t.useRef(w);(0,TP.Z)((()=>{_.current=w}),[w]),t.useImperativeHandle(h,(()=>b.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,s),[x,C]=t.useState(S),[k,I]=t.useState(iz(i));t.useEffect((()=>{b.current&&b.current.forceUpdate()})),t.useEffect((()=>{i&&I(iz(i))}),[i]),(0,TP.Z)((()=>{if(!k||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;C(t.placement)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=JL(k,v.current,(0,CE.Z)({placement:S},d,{modifiers:e}));return _.current(t),()=>{t.destroy(),_.current(null)}}),[k,a,l,c,d,S]);const T={placement:x};null!==m&&(T.TransitionProps=m);const E=sz(),R=null!=(r=p.root)?r:"div",P=uA({elementType:R,externalSlotProps:f.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:E.root});return(0,qE.jsx)(R,(0,CE.Z)({},P,{children:"function"===typeof o?o(T):o}))})),cz=t.forwardRef((function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=az,popperRef:f,style:p,transition:m=!1,slotProps:g={},slots:v={}}=e,y=(0,xE.Z)(e,rz),[b,w]=t.useState(!0);if(!l&&!u&&(!m||b))return null;let _;if(o)_=o;else if(r){const e=iz(r);_=e&&oz(e)?(0,QA.Z)(e).body:(0,QA.Z)(null).body}const S=u||!l||m&&!b?void 0:"none",x=m?{in:u,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,qE.jsx)(uN,{disablePortal:a,container:_,children:(0,qE.jsx)(lz,(0,CE.Z)({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:m?!b:u,placement:d,popperOptions:h,popperRef:f,slotProps:g,slots:v},y,{style:(0,CE.Z)({position:"fixed",top:0,left:0,display:S},p),TransitionProps:x,children:i}))})}));var uz=n(9120);const dz=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],hz=(0,NE.ZP)(cz,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fz=t.forwardRef((function(e,t){var n;const r=(0,uz.Z)(),i=(0,ME.Z)({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:g,transition:v,slots:y,slotProps:b}=i,w=(0,xE.Z)(i,dz),_=null!=(n=null==y?void 0:y.root)?n:null==a?void 0:a.Root,S=(0,CE.Z)({anchorEl:o,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:g,transition:v},w);return(0,qE.jsx)(hz,(0,CE.Z)({as:s,direction:null==r?void 0:r.direction,slots:{root:_},slotProps:null!=b?b:l},S,{ref:t}))})),pz=fz;var mz=n(7384);function gz(e){return(0,ZE.Z)("MuiTooltip",e)}const vz=(0,UE.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),yz=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const bz=(0,NE.ZP)(pz,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,CE.Z)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(vz.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(vz.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(vz.arrow)]:(0,CE.Z)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(vz.arrow)]:(0,CE.Z)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),wz=(0,NE.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,eR.Z)(n.placement.split("-")[0]))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,DR.Fq)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((r=16/14,Math.round(1e5*r)/1e5),"em"),fontWeight:t.typography.fontWeightRegular},{[".".concat(vz.popper,'[data-popper-placement*="left"] &')]:(0,CE.Z)({transformOrigin:"right center"},n.isRtl?(0,CE.Z)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,CE.Z)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[".".concat(vz.popper,'[data-popper-placement*="right"] &')]:(0,CE.Z)({transformOrigin:"left center"},n.isRtl?(0,CE.Z)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,CE.Z)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[".".concat(vz.popper,'[data-popper-placement*="top"] &')]:(0,CE.Z)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[".".concat(vz.popper,'[data-popper-placement*="bottom"] &')]:(0,CE.Z)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r})),_z=(0,NE.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,DR.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let Sz=!1,xz=null,Cz={x:0,y:0};function kz(e,t){return n=>{t&&t(n),e(n)}}const Iz=t.forwardRef((function(e,n){var r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,y,b,w,_;const S=(0,ME.Z)({props:e,name:"MuiTooltip"}),{arrow:x=!1,children:C,components:k={},componentsProps:I={},describeChild:T=!1,disableFocusListener:E=!1,disableHoverListener:R=!1,disableInteractive:P=!1,disableTouchListener:O=!1,enterDelay:A=100,enterNextDelay:N=0,enterTouchDelay:M=700,followCursor:D=!1,id:L,leaveDelay:z=0,leaveTouchDelay:j=1500,onClose:F,onOpen:U,open:Z,placement:B="bottom",PopperComponent:V,PopperProps:W={},slotProps:H={},slots:q={},title:G,TransitionComponent:K=KA,TransitionProps:Q}=S,X=(0,xE.Z)(S,yz),Y=t.isValidElement(C)?C:(0,qE.jsx)("span",{children:C}),J=jE(),$="rtl"===J.direction,[ee,te]=t.useState(),[ne,re]=t.useState(null),ie=t.useRef(!1),oe=P||D,se=t.useRef(),ae=t.useRef(),le=t.useRef(),ce=t.useRef(),[ue,de]=(0,rM.Z)({controlled:Z,default:!1,name:"Tooltip",state:"open"});let he=ue;const fe=(0,mz.Z)(L),pe=t.useRef(),me=t.useCallback((()=>{void 0!==pe.current&&(document.body.style.WebkitUserSelect=pe.current,pe.current=void 0),clearTimeout(ce.current)}),[]);t.useEffect((()=>()=>{clearTimeout(se.current),clearTimeout(ae.current),clearTimeout(le.current),me()}),[me]);const ge=e=>{clearTimeout(xz),Sz=!0,de(!0),U&&!he&&U(e)},ve=(0,HM.Z)((e=>{clearTimeout(xz),xz=setTimeout((()=>{Sz=!1}),800+z),de(!1),F&&he&&F(e),clearTimeout(se.current),se.current=setTimeout((()=>{ie.current=!1}),J.transitions.duration.shortest)})),ye=e=>{ie.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),clearTimeout(ae.current),clearTimeout(le.current),A||Sz&&N?ae.current=setTimeout((()=>{ge(e)}),Sz?N:A):ge(e))},be=e=>{clearTimeout(ae.current),clearTimeout(le.current),le.current=setTimeout((()=>{ve(e)}),z)},{isFocusVisibleRef:we,onBlur:_e,onFocus:Se,ref:xe}=(0,qM.Z)(),[,Ce]=t.useState(!1),ke=e=>{_e(e),!1===we.current&&(Ce(!1),be(e))},Ie=e=>{ee||te(e.currentTarget),Se(e),!0===we.current&&(Ce(!0),ye(e))},Te=e=>{ie.current=!0;const t=Y.props;t.onTouchStart&&t.onTouchStart(e)},Ee=ye,Re=be,Pe=e=>{Te(e),clearTimeout(le.current),clearTimeout(se.current),me(),pe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.current=setTimeout((()=>{document.body.style.WebkitUserSelect=pe.current,ye(e)}),M)},Oe=e=>{Y.props.onTouchEnd&&Y.props.onTouchEnd(e),me(),clearTimeout(le.current),le.current=setTimeout((()=>{ve(e)}),j)};t.useEffect((()=>{if(he)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ve(e)}}),[ve,he]);const Ae=(0,jP.Z)(Y.ref,xe,te,n);G||0===G||(he=!1);const Ne=t.useRef(),Me={},De="string"===typeof G;T?(Me.title=he||!De||R?null:G,Me["aria-describedby"]=he?fe:null):(Me["aria-label"]=De?G:null,Me["aria-labelledby"]=he&&!De?fe:null);const Le=(0,CE.Z)({},Me,X,Y.props,{className:(0,kE.Z)(X.className,Y.props.className),onTouchStart:Te,ref:Ae},D?{onMouseMove:e=>{const t=Y.props;t.onMouseMove&&t.onMouseMove(e),Cz={x:e.clientX,y:e.clientY},Ne.current&&Ne.current.update()}}:{});const ze={};O||(Le.onTouchStart=Pe,Le.onTouchEnd=Oe),R||(Le.onMouseOver=kz(Ee,Le.onMouseOver),Le.onMouseLeave=kz(Re,Le.onMouseLeave),oe||(ze.onMouseOver=Ee,ze.onMouseLeave=Re)),E||(Le.onFocus=kz(Ie,Le.onFocus),Le.onBlur=kz(ke,Le.onBlur),oe||(ze.onFocus=Ie,ze.onBlur=ke));const je=t.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=W.popperOptions)&&e.modifiers&&(t=t.concat(W.popperOptions.modifiers)),(0,CE.Z)({},W.popperOptions,{modifiers:t})}),[ne,W]),Fe=(0,CE.Z)({},S,{isRtl:$,arrow:x,disableInteractive:oe,placement:B,PopperComponentProp:V,touch:ie.current}),Ue=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat((0,eR.Z)(o.split("-")[0]))],arrow:["arrow"]};return(0,AE.Z)(s,gz,t)})(Fe),Ze=null!=(r=null!=(i=q.popper)?i:k.Popper)?r:bz,Be=null!=(o=null!=(s=null!=(a=q.transition)?a:k.Transition)?s:K)?o:KA,Ve=null!=(l=null!=(c=q.tooltip)?c:k.Tooltip)?l:wz,We=null!=(u=null!=(d=q.arrow)?d:k.Arrow)?u:_z,He=sA(Ze,(0,CE.Z)({},W,null!=(h=H.popper)?h:I.popper,{className:(0,kE.Z)(Ue.popper,null==W?void 0:W.className,null==(f=null!=(p=H.popper)?p:I.popper)?void 0:f.className)}),Fe),qe=sA(Be,(0,CE.Z)({},Q,null!=(m=H.transition)?m:I.transition),Fe),Ge=sA(Ve,(0,CE.Z)({},null!=(g=H.tooltip)?g:I.tooltip,{className:(0,kE.Z)(Ue.tooltip,null==(v=null!=(y=H.tooltip)?y:I.tooltip)?void 0:v.className)}),Fe),Ke=sA(We,(0,CE.Z)({},null!=(b=H.arrow)?b:I.arrow,{className:(0,kE.Z)(Ue.arrow,null==(w=null!=(_=H.arrow)?_:I.arrow)?void 0:w.className)}),Fe);return(0,qE.jsxs)(t.Fragment,{children:[t.cloneElement(Y,Le),(0,qE.jsx)(Ze,(0,CE.Z)({as:null!=V?V:pz,placement:B,anchorEl:D?{getBoundingClientRect:()=>({top:Cz.y,left:Cz.x,right:Cz.x,bottom:Cz.y,width:0,height:0})}:ee,popperRef:Ne,open:!!ee&&he,id:fe,transition:!0},ze,He,{popperOptions:je,children:e=>{let{TransitionProps:t}=e;return(0,qE.jsx)(Be,(0,CE.Z)({timeout:J.transitions.duration.shorter},t,qe,{children:(0,qE.jsxs)(Ve,(0,CE.Z)({},Ge,{children:[G,x?(0,qE.jsx)(We,(0,CE.Z)({},Ke,{ref:re})):null]}))}))}}))]})})),Tz=Iz;function Ez(e){return(0,ZE.Z)("MuiIconButton",e)}const Rz=(0,UE.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Pz=["edge","children","className","color","disabled","disableFocusRipple","size"],Oz=(0,NE.ZP)(CD,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,eR.Z)(n.color))],n.edge&&t["edge".concat((0,eR.Z)(n.edge))],t["size".concat((0,eR.Z)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,DR.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,CE.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,CE.Z)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,CE.Z)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,DR.Fq)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(Rz.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),Az=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,xE.Z)(n,Pz),d=(0,CE.Z)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled","default"!==r&&"color".concat((0,eR.Z)(r)),i&&"edge".concat((0,eR.Z)(i)),"size".concat((0,eR.Z)(o))]};return(0,AE.Z)(s,Ez,t)})(d);return(0,qE.jsx)(Oz,(0,CE.Z)({className:(0,kE.Z)(h.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t,ownerState:d},u,{children:i}))})),Nz=Az;var Mz=n(9161),Dz=n(7247),Lz=n(1286);const zz=e=>{var n,r,i,o;let{comment:s,id:a,postId:l}=e;const[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(s.comment),m=s.comment,g=s.userName,v=Lt((e=>e.authReducer));(0,t.useEffect)((()=>{if(null==s.timestamp)return;let e=MR(s.timestamp.toDate(),{addSuffix:!0});e=e.replace("about ",""),u(e)}),[s.timestamp]);return(0,qE.jsxs)($E,{container:!0,spacing:1,sx:{paddingTop:0},children:[(0,qE.jsxs)($E,{item:!0,xs:2,children:[(0,qE.jsx)(uP,{sx:{scale:"70%"},src:null!==(n=s.avatar)&&void 0!==n?n:void 0,alt:s.avatar||"User"})," "]}),(0,qE.jsxs)($E,{item:!0,xs:5,children:[" ",(0,qE.jsx)(aR,{variant:"body2",color:"initial",children:g}),d?(0,qE.jsx)(RM,{variant:"standard",value:f,onChange:e=>p(e.target.value)}):(0,qE.jsx)(aR,{variant:"body2",color:"initial",children:m})]}),(0,qE.jsxs)($E,{item:!0,xs:5,children:[v.isLoggedIn&&(null===(r=v.user)||void 0===r?void 0:r.displayName)==g&&(0,qE.jsx)(t.Fragment,{children:(0,qE.jsx)(Tz,{title:"delete comment",children:(0,qE.jsx)(Nz,{onClick:()=>{_E.collection("posts").doc(l).collection("comments").doc(a).delete()},"aria-label":"comment",children:(0,qE.jsx)(Dz.Z,{})})})}),v.isLoggedIn&&(null===(i=v.user)||void 0===i?void 0:i.displayName)==g&&!d&&(0,qE.jsx)(Tz,{title:"edit comment",children:(0,qE.jsx)(Nz,{onClick:()=>{h(!0)},"aria-label":"comment",children:(0,qE.jsx)(Lz.Z,{})})}),v.isLoggedIn&&(null===(o=v.user)||void 0===o?void 0:o.displayName)==g&&d&&(0,qE.jsx)(Tz,{title:"edit comment",children:(0,qE.jsx)(Nz,{onClick:()=>{_E.collection("posts").doc(l).collection("comments").doc(a).update({comment:f,timestamp:Vi.firestore.FieldValue.serverTimestamp(),edited:!0}),h(!1)},"aria-label":"comment",children:(0,qE.jsx)(Mz.Z,{})})})]}),(0,qE.jsxs)(jM,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[s.edited&&(0,qE.jsx)(aR,{variant:"body2",color:"initial",sx:{textAlign:"end",mr:1},children:"edited"}),(0,qE.jsx)(aR,{variant:"body2",color:"initial",sx:{textAlign:"end"},children:c})]})]})},jz=e=>{var n,r,i,o,s,a;let{post:l,postId:c}=e;const[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(l.title),w=Lt((e=>e.authReducer)),_=l.imgurl,S=l.avatar,x=l.title,C=l.username;(0,t.useEffect)((()=>{_E.collection("posts").doc(c).collection("comments").orderBy("timestamp","desc").onSnapshot((e=>{m(e.docs.map((e=>({id:e.id,comment:{comment:e.data().comment,timestamp:e.data().timestamp,userName:e.data().userName,avatar:e.data().avatar,edited:e.data().edited}}))))}))}),[]),(0,t.useEffect)((()=>{if(null==l.timestamp)return;let e=MR(l.timestamp.toDate(),{addSuffix:!0});e=e.replace("about ",""),d(e)}),[l.timestamp]);return(0,qE.jsx)(qR,{sx:{borderRadius:2,bgcolor:"divider",width:"100%"},children:(0,qE.jsxs)($E,{container:!0,children:[(0,qE.jsx)($E,{item:!0,container:!0,md:12,children:(0,qE.jsx)(tP,{avatar:(0,qE.jsx)(uP,{src:S}),title:C,sx:{p:1}})}),(0,qE.jsx)($E,{item:!0,md:12,children:(0,qE.jsx)(vP,{component:"img",alt:"Instagram Post Image",image:_,sx:{height:200}})}),(0,qE.jsxs)($E,{item:!0,md:12,children:[(0,qE.jsxs)(SP,{children:[(0,qE.jsx)(aR,{variant:"h6",color:"textSecondary",component:"p",children:l.username}),g?(0,qE.jsx)(RM,{variant:"standard",value:y,onChange:e=>b(e.target.value)}):(0,qE.jsx)(aR,{variant:"body2",color:"initial",children:x})]}),(0,qE.jsxs)(jM,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[l.edited&&(0,qE.jsx)(aR,{variant:"body2",color:"initial",sx:{textAlign:"end",mr:1},children:"edited"}),(0,qE.jsx)(aR,{variant:"body2",color:"initial",sx:{textAlign:"end"},children:u})]}),(0,qE.jsxs)(VM,{children:[(0,qE.jsx)(DD,{size:"small",children:"view all comments"}),(0,qE.jsx)(DD,{size:"small",children:"Share"}),(0,qE.jsx)(DD,{size:"small",children:"Report"})]}),p.length?p.map((e=>{let{id:t,comment:n}=e;return(0,qE.jsx)(zz,{id:t,comment:n,postId:c},t)})):(0,qE.jsx)(aR,{variant:"h6",color:"textSecondary",component:"p",children:"no comments yet"}),w.isLoggedIn&&(0,qE.jsxs)(jM,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,qE.jsx)(uP,{src:null!==(n=null===(r=w.user)||void 0===r?void 0:r.photoURL)&&void 0!==n?n:void 0,alt:(null===(i=w.user)||void 0===i?void 0:i.displayName)||"User",sx:{height:30,width:30,m:1}}),(0,qE.jsx)(RM,{id:"".concat(c,"-comment"),label:"make a comment",variant:"standard",placeholder:"add a comment...",value:h,onChange:e=>f(e.target.value)})]}),(0,qE.jsxs)(VM,{children:[w.isLoggedIn&&(0,qE.jsx)(Tz,{title:"comment",children:(0,qE.jsx)(Nz,{onClick:()=>{var e,t;_E.collection("posts").doc(c).collection("comments").add({timestamp:Vi.firestore.FieldValue.serverTimestamp(),comment:h,userName:null===(e=w.user)||void 0===e?void 0:e.displayName,edited:!1,avatar:null===(t=w.user)||void 0===t?void 0:t.photoURL}),f("")},"aria-label":"comment",children:(0,qE.jsx)(Mz.Z,{})})}),w.isLoggedIn&&(null===(o=w.user)||void 0===o?void 0:o.displayName)==C&&(0,qE.jsx)(Tz,{title:"delete comment",children:(0,qE.jsx)(Nz,{onClick:()=>{_E.collection("posts").doc(c).delete()},"aria-label":"comment",children:(0,qE.jsx)(Dz.Z,{})})}),w.isLoggedIn&&(null===(s=w.user)||void 0===s?void 0:s.displayName)==C&&!g&&(0,qE.jsx)(Tz,{title:"edit post",children:(0,qE.jsx)(Nz,{onClick:()=>{v(!0)},"aria-label":"comment",children:(0,qE.jsx)(Lz.Z,{})})}),w.isLoggedIn&&(null===(a=w.user)||void 0===a?void 0:a.displayName)==C&&g&&(0,qE.jsx)(Tz,{title:"edit comment",children:(0,qE.jsx)(Nz,{onClick:()=>{_E.collection("posts").doc(c).update({title:y,timestamp:Vi.firestore.FieldValue.serverTimestamp(),edited:!0}),v(!1)},"aria-label":"comment",children:(0,qE.jsx)(Mz.Z,{})})})]})]})]})})},Fz=()=>(0,qE.jsx)(qE.Fragment,{children:(0,qE.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"24px"},children:"Loading..."})});function Uz(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Zz=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Uz(n.className,r):n.setAttribute("class",Uz(n.className&&n.className.baseVal||"",r)));var n,r}))},Bz=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}RA(n,e);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&AA(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&Zz(e,r),i&&Zz(e,i),o&&Zz(e,o)},r.render=function(){var e=this.props,n=(e.classNames,(0,xE.Z)(e,["classNames"]));return t.createElement(UA,(0,CE.Z)({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(t.Component);Bz.defaultProps={classNames:""},Bz.propTypes={};const Vz=Bz,Wz=()=>{const e=Lt((e=>e.authReducer)),n=Lt((e=>e.chatReducer)),r=Dt(),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),u=Pn();(0,t.useEffect)((()=>{_E.collection("users").onSnapshot((e=>{o(e.docs.map((e=>({avatar:e.data().avatar,displayName:e.data().displayName,uid:e.data().uid,timestamp:e.data().Timestamp}))))}));var t;e.isLoggedIn&&((null===(t=e.user)||void 0===t?void 0:t.uid)&&(async()=>{var t,n;if(null===(t=e.user)||void 0===t||!t.uid)return;const r=zT(pI(_E,"userchats",null===(n=e.user)||void 0===n?void 0:n.uid),(e=>{const t=e.data();let n=Object.entries(t).filter((e=>{let[t,n]=e;return n.date&&n.date.seconds})).sort(((e,t)=>{if(e[1].date&&t[1].date){var n,r,i,o;const s=null===(n=e[1])||void 0===n||null===(r=n.date)||void 0===r?void 0:r.toDate();return(null===(i=t[1])||void 0===i||null===(o=i.date)||void 0===o?void 0:o.toDate()).getTime()-s.getTime()}return 0}));a(n.map((e=>{let[t,n]=e;return{[t]:n}}))),c(!0)}))})())}),[e.isLoggedIn]);const d=(0,t.useCallback)((async t=>{var n;const i=null===(n=e.user)||void 0===n?void 0:n.uid;if((!i||t.uid!==i)&&e.user&&i){const n=i>t.uid?i+t.uid:t.uid+e.user.uid;u("/chat/chatuid?uid=".concat(n));try{(await OT(pI(_E,"chats",n))).exists()||(await DT(pI(_E,"chats",n),{messages:[]}),await LT(pI(_E,"userchats",e.user.uid),{[n+".userInfo"]:{uid:t.uid,displayName:t.displayName,photourl:t.avatar},[n+".lastMessage"]:{text:""},[n+".date"]:Vi.firestore.FieldValue.serverTimestamp()}),await LT(pI(_E,"userchats",t.uid),{[n+".userInfo"]:{uid:e.user.uid,displayName:e.user.displayName,photourl:e.user.photoURL},[n+".date"]:Vi.firestore.FieldValue.serverTimestamp(),[n+".lastMessage"]:{text:""}})),r(Pt.selectedUser({displayName:t.displayName,photourl:t.avatar,uid:t.uid,timestamp:t.timestamp}))}catch(o){console.log(o)}}}),[]);let h,f,p=[];for(let t of i){var m,g;if(t.uid!=(null===(m=e.user)||void 0===m?void 0:m.uid)&&(h=s.some((e=>Object.keys(e)[0].includes(t.uid))),p.push(h)),!h)f=t.uid===(null===(g=n.user)||void 0===g?void 0:g.uid),p.push(f)}const v=(0,t.useCallback)(((e,t)=>{r(Pt.selectedUser(t)),u("/chat/chatuid?uid=".concat(e))}),[]);return{users:i,chats:s,done:l,openChat:v,handleClick:d,isHeChattingWithAll:p.every(Boolean)}},Hz=e=>{let{chats:n,handleOpenChat:r,id:i,chatIsOpen:o}=e,s=(0,t.useRef)(null),a="";return n.date&&(a=n.date.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),(0,qE.jsx)(jM,{ref:s,onClick:()=>{r(i,{userInfo:n.userInfo})},sx:{cursor:"pointer",padding:"12px",borderRadius:"8px"},children:(0,qE.jsxs)(qR,{sx:{display:"flex",justifyContent:"space-between",minHeight:60,maxHeight:100,alignItems:"center",backgroundColor:o?"userChat.active":"userChat.noActive",":hover":{backgroundColor:o?"userChat.active":"rgba(32, 40, 77, 0.3)",color:"text.hover"},borderRadius:"8px",boxShadow:o?"userChat.hover":"none",color:o?"text.hover":"text.primary"},children:[(0,qE.jsx)(uP,{sx:{marginRight:"auto",position:"static"},src:n.userInfo.photourl,alt:n.userInfo.displayName,style:{margin:"10px"}}),(0,qE.jsx)(SP,{sx:{marginRight:"auto",height:"100%"},children:(0,qE.jsx)(aR,{variant:"h5",children:n.userInfo.displayName.slice(0,20)})})]})})},qz=e=>{let{user:t,display:n,handleOpenChat:r}=e;return n?(0,qE.jsx)(jM,{onClick:()=>{r(t)},sx:{cursor:"pointer",height:"100%",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:"12px",borderRadius:"8px",mb:1},children:(0,qE.jsxs)(qR,{sx:{display:"flex",justifyContent:"space-between",minHeight:60,maxHeight:100,alignItems:"center",padding:"10px",":hover":{backgroundColor:"rgba(32, 40, 77, 0.3)"},borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,qE.jsx)(uP,{sx:{position:"static"},src:t.avatar,alt:t.displayName,style:{margin:"10px"}}),(0,qE.jsx)(SP,{children:(0,qE.jsx)(aR,{variant:"h5",children:t.displayName})})]})}):null},Gz=(0,t.memo)(qz),Kz=e=>{let{chats:n,handleOpenChat:r,id:i,chatIsOpen:o}=e,s=(0,t.useRef)(null),a="";return n.date&&(a=n.date.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),(0,qE.jsxs)(jM,{ref:s,onClick:()=>{r(i,{userInfo:n.userInfo})},sx:{cursor:"pointer",m:1},children:[" ",(0,qE.jsx)(Tz,{title:n.userInfo.displayName,children:(0,qE.jsx)(uP,{sx:{marginRight:"auto",position:"static"},src:n.userInfo.photourl,alt:n.userInfo.displayName})})]})},Qz=e=>{let{user:t,display:n,handleOpenChat:r}=e;return n?(0,qE.jsxs)(jM,{onClick:()=>{r(t)},sx:{cursor:"pointer",m:1},children:[" ",(0,qE.jsx)(Tz,{title:null===t||void 0===t?void 0:t.displayName,children:(0,qE.jsx)(uP,{sx:{position:"static"},src:t.avatar,alt:t.displayName})})]}):null},Xz=(0,t.memo)(Qz),Yz=()=>{const[e,n]=(0,t.useState)([]),{users:r,chats:i,done:o,openChat:s,handleClick:a,isHeChattingWithAll:l}=Wz(),[c,u]=(0,t.useState)(!1),d=Lt((e=>e.chatReducer)),h=Lt((e=>e.authReducer)),f=(0,t.memo)(Gz);return(0,t.useEffect)((()=>{_E.collection("posts").onSnapshot((e=>{n(e.docs.map((e=>({id:e.id,post:{imgurl:e.data().imgUrl,avatar:e.data().avatar,username:e.data().userName,edited:e.data().edited,timestamp:e.data().timestamp,title:e.data().title}}))))}))}),[]),e?(0,qE.jsx)(jM,{sx:{bgcolor:"divider"},children:(0,qE.jsxs)($E,{container:!0,spacing:4,children:[(0,qE.jsxs)($E,{container:!0,item:!0,xs:4,sm:4,md:3,sx:{pr:3,display:{xs:"none",md:"flex",sm:"flex"}},children:[" ",(0,qE.jsxs)(jM,{children:[(0,qE.jsx)(jM,{sx:{borderBottom:"1px solid rgba(0,0,0,0.1)"},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"Existing Chats"})})," ",(0,qE.jsx)(eD,{children:i&&i.map((e=>{const t=Object.keys(e)[0];return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(Hz,{chats:e[t],chatIsOpen:!1,id:t,handleOpenChat:()=>s(t,e[t].userInfo)},t)},t)}))}),(0,qE.jsxs)(eD,{children:[(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)"},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"User's whom you don't have chat with"})})})," "]}),(0,qE.jsx)(eD,{children:r.map((e=>{var t;const n=i.some((t=>Object.keys(t)[0].includes(e.uid)));var r;if(!(e.uid===(null===(t=d.user)||void 0===t?void 0:t.uid)||"")&&!n)return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(f,{user:e,display:e.uid!==(null===(r=h.user)||void 0===r?void 0:r.uid),handleOpenChat:()=>a(e)})},e.uid);return null}))})]})]}),(0,qE.jsxs)($E,{container:!0,item:!0,xs:3,sm:4,md:3,sx:{display:{xs:"block",md:"none",sm:"none"}},children:[" ",(0,qE.jsx)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",display:{xs:"flex",md:"none",sm:"none"}},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"Existing Chats"})}),(0,qE.jsxs)(jM,{sx:{borderBottom:"1px solid rgba(0,0,0,0.1)",display:{xs:"flex"}},children:[(0,qE.jsx)(eD,{style:{display:"flex",flexGrow:1,justifyContent:"space-evenly",alignContent:"center",flexWrap:"wrap"},children:i&&i.map((e=>{const t=Object.keys(e)[0];return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(Kz,{chats:e[t],chatIsOpen:!1,id:t,handleOpenChat:()=>s(t,e[t].userInfo)},t)},t)}))}),(0,qE.jsx)(jM,{})," "]}),(0,qE.jsxs)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)"},children:[(0,qE.jsxs)(eD,{children:[!l&&(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)"},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"User's whom you don't have chat with"})})})," "]}),(0,qE.jsx)(jM,{sx:{borderBottom:"1px solid rgba(0,0,0,0.1)",display:{xs:"flex"}},children:(0,qE.jsx)(eD,{style:{display:"flex",flexGrow:1,justifyContent:"space-evenly",flexWrap:"wrap"},children:r.map((e=>{var t;const n=i.some((t=>Object.keys(t)[0].includes(e.uid)));var r;if(!(e.uid===(null===(t=d.user)||void 0===t?void 0:t.uid)||"")&&!n)return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(Xz,{user:e,display:e.uid!==(null===(r=h.user)||void 0===r?void 0:r.uid),handleOpenChat:()=>a(e)})},e.uid);return null}))})})]})]}),(0,qE.jsx)($E,{container:!0,item:!0,xs:9,sm:7,md:9,spacing:4,sx:{justifyContent:"space-between"},children:e.map((e=>{let{id:t,post:n}=e;return(0,qE.jsx)($E,{container:!0,item:!0,xs:11,sm:6,md:4,children:(0,qE.jsx)(jz,{post:n,postId:t})},t)}))})]})}):(0,qE.jsx)(Fz,{})},Jz={HOME:"/home",POSTS:"/post",CHAT:"/chat"},$z=()=>{const e=Lt((e=>e.authReducer.isLoggedIn)),n=Pn();return console.log("navigate",Jz),console.log("loggedin",e),(0,t.useEffect)((()=>{n(Jz.HOME)}),[]),(0,qE.jsx)(t.Fragment,{})},ej={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let tj;const nj=new Uint8Array(16);function rj(){if(!tj&&(tj="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tj))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tj(nj)}const ij=[];for(let n=0;n<256;++n)ij.push((n+256).toString(16).slice(1));function oj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ij[e[t+0]]+ij[e[t+1]]+ij[e[t+2]]+ij[e[t+3]]+"-"+ij[e[t+4]]+ij[e[t+5]]+"-"+ij[e[t+6]]+ij[e[t+7]]+"-"+ij[e[t+8]]+ij[e[t+9]]+"-"+ij[e[t+10]]+ij[e[t+11]]+ij[e[t+12]]+ij[e[t+13]]+ij[e[t+14]]+ij[e[t+15]]}const sj=function(e,t,n){if(ej.randomUUID&&!t&&!e)return ej.randomUUID();const r=(e=e||{}).random||(e.rng||rj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return oj(r)};var aj=n(5130),lj=n(225);const cj=(0,lj.Z)("div")({display:"flex",alignItems:"center",padding:"1.5rem",borderTop:"1px solid #eee",backgroundColor:"#fff",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",borderRadius:"12px"}),uj=(0,lj.Z)(RM)({flexGrow:1,marginRight:"1.5rem","& .MuiOutlinedInput-root":{borderRadius:"8px"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"divider"}}),dj=()=>{var e,n,r,i,o;const[s]=Yn(),a=s.get("uid"),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(""),h=Lt((e=>e.chatReducer)),f=Lt((e=>e.authReducer));return(0,qE.jsxs)(qR,{sx:{borderRadius:12,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",bgcolor:"divider"},children:[(0,qE.jsx)(tP,{avatar:(0,qE.jsx)(uP,{src:null!==(e=null===(n=h.user)||void 0===n?void 0:n.photourl)&&void 0!==e?e:void 0,alt:(null===(r=h.user)||void 0===r?void 0:r.displayName)||"User"}),title:null===(i=h.user)||void 0===i?void 0:i.displayName,sx:{p:2,color:"text.hover"}}),(0,qE.jsxs)(SP,{children:[(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",children:null===(o=h.user)||void 0===o?void 0:o.displayName}),l&&(0,qE.jsxs)(jM,{sx:{position:"relative",margin:"auto",width:"200px"},children:[(0,qE.jsx)("img",{src:URL.createObjectURL(l),style:{},alt:"preview"}),(0,qE.jsx)(Tz,{title:"clear",children:(0,qE.jsx)(Nz,{onClick:e=>c(null),sx:{position:"absolute",top:0,right:0},children:(0,qE.jsx)(aj.Z,{})})})]})]}),(0,qE.jsxs)(cj,{children:[(0,qE.jsx)(uj,{variant:"outlined",value:u,onChange:e=>d(e.target.value),placeholder:"Type a message..."}),(0,qE.jsxs)(jM,{sx:{width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center",cursor:l?"default":"pointer",borderRadius:2,":hover":{backgroundColor:l?"white":"#eee"}},children:[(0,qE.jsx)("label",{htmlFor:"file-input-message",children:(0,qE.jsx)(Tz,{title:"attach",children:(0,qE.jsxs)("svg",{width:"30px",height:"30px",viewBox:"0 -0.5 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,qE.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,qE.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,qE.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[" ",(0,qE.jsx)("path",{d:"M15.17 11.053L11.18 15.315C10.8416 15.6932 10.3599 15.9119 9.85236 15.9178C9.34487 15.9237 8.85821 15.7162 8.51104 15.346C7.74412 14.5454 7.757 13.2788 8.54004 12.494L13.899 6.763C14.4902 6.10491 15.3315 5.72677 16.2161 5.72163C17.1006 5.71649 17.9463 6.08482 18.545 6.736C19.8222 8.14736 19.8131 10.2995 18.524 11.7L12.842 17.771C12.0334 18.5827 10.9265 19.0261 9.78113 18.9971C8.63575 18.9682 7.55268 18.4695 6.78604 17.618C5.0337 15.6414 5.07705 12.6549 6.88604 10.73L12.253 5",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})})}),(0,qE.jsx)("input",{id:"file-input-message",style:{display:"none"},className:"file-input",type:"file",accept:"image/*",onChange:e=>(e=>{const t=e.target;t.files?c(t.files[0]):c(null)})(e)})]}),(0,qE.jsx)(jM,{sx:{width:40,height:40,display:"flex",justifyContent:"center",alignItems:"center",cursor:l||u.trim().length?"pointer":"default",borderRadius:2,":hover":{backgroundColor:l||u.trim().length?"#eee":"white"}},onClick:()=>(async(e,t)=>{if(l||u)if(l){const n=Td(Pd(wE,sj()),l);n.on("state_changed",(e=>{}),(e=>{console.log(e)}),(()=>{d(""),c(null),Rd(n.snapshot.ref).then((async n=>{var r,i;null!==(r=f.user)&&void 0!==r&&r.uid&&(await LT(pI(_E,"chats",e),{messages:qT({id:sj(),text:t,image:n,senderId:null===(i=f.user)||void 0===i?void 0:i.uid,date:Ng.now(),Image:n})}),await LT(pI(_E,"userchats",f.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:HT()})),h.user&&await LT(pI(_E,"userchats",h.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:HT()})}))}))}else{var n;d(""),null!==(n=f.user)&&void 0!==n&&n.uid&&(await LT(pI(_E,"chats",e),{messages:qT({id:sj(),text:t,senderId:f.user.uid,date:Ng.now()})}),await LT(pI(_E,"userchats",f.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:HT()})),h.user&&await LT(pI(_E,"userchats",h.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:HT()})}})(a,u),children:(0,qE.jsx)(Tz,{title:"send message",children:(0,qE.jsxs)("svg",{width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,qE.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,qE.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,qE.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[" ",(0,qE.jsx)("path",{d:"M11.5003 12H5.41872M5.24634 12.7972L4.24158 15.7986C3.69128 17.4424 3.41613 18.2643 3.61359 18.7704C3.78506 19.21 4.15335 19.5432 4.6078 19.6701C5.13111 19.8161 5.92151 19.4604 7.50231 18.7491L17.6367 14.1886C19.1797 13.4942 19.9512 13.1471 20.1896 12.6648C20.3968 12.2458 20.3968 11.7541 20.1896 11.3351C19.9512 10.8529 19.1797 10.5057 17.6367 9.81135L7.48483 5.24303C5.90879 4.53382 5.12078 4.17921 4.59799 4.32468C4.14397 4.45101 3.77572 4.78336 3.60365 5.22209C3.40551 5.72728 3.67772 6.54741 4.22215 8.18767L5.24829 11.2793C5.34179 11.561 5.38855 11.7019 5.407 11.8459C5.42338 11.9738 5.42321 12.1032 5.40651 12.231C5.38768 12.375 5.34057 12.5157 5.24634 12.7972Z",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})})})]})]})};function hj(e){return(0,ZE.Z)("MuiAppBar",e)}(0,UE.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const fj=["className","color","enableColorOnDark","position"],pj=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,mj=(0,NE.ZP)(ZR,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,eR.Z)(n.position))],t["color".concat((0,eR.Z)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,CE.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,CE.Z)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,CE.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,CE.Z)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:pj(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:pj(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:pj(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:pj(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),gj=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:s="fixed"}=n,a=(0,xE.Z)(n,fj),l=(0,CE.Z)({},n,{color:i,position:s,enableColorOnDark:o}),c=(e=>{const{color:t,position:n,classes:r}=e,i={root:["root","color".concat((0,eR.Z)(t)),"position".concat((0,eR.Z)(n))]};return(0,AE.Z)(i,hj,r)})(l);return(0,qE.jsx)(mj,(0,CE.Z)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,kE.Z)(c.root,r,"fixed"===s&&"mui-fixed"),ref:t},a))})),vj=gj;var yj=n(1122),bj=n(7078);const wj=(0,n(4046).ZP)();var _j=n(5080);const Sj=["className","component","disableGutters","fixed","maxWidth","classes"],xj=(0,_j.Z)(),Cj=wj("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,yj.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),kj=e=>(0,bj.Z)({props:e,name:"MuiContainer",defaultTheme:xj});const Ij=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Cj,useThemeProps:r=kj,componentName:i="MuiContainer"}=e,o=n((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),s=t.forwardRef((function(e,t){const n=r(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=n,d=(0,xE.Z)(n,Sj),h=(0,CE.Z)({},n,{component:a,disableGutters:l,fixed:c,maxWidth:u}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e,s={root:["root",o&&"maxWidth".concat((0,yj.Z)(String(o))),r&&"fixed",i&&"disableGutters"]};return(0,AE.Z)(s,(e=>(0,ZE.Z)(t,e)),n)})(h,i);return(0,qE.jsx)(o,(0,CE.Z)({as:a,ownerState:h,className:(0,kE.Z)(f.root,s),ref:t},d))}));return s}({createStyledComponent:(0,NE.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,eR.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,ME.Z)({props:e,name:"MuiContainer"})}),Tj=Ij;function Ej(e){return(0,ZE.Z)("MuiFab",e)}const Rj=(0,UE.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Pj=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Oj=(0,NE.ZP)(CD,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat((0,eR.Z)(n.size))],"inherit"===n.color&&t.colorInherit,t[(0,eR.Z)(n.size)],t[n.color]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;return(0,CE.Z)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},["&.".concat(Rj.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]}},"small"===n.size&&{width:40,height:40},"medium"===n.size&&{width:48,height:48},"extended"===n.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===n.variant&&"small"===n.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===n.variant&&"medium"===n.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===n.color&&{color:"inherit"})}),(e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({},"inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}})}),(e=>{let{theme:t}=e;return{["&.".concat(Rj.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),Aj=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiFab"}),{children:r,className:i,color:o="default",component:s="button",disabled:a=!1,disableFocusRipple:l=!1,focusVisibleClassName:c,size:u="large",variant:d="circular"}=n,h=(0,xE.Z)(n,Pj),f=(0,CE.Z)({},n,{color:o,component:s,disabled:a,disableFocusRipple:l,size:u,variant:d}),p=(e=>{const{color:t,variant:n,classes:r,size:i}=e,o={root:["root",n,"size".concat((0,eR.Z)(i)),"inherit"===t?"colorInherit":t]},s=(0,AE.Z)(o,Ej,r);return(0,CE.Z)({},r,s)})(f);return(0,qE.jsx)(Oj,(0,CE.Z)({className:(0,kE.Z)(p.root,i),component:s,disabled:a,focusRipple:!l,focusVisibleClassName:(0,kE.Z)(p.focusVisible,c),ownerState:f,ref:t},h,{classes:p,children:r}))})),Nj=Aj;function Mj(e){return(0,ZE.Z)("PrivateSwitchBase",e)}(0,UE.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Dj=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Lj=(0,NE.ZP)(CD)((e=>{let{ownerState:t}=e;return(0,CE.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),zj=(0,NE.ZP)("input",{shouldForwardProp:NE.FO})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),jj=t.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:f,name:p,onBlur:m,onChange:g,onFocus:v,readOnly:y,required:b=!1,tabIndex:w,type:_,value:S}=e,x=(0,xE.Z)(e,Dj),[C,k]=(0,rM.Z)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),I=zP();let T=a;I&&"undefined"===typeof T&&(T=I.disabled);const E="checkbox"===_||"radio"===_,R=(0,CE.Z)({},e,{checked:C,disabled:T,disableFocusRipple:l,edge:c}),P=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat((0,eR.Z)(i))],input:["input"]};return(0,AE.Z)(o,Mj,t)})(R);return(0,qE.jsxs)(Lj,(0,CE.Z)({component:"span",className:(0,kE.Z)(P.root,o),centerRipple:!0,focusRipple:!l,disabled:T,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),I&&I.onFocus&&I.onFocus(e)},onBlur:e=>{m&&m(e),I&&I.onBlur&&I.onBlur(e)},ownerState:R,ref:t},x,{children:[(0,qE.jsx)(zj,(0,CE.Z)({autoFocus:n,checked:r,defaultChecked:s,className:P.input,disabled:T,id:E?d:void 0,name:p,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;k(t),g&&g(e,t)},readOnly:y,ref:f,required:b,ownerState:R,tabIndex:w,type:_},"checkbox"===_&&void 0===S?{}:{value:S},h)),C?i:u]}))})),Fj=jj;function Uj(e){return(0,ZE.Z)("MuiSwitch",e)}const Zj=(0,UE.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Bj=["className","color","edge","size","sx"],Vj=(0,NE.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t["edge".concat((0,eR.Z)(n.edge))],t["size".concat((0,eR.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===t.edge&&{marginLeft:-8},"end"===t.edge&&{marginRight:-8},"small"===t.size&&{width:40,height:24,padding:7,["& .".concat(Zj.thumb)]:{width:16,height:16},["& .".concat(Zj.switchBase)]:{padding:4,["&.".concat(Zj.checked)]:{transform:"translateX(16px)"}}})})),Wj=(0,NE.ZP)(Fj,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{["& .".concat(Zj.input)]:t.input},"default"!==n.color&&t["color".concat((0,eR.Z)(n.color))]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(Zj.checked)]:{transform:"translateX(20px)"},["&.".concat(Zj.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(Zj.checked," + .").concat(Zj.track)]:{opacity:.5},["&.".concat(Zj.disabled," + .").concat(Zj.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(Zj.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,DR.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(Zj.checked)]:{color:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,DR.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Zj.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(n.color,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,DR.$n)(t.palette[n.color].main,.62):(0,DR._j)(t.palette[n.color].main,.55))}},["&.".concat(Zj.checked," + .").concat(Zj.track)]:{backgroundColor:(t.vars||t).palette[n.color].main}})})),Hj=(0,NE.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),qj=(0,NE.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),Gj=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:o=!1,size:s="medium",sx:a}=n,l=(0,xE.Z)(n,Bj),c=(0,CE.Z)({},n,{color:i,edge:o,size:s}),u=(e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&"edge".concat((0,eR.Z)(n)),"size".concat((0,eR.Z)(r))],switchBase:["switchBase","color".concat((0,eR.Z)(i)),o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,AE.Z)(a,Uj,t);return(0,CE.Z)({},t,l)})(c),d=(0,qE.jsx)(qj,{className:u.thumb,ownerState:c});return(0,qE.jsxs)(Vj,{className:(0,kE.Z)(u.root,r),sx:a,ownerState:c,children:[(0,qE.jsx)(Wj,(0,CE.Z)({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:c},l,{classes:(0,CE.Z)({},u,{root:u.switchBase})})),(0,qE.jsx)(Hj,{className:u.track,ownerState:c})]})})),Kj=Gj,Qj=(0,NE.ZP)(Kj)((e=>{let{theme:t}=e;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}}));function Xj(){const e=Lt((e=>e.themeReducer)),[n,r]=(0,t.useState)("dark"===e.theme);return(0,t.useEffect)((()=>{var e;let t=n?"dark":"light";_E.collection("users").doc(null===(e=bE.currentUser)||void 0===e?void 0:e.uid).update({theme:t})}),[n]),(0,qE.jsx)(Qj,{sx:{m:1},checked:n,onChange:()=>r(!n)})}var Yj=n(3329);function Jj(e){return(0,ZE.Z)("MuiCircularProgress",e)}(0,UE.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var $j,eF,tF,nF;const rF=["className","color","disableShrink","size","style","thickness","value","variant"];let iF,oF,sF,aF;const lF=44,cF=qP(iF||(iF=$j||($j=GM(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),uF=qP(oF||(oF=eF||(eF=GM(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),dF=(0,NE.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,eR.Z)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&HP(sF||(sF=tF||(tF=GM(["\n      animation: "," 1.4s linear infinite;\n    "]))),cF)})),hF=(0,NE.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),fF=(0,NE.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat((0,eR.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&HP(aF||(aF=nF||(nF=GM(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),uF)})),pF=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,xE.Z)(n,rF),h=(0,CE.Z)({},n,{color:i,disableShrink:o,size:s,thickness:l,value:c,variant:u}),f=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,"color".concat((0,eR.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,eR.Z)(n)),i&&"circleDisableShrink"]};return(0,AE.Z)(o,Jj,t)})(h),p={},m={},g={};if("determinate"===u){const e=2*Math.PI*((lF-l)/2);p.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),p.strokeDashoffset="".concat(((100-c)/100*e).toFixed(3),"px"),m.transform="rotate(-90deg)"}return(0,qE.jsx)(dF,(0,CE.Z)({className:(0,kE.Z)(f.root,r),style:(0,CE.Z)({width:s,height:s},m,a),ownerState:h,ref:t,role:"progressbar"},g,d,{children:(0,qE.jsx)(hF,{className:f.svg,ownerState:h,viewBox:"".concat(22," ").concat(22," ").concat(lF," ").concat(lF),children:(0,qE.jsx)(fF,{className:f.circle,style:p,ownerState:h,cx:lF,cy:lF,r:(lF-l)/2,fill:"none",strokeWidth:l})})}))})),mF=pF;var gF=n(7),vF=n(872);const yF=e=>{let{img:n,setImg:r}=e;const[i,o]=t.useState(!1),[s,a]=t.useState(!1),l={...s&&{bgcolor:gF.Z[500],"&:hover":{bgcolor:gF.Z[700]}}};return(0,qE.jsxs)(jM,{sx:{position:"relative",mb:1},children:[(0,qE.jsx)(Nj,{"aria-label":"save",color:"primary",sx:{...l,height:40,width:40},onClick:()=>{if(n){wE.ref("images/".concat(n.name)).put(n).on("state_changed",(e=>{o(!0);100==Math.round(e.bytesTransferred/e.totalBytes*100)&&o(!1)}),(e=>{console.log(e)}),(()=>{a(!0),wE.ref("images").child(n.name).getDownloadURL().then((async e=>{var t;bE.currentUser&&(await fa(bE.currentUser,{photoURL:e}),_E.collection("users").doc(null===(t=bE.currentUser)||void 0===t?void 0:t.uid).update({avatar:e}))}))}))}},children:s?(0,qE.jsx)(vF.Z,{}):(0,qE.jsx)(Yj.Z,{})}),i&&(0,qE.jsx)(mF,{size:48,sx:{color:gF.Z[500],position:"absolute",top:-3,left:-4,zIndex:1}})]})},bF=()=>{var e,n,r;const i=Lt((e=>e.authReducer)),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(null===(e=i.user)||void 0===e?void 0:e.displayName),c=(0,t.useRef)(null),[u,d]=(0,t.useState)(!1);return(0,qE.jsxs)(jM,{sx:{display:"flex",alignContent:"center",height:"100%"},children:[(0,qE.jsx)(jM,{children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",sx:{p:1},children:"user settings:"})}),(0,qE.jsxs)(jM,{sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[(0,qE.jsxs)(jM,{sx:{display:"flex",justifyContent:"center"},children:[(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",sx:{p:1},children:"theme:"}),(0,qE.jsx)(Xj,{})]}),(0,qE.jsxs)(jM,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,qE.jsxs)(jM,{sx:{display:"flex"},children:[(0,qE.jsx)("label",{htmlFor:"file-input",children:(0,qE.jsx)(uP,{sx:{width:70,height:70,cursor:"pointer",m:1},alt:"user pic",src:o?URL.createObjectURL(o):null!==(n=null===(r=i.user)||void 0===r?void 0:r.photoURL)&&void 0!==n?n:""})})," ",(0,qE.jsxs)(jM,{sx:{display:"flex",flexDirection:"column"},children:[!o&&(0,qE.jsx)(Nj,{size:"small",color:"primary","aria-label":"add",sx:{mb:1},onClick:()=>{var e;null===(e=c.current)||void 0===e||e.click()},children:(0,qE.jsx)(Lz.Z,{})}),o&&(0,qE.jsx)(yF,{img:o,setImg:s}),(0,qE.jsx)(Nj,{size:"small",color:"primary","aria-label":"add",onClick:()=>{s(null)},children:(0,qE.jsx)(Dz.Z,{})})]})]}),(0,qE.jsx)("input",{ref:c,id:"file-input",style:{display:"none"},className:"file-input",type:"file",accept:"image/*",onChange:e=>(e=>{const t=e.target;t.files?s(t.files[0]):s(null)})(e)}),(0,qE.jsxs)(jM,{sx:{display:"flex",mt:1,width:"100%",justifyContent:"space-around"},children:[(0,qE.jsx)(RM,{sx:{width:"75%",color:"text.hover"},id:"userName",value:a,onChange:e=>l(e.target.value),disabled:!u,inputProps:{style:{textAlign:"center"}}}),(0,qE.jsx)(Tz,{title:"edit name",children:(0,qE.jsx)(Nz,{onClick:()=>d(!0),children:(0,qE.jsx)(Lz.Z,{})})})]}),u&&(0,qE.jsx)(jM,{sx:{mt:2},children:(0,qE.jsxs)(Nj,{variant:"extended","aria-label":"save",color:"primary",children:[(0,qE.jsx)(Yj.Z,{sx:{mr:1}}),"save"]})})]})]})]})},wF=e=>{var n,r;let{isHeWantNewChat:i,setIsHeWantNewChat:o,isThereUserWithoutChat:s}=e;Lt((e=>e.authReducer));const[a,l]=t.useState(!1),[c,u]=(0,t.useState)(0),d=(0,t.useRef)(null),h=Lt((e=>e.chatReducer));return(0,t.useEffect)((()=>{const e=()=>{d.current&&u(d.current.clientHeight)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[d.current]),(0,qE.jsx)(vj,{position:"static",ref:d,children:(0,qE.jsxs)($E,{container:!0,children:[(0,qE.jsxs)($E,{item:!0,xs:12,md:12,lg:12,xl:12,children:[" ",(0,qE.jsxs)(Tj,{maxWidth:"xl",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",bgcolor:"divider",zIndex:70},children:[(0,qE.jsxs)(jM,{sx:{display:"flex",alignItems:"center"},children:[(0,qE.jsx)(aR,{variant:"h6",noWrap:!0,sx:{mr:2,display:{xs:"flex",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"text.hover",textDecoration:"none"},children:"Chats"})," "]}),(0,qE.jsxs)(jM,{sx:{flexGrow:0,display:"flex"},children:[" ",!i&&(0,qE.jsx)(Tz,{title:"new chat",children:(0,qE.jsx)(Nz,{sx:{p:2,display:{xs:"flex",sm:"none",md:"none"}},onClick:()=>{s?console.log("you have chat with all of the users"):o(!0)},children:(0,qE.jsx)(Mz.Z,{})})}),i&&(0,qE.jsx)(Tz,{title:"close new chat",children:(0,qE.jsx)(Nz,{sx:{p:2,display:{xs:"flex",sm:"none",md:"none"}},onClick:()=>o(!i),children:(0,qE.jsx)(Mz.Z,{})})}),(0,qE.jsx)(Tz,{title:a?"close user chat history":"Open user chat history",children:(0,qE.jsx)(Nz,{sx:{p:2},onClick:e=>{l(!a)},children:(0,qE.jsx)(uP,{alt:"user profile",src:null!==(n=null===(r=h.user)||void 0===r?void 0:r.photourl)&&void 0!==n?n:""})})})]})," "]})]})," ",(0,qE.jsx)(Vz,{in:a,timeout:500,classNames:"bubble",unmountOnExit:!0,children:(0,qE.jsxs)(jM,{sx:{position:"absolute",top:"".concat(c,"px"),left:0,width:"100%",height:"calc(100vh - ".concat(c,"px)"),zIndex:50,backgroundColor:"divider"},children:[(0,qE.jsx)(jM,{sx:{width:"100%",height:"100%"},children:(0,qE.jsx)(bF,{})})," "]})})]})})};function _F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ne(r.key),r)}}function xF(e,t,n){return t&&SF(e.prototype,t),n&&SF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CF(e,t){if(t&&("object"===Ae(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KM(e)}function kF(e){return kF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kF(e)}function IF(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EA(e,t)}function TF(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function EF(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function RF(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function PF(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=TF,t.componentWillReceiveProps=EF),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=RF;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}return e}function OF(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=OF(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}TF.__suppressDeprecationWarning=!0,EF.__suppressDeprecationWarning=!0,RF.__suppressDeprecationWarning=!0;const AF=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=OF(e))&&(r&&(r+=" "),r+=t);return r};function NF(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,i=e.computeMetadataCallbackProps,o=e.nextCellsCount,s=e.nextCellSize,a=e.nextScrollToIndex,l=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===o&&("number"!==typeof n&&"number"!==typeof s||n===s)||(r(i),l>=0&&l===a&&c())}function MF(e,t){if(null==e)return{};var n,r,i=(0,xE.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var DF=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,i=t.estimatedCellSize;_F(this,e),Me(this,"_cellSizeAndPositionData",{}),Me(this,"_lastMeasuredIndex",-1),Me(this,"_lastBatchedIndex",-1),Me(this,"_cellCount",void 0),Me(this,"_cellSizeGetter",void 0),Me(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=i}return xF(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var i=this._cellSizeGetter({index:r});if(void 0===i||isNaN(i))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(i));null===i?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:i},n+=i,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex;if(r<=0)return 0;var s,a=this.getSizeAndPositionOfCell(o),l=a.offset,c=l-r+a.size;switch(n){case"start":s=l;break;case"end":s=c;break;case"center":s=l-(r-a.size)/2;break;default:s=Math.max(c,Math.min(l,i))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,s))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,i=this._findNearestCell(n),o=this.getSizeAndPositionOfCell(i);n=o.offset+o.size;for(var s=i;n<r&&s<this._cellCount-1;)s++,n+=this.getSizeAndPositionOfCell(s).size;return{start:i,stop:s}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),i=this.getSizeAndPositionOfCell(r).offset;if(i===n)return r;i<n?t=r+1:i>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),LF=function(){return"undefined"!==typeof window&&window.chrome?16777100:15e5},zF=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?LF():n,i=MF(t,["maxScrollSize"]);_F(this,e),Me(this,"_cellSizeAndPositionManager",void 0),Me(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new DF(i),this._maxScrollSize=r}return xF(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(i-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex;i=this._safeOffsetToOffset({containerSize:r,offset:i});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:i,targetIndex:o});return this._offsetToSafeOffset({containerSize:r,offset:s})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(o*(i-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(r-t))}}]),e}();function jF(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,i=n.indices,o=Object.keys(i),s=!e||o.every((function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0})),a=o.length!==Object.keys(t).length||o.some((function(e){var n=t[e],r=i[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=i,s&&a&&r(i)}}function FF(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,i=e.previousCellSize,o=e.previousScrollToAlignment,s=e.previousScrollToIndex,a=e.previousSize,l=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,h=e.sizeJustIncreasedFromZero,f=e.updateScrollIndexCallback,p=n.getCellCount(),m=u>=0&&u<p;m&&(d!==a||h||!i||"number"===typeof t&&t!==i||c!==o||u!==s)?f(u):!m&&p>0&&(d<a||p<r)&&l>n.getTotalSize()-d&&f(p-1)}const UF=!("undefined"===typeof window||!window.document||!window.document.createElement);var ZF,BF;function VF(e){if((!ZF&&0!==ZF||e)&&UF){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ZF=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ZF}var WF,HF,qF=(BF="undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).requestAnimationFrame||BF.webkitRequestAnimationFrame||BF.mozRequestAnimationFrame||BF.oRequestAnimationFrame||BF.msRequestAnimationFrame||function(e){return BF.setTimeout(e,1e3/60)},GF=BF.cancelAnimationFrame||BF.webkitCancelAnimationFrame||BF.mozCancelAnimationFrame||BF.oCancelAnimationFrame||BF.msCancelAnimationFrame||function(e){BF.clearTimeout(e)},KF=qF,QF=GF,XF=function(e){return QF(e.id)},YF=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r={id:KF((function i(){Date.now()-n>=t?e.call():r.id=KF(i)}))};return r};function JF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JF(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JF(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eU="observed",tU="requested",nU=(HF=WF=function(e){function n(e){var t;_F(this,n),Me(KM(t=CF(this,kF(n).call(this,e))),"_onGridRenderedMemoizer",jF()),Me(KM(t),"_onScrollMemoizer",jF(!1)),Me(KM(t),"_deferredInvalidateColumnIndex",null),Me(KM(t),"_deferredInvalidateRowIndex",null),Me(KM(t),"_recomputeScrollLeftFlag",!1),Me(KM(t),"_recomputeScrollTopFlag",!1),Me(KM(t),"_horizontalScrollBarSize",0),Me(KM(t),"_verticalScrollBarSize",0),Me(KM(t),"_scrollbarPresenceChanged",!1),Me(KM(t),"_scrollingContainer",void 0),Me(KM(t),"_childrenToDisplay",void 0),Me(KM(t),"_columnStartIndex",void 0),Me(KM(t),"_columnStopIndex",void 0),Me(KM(t),"_rowStartIndex",void 0),Me(KM(t),"_rowStopIndex",void 0),Me(KM(t),"_renderedColumnStartIndex",0),Me(KM(t),"_renderedColumnStopIndex",0),Me(KM(t),"_renderedRowStartIndex",0),Me(KM(t),"_renderedRowStopIndex",0),Me(KM(t),"_initialScrollTop",void 0),Me(KM(t),"_initialScrollLeft",void 0),Me(KM(t),"_disablePointerEventsTimeoutId",void 0),Me(KM(t),"_styleCache",{}),Me(KM(t),"_cellCache",{}),Me(KM(t),"_debounceScrollEndedCallback",(function(){t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1,needToResetStyleCache:!1})})),Me(KM(t),"_invokeOnGridRenderedHelper",(function(){var e=t.props.onSectionRendered;t._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:t._columnStartIndex,columnOverscanStopIndex:t._columnStopIndex,columnStartIndex:t._renderedColumnStartIndex,columnStopIndex:t._renderedColumnStopIndex,rowOverscanStartIndex:t._rowStartIndex,rowOverscanStopIndex:t._rowStopIndex,rowStartIndex:t._renderedRowStartIndex,rowStopIndex:t._renderedRowStopIndex}})})),Me(KM(t),"_setScrollingContainerRef",(function(e){t._scrollingContainer=e})),Me(KM(t),"_onScroll",(function(e){e.target===t._scrollingContainer&&t.handleScrollEvent(e.target)}));var r=new zF({cellCount:e.columnCount,cellSizeGetter:function(t){return n._wrapSizeGetter(e.columnWidth)(t)},estimatedCellSize:n._getEstimatedColumnSize(e)}),i=new zF({cellCount:e.rowCount,cellSizeGetter:function(t){return n._wrapSizeGetter(e.rowHeight)(t)},estimatedCellSize:n._getEstimatedRowSize(e)});return t.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:i,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(t._initialScrollTop=t._getCalculatedScrollTop(e,t.state)),e.scrollToColumn>0&&(t._initialScrollLeft=t._getCalculatedScrollLeft(e,t.state)),t}return IF(n,e),xF(n,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,i=void 0===r?this.props.scrollToColumn:r,o=e.rowIndex,s=void 0===o?this.props.scrollToRow:o,a=$F({},this.props,{scrollToAlignment:n,scrollToColumn:i,scrollToRow:s});return{scrollLeft:this._getCalculatedScrollLeft(a),scrollTop:this._getCalculatedScrollTop(a)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r;if(!(i<0)){this._debounceScrollEnded();var o=this.props,s=o.autoHeight,a=o.autoWidth,l=o.height,c=o.width,u=this.state.instanceProps,d=u.scrollbarSize,h=u.rowSizeAndPositionManager.getTotalSize(),f=u.columnSizeAndPositionManager.getTotalSize(),p=Math.min(Math.max(0,f-c+d),n),m=Math.min(Math.max(0,h-l+d),i);if(this.state.scrollLeft!==p||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:p!==this.state.scrollLeft?p>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:eU};s||(g.scrollTop=m),a||(g.scrollLeft=p),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:m,totalColumnsWidth:f,totalRowsHeight:h})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r,o=this.props,s=o.scrollToColumn,a=o.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=s>=0&&(1===this.state.scrollDirectionHorizontal?n<=s:n>=s),this._recomputeScrollTopFlag=a>=0&&(1===this.state.scrollDirectionVertical?i<=a:i>=a),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,i=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn($F({},i,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow($F({},i,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getScrollbarSize,r=e.height,i=e.scrollLeft,o=e.scrollToColumn,s=e.scrollTop,a=e.scrollToRow,l=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var n=$F({},e,{needToResetStyleCache:!1});return n.instanceProps.scrollbarSize=t(),n.instanceProps.scrollbarSizeMeasured=!0,n})),"number"===typeof i&&i>=0||"number"===typeof s&&s>=0){var u=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:s});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=r>0&&l>0;o>=0&&d&&this._updateScrollLeftForScrollToColumn(),a>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:s||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,i=r.autoHeight,o=r.autoWidth,s=r.columnCount,a=r.height,l=r.rowCount,c=r.scrollToAlignment,u=r.scrollToColumn,d=r.scrollToRow,h=r.width,f=this.state,p=f.scrollLeft,m=f.scrollPositionChangeReason,g=f.scrollTop,v=f.instanceProps;this._handleInvalidatedGridSize();var y=s>0&&0===e.columnCount||l>0&&0===e.rowCount;m===tU&&(!o&&p>=0&&(p!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=p),!i&&g>=0&&(g!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=g));var b=(0===e.width||0===e.height)&&a>0&&h>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):FF({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:p,scrollToAlignment:c,scrollToIndex:u,size:h,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):FF({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:c,scrollToIndex:d,size:a,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),p!==t.scrollLeft||g!==t.scrollTop){var w=v.rowSizeAndPositionManager.getTotalSize(),_=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:g,totalColumnsWidth:_,totalRowsHeight:w})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&XF(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,n=e.autoContainerWidth,r=e.autoHeight,i=e.autoWidth,o=e.className,s=e.containerProps,a=e.containerRole,l=e.containerStyle,c=e.height,u=e.id,d=e.noContentRenderer,h=e.role,f=e.style,p=e.tabIndex,m=e.width,g=this.state,v=g.instanceProps,y=g.needToResetStyleCache,b=this._isScrolling(),w={boxSizing:"border-box",direction:"ltr",height:r?"auto":c,position:"relative",width:i?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var _=v.columnSizeAndPositionManager.getTotalSize(),S=v.rowSizeAndPositionManager.getTotalSize(),x=S>c?v.scrollbarSize:0,C=_>m?v.scrollbarSize:0;C===this._horizontalScrollBarSize&&x===this._verticalScrollBarSize||(this._horizontalScrollBarSize=C,this._verticalScrollBarSize=x,this._scrollbarPresenceChanged=!0),w.overflowX=_+x<=m?"hidden":"auto",w.overflowY=S+C<=c?"hidden":"auto";var k=this._childrenToDisplay,I=0===k.length&&c>0&&m>0;return t.createElement("div",(0,CE.Z)({ref:this._setScrollingContainerRef},s,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:AF("ReactVirtualized__Grid",o),id:u,onScroll:this._onScroll,role:h,style:$F({},w,{},f),tabIndex:p}),k.length>0&&t.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:$F({width:n?"auto":_,height:S,maxWidth:_,maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},l)},k),I&&d())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,i=e.columnCount,o=e.deferredMeasurementCache,s=e.height,a=e.overscanColumnCount,l=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,d=e.width,h=e.isScrollingOptOut,f=t.scrollDirectionHorizontal,p=t.scrollDirectionVertical,m=t.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],s>0&&d>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:v}),w=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:s,offset:g}),_=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:v}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:s,offset:g});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=w.start,this._renderedRowStopIndex=w.stop;var x=l({direction:"horizontal",cellCount:i,overscanCellsCount:a,scrollDirection:f,startIndex:"number"===typeof b.start?b.start:0,stopIndex:"number"===typeof b.stop?b.stop:-1}),C=l({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:p,startIndex:"number"===typeof w.start?w.start:0,stopIndex:"number"===typeof w.stop?w.stop:-1}),k=x.overscanStartIndex,I=x.overscanStopIndex,T=C.overscanStartIndex,E=C.overscanStopIndex;if(o){if(!o.hasFixedHeight())for(var R=T;R<=E;R++)if(!o.has(R,0)){k=0,I=i-1;break}if(!o.hasFixedWidth())for(var P=k;P<=I;P++)if(!o.has(0,P)){T=0,E=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:k,columnStopIndex:I,deferredMeasurementCache:o,horizontalOffsetAdjustment:_,isScrolling:y,isScrollingOptOut:h,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:T,rowStopIndex:E,scrollLeft:v,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:b,visibleRowIndices:w}),this._columnStartIndex=k,this._columnStopIndex=I,this._rowStartIndex=T,this._rowStopIndex=E}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&XF(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=YF(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"===typeof this._deferredInvalidateColumnIndex&&"number"===typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,i=e.totalColumnsWidth,o=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,s=t.props,a=s.height;(0,s.onScroll)({clientHeight:a,clientWidth:s.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var t=e.scrollLeft,r=e.scrollTop,i=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:t,scrollTop:r});i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return n._getCalculatedScrollLeft(e,t)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=n._getScrollLeftForScrollToColumnStateUpdate(e,t);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return n._getCalculatedScrollTop(e,t)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var o="".concat(r,"-").concat(i);this._styleCache[o]=e[o],n&&(this._cellCache[o]=t[o])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=n._getScrollTopForScrollToRowStateUpdate(e,t);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={};0===e.columnCount&&0!==t.scrollLeft||0===e.rowCount&&0!==t.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==t.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==t.scrollTop&&e.scrollToRow<0)&&Object.assign(r,n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i,o,s=t.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===s.prevColumnWidth&&e.rowHeight===s.prevRowHeight||(r.needToResetStyleCache=!0),s.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:n._getEstimatedColumnSize(e),cellSizeGetter:n._wrapSizeGetter(e.columnWidth)}),s.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:n._getEstimatedRowSize(e),cellSizeGetter:n._wrapSizeGetter(e.rowHeight)}),0!==s.prevColumnCount&&0!==s.prevRowCount||(s.prevColumnCount=0,s.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===s.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),NF({cellCount:s.prevColumnCount,cellSize:"number"===typeof s.prevColumnWidth?s.prevColumnWidth:null,computeMetadataCallback:function(){return s.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"===typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:s.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=n._getScrollLeftForScrollToColumnStateUpdate(e,t)}}),NF({cellCount:s.prevRowCount,cellSize:"number"===typeof s.prevRowHeight?s.prevRowHeight:null,computeMetadataCallback:function(){return s.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"===typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:s.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){o=n._getScrollTopForScrollToRowStateUpdate(e,t)}}),s.prevColumnCount=e.columnCount,s.prevColumnWidth=e.columnWidth,s.prevIsScrolling=!0===e.isScrolling,s.prevRowCount=e.rowCount,s.prevRowHeight=e.rowHeight,s.prevScrollToColumn=e.scrollToColumn,s.prevScrollToRow=e.scrollToRow,s.scrollbarSize=e.getScrollbarSize(),void 0===s.scrollbarSize?(s.scrollbarSizeMeasured=!1,s.scrollbarSize=0):s.scrollbarSizeMeasured=!0,r.instanceProps=s,$F({},r,{},i,{},o)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"===typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"===typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,i={scrollPositionChangeReason:tU};return"number"===typeof n&&n>=0&&(i.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,i.scrollLeft=n),"number"===typeof r&&r>=0&&(i.scrollDirectionVertical=r>t.scrollTop?1:-1,i.scrollTop=r),"number"===typeof n&&n>=0&&n!==t.scrollLeft||"number"===typeof r&&r>=0&&r!==t.scrollTop?i:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"===typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,i=e.scrollToAlignment,o=e.scrollToColumn,s=e.width,a=t.scrollLeft,l=t.instanceProps;if(n>0){var c=n-1,u=o<0?c:Math.min(c,o),d=l.rowSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&d>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:s-h,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,t){var r=t.scrollLeft,i=n._getCalculatedScrollLeft(e,t);return"number"===typeof i&&i>=0&&r!==i?n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:i,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,i=e.scrollToAlignment,o=e.scrollToRow,s=e.width,a=t.scrollTop,l=t.instanceProps;if(r>0){var c=r-1,u=o<0?c:Math.min(c,o),d=l.columnSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&d>s?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:n-h,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,t){var r=t.scrollTop,i=n._getCalculatedScrollTop(e,t);return"number"===typeof i&&i>=0&&r!==i?n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:-1,scrollTop:i}):{}}}]),n}(t.PureComponent),Me(WF,"propTypes",null),HF);Me(nU,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,i=e.columnStartIndex,o=e.columnStopIndex,s=e.deferredMeasurementCache,a=e.horizontalOffsetAdjustment,l=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,h=e.rowStartIndex,f=e.rowStopIndex,p=e.styleCache,m=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,v=e.visibleRowIndices,y=[],b=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),w=!l&&!b,_=h;_<=f;_++)for(var S=d.getSizeAndPositionOfCell(_),x=i;x<=o;x++){var C=r.getSizeAndPositionOfCell(x),k=x>=g.start&&x<=g.stop&&_>=v.start&&_<=v.stop,I="".concat(_,"-").concat(x),T=void 0;w&&p[I]?T=p[I]:s&&!s.has(_,x)?T={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(T={height:S.size,left:C.offset+a,position:"absolute",top:S.offset+m,width:C.size},p[I]=T);var E={columnIndex:x,isScrolling:l,isVisible:k,key:I,parent:u,rowIndex:_,style:T},R=void 0;!c&&!l||a||m?R=n(E):(t[I]||(t[I]=n(E)),R=t[I]),null!=R&&!1!==R&&y.push(R)}return y},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:VF,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(t-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,o)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),PF(nU);const rU=nU;function iU(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(t-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,o+1)}}var oU,sU;function aU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var lU=(sU=oU=function(e){function n(){var e,t;_F(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Me(KM(t=CF(this,(e=kF(n)).call.apply(e,[this].concat(i)))),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),Me(KM(t),"_columnStartIndex",0),Me(KM(t),"_columnStopIndex",0),Me(KM(t),"_rowStartIndex",0),Me(KM(t),"_rowStopIndex",0),Me(KM(t),"_onKeyDown",(function(e){var n=t.props,r=n.columnCount,i=n.disabled,o=n.mode,s=n.rowCount;if(!i){var a=t._getScrollState(),l=a.scrollToColumn,c=a.scrollToRow,u=t._getScrollState(),d=u.scrollToColumn,h=u.scrollToRow;switch(e.key){case"ArrowDown":h="cells"===o?Math.min(h+1,s-1):Math.min(t._rowStopIndex+1,s-1);break;case"ArrowLeft":d="cells"===o?Math.max(d-1,0):Math.max(t._columnStartIndex-1,0);break;case"ArrowRight":d="cells"===o?Math.min(d+1,r-1):Math.min(t._columnStopIndex+1,r-1);break;case"ArrowUp":h="cells"===o?Math.max(h-1,0):Math.max(t._rowStartIndex-1,0)}d===l&&h===c||(e.preventDefault(),t._updateScrollState({scrollToColumn:d,scrollToRow:h}))}})),Me(KM(t),"_onSectionRendered",(function(e){var n=e.columnStartIndex,r=e.columnStopIndex,i=e.rowStartIndex,o=e.rowStopIndex;t._columnStartIndex=n,t._columnStopIndex=r,t._rowStartIndex=i,t._rowStopIndex=o})),t}return IF(n,e),xF(n,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.children,i=this._getScrollState(),o=i.scrollToColumn,s=i.scrollToRow;return t.createElement("div",{className:n,onKeyDown:this._onKeyDown},r({onSectionRendered:this._onSectionRendered,scrollToColumn:o,scrollToRow:s}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,i=r.isControlled,o=r.onScrollToChange;"function"===typeof o&&o({scrollToColumn:t,scrollToRow:n}),i||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?{}:e.scrollToColumn!==t.instanceProps.prevScrollToColumn||e.scrollToRow!==t.instanceProps.prevScrollToRow?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aU(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aU(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow,instanceProps:{prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow}}):{}}}]),n}(t.PureComponent),Me(oU,"propTypes",null),sU);Me(lU,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),PF(lU);function cU(e,t){var r,i="undefined"!==typeof(r="undefined"!==typeof t?t:"undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g).document&&r.document.attachEvent;if(!i){var o=function(){var e=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)};return function(t){return e(t)}}(),s=function(){var e=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout;return function(t){return e(t)}}(),a=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},l=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=o((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},c=!1,u="",d="animationstart",h="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=r.document.createElement("fakeelement");if(void 0!==p.style.animationName&&(c=!0),!1===c)for(var m=0;m<h.length;m++)if(void 0!==p.style[h[m]+"AnimationName"]){u="-"+h[m].toLowerCase()+"-",d=f[m],c=!0;break}var g="resizeanim",v="@"+u+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",y=u+"animation: 1ms "+g+"; "}return{addResizeListener:function(t,n){if(i)t.attachEvent("onresize",n);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,s=r.getComputedStyle(t);s&&"static"==s.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(v||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var c='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var u=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return c}});t.__resizeTriggers__.innerHTML=u.createHTML("")}else t.__resizeTriggers__.innerHTML=c;t.appendChild(t.__resizeTriggers__),a(t),t.addEventListener("scroll",l,!0),d&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==g&&a(t)},t.__resizeTriggers__.addEventListener(d,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(i)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",l,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(d,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}var uU,dU;function hU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hU(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hU(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pU=(dU=uU=function(e){function n(){var e,t;_F(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Me(KM(t=CF(this,(e=kF(n)).call.apply(e,[this].concat(i)))),"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),Me(KM(t),"_parentNode",void 0),Me(KM(t),"_autoSizer",void 0),Me(KM(t),"_window",void 0),Me(KM(t),"_detectElementResize",void 0),Me(KM(t),"_onResize",(function(){var e=t.props,n=e.disableHeight,r=e.disableWidth,i=e.onResize;if(t._parentNode){var o=t._parentNode.offsetHeight||0,s=t._parentNode.offsetWidth||0,a=(t._window||window).getComputedStyle(t._parentNode)||{},l=parseInt(a.paddingLeft,10)||0,c=parseInt(a.paddingRight,10)||0,u=parseInt(a.paddingTop,10)||0,d=parseInt(a.paddingBottom,10)||0,h=o-u-d,f=s-l-c;(!n&&t.state.height!==h||!r&&t.state.width!==f)&&(t.setState({height:o-u-d,width:s-l-c}),i({height:o,width:s}))}})),Me(KM(t),"_setRef",(function(e){t._autoSizer=e})),t}return IF(n,e),xF(n,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=cU(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.className,i=e.disableHeight,o=e.disableWidth,s=e.style,a=this.state,l=a.height,c=a.width,u={overflow:"visible"},d={};return i||(u.height=0,d.height=l),o||(u.width=0,d.width=c),t.createElement("div",{className:r,ref:this._setRef,style:fU({},u,{},s)},n(d))}}]),n}(t.Component),Me(uU,"propTypes",null),dU);Me(pU,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var mU,gU,vU=(gU=mU=function(e){function t(){var e,n;_F(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Me(KM(n=CF(this,(e=kF(t)).call.apply(e,[this].concat(i)))),"_child",void 0),Me(KM(n),"_measure",(function(){var e=n.props,t=e.cache,r=e.columnIndex,i=void 0===r?0:r,o=e.parent,s=e.rowIndex,a=void 0===s?n.props.index||0:s,l=n._getCellMeasurements(),c=l.height,u=l.width;c===t.getHeight(a,i)&&u===t.getWidth(a,i)||(t.set(a,i,u,c),o&&"function"===typeof o.recomputeGridSize&&o.recomputeGridSize({columnIndex:i,rowIndex:a}))})),Me(KM(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=e,e&&n._maybeMeasureCell()})),n}return IF(t,e),xF(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"===typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||(0,a.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var i=Math.ceil(t.offsetHeight),o=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:i,width:o}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,i=e.parent,o=e.rowIndex,s=void 0===o?this.props.index||0:o;if(!t.has(s,r)){var a=this._getCellMeasurements(),l=a.height,c=a.width;t.set(s,r,c,l),i&&"function"===typeof i.invalidateCellSizeAfterRender&&i.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:s})}}}]),t}(t.PureComponent),Me(mU,"propTypes",null),gU);Me(vU,"__internalCellMeasurerFlag",!1);var yU=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_F(this,e),Me(this,"_cellHeightCache",{}),Me(this,"_cellWidthCache",{}),Me(this,"_columnWidthCache",{}),Me(this,"_rowHeightCache",{}),Me(this,"_defaultHeight",void 0),Me(this,"_defaultWidth",void 0),Me(this,"_minHeight",void 0),Me(this,"_minWidth",void 0),Me(this,"_keyMapper",void 0),Me(this,"_hasFixedHeight",void 0),Me(this,"_hasFixedWidth",void 0),Me(this,"_columnCount",0),Me(this,"_rowCount",0),Me(this,"columnWidth",(function(e){var n=e.index,r=t._keyMapper(0,n);return void 0!==t._columnWidthCache[r]?t._columnWidthCache[r]:t._defaultWidth})),Me(this,"rowHeight",(function(e){var n=e.index,r=t._keyMapper(n,0);return void 0!==t._rowHeightCache[r]?t._rowHeightCache[r]:t._defaultHeight}));var r=n.defaultHeight,i=n.defaultWidth,o=n.fixedHeight,s=n.fixedWidth,a=n.keyMapper,l=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===o,this._hasFixedWidth=!0===s,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=a||bU,this._defaultHeight=Math.max(this._minHeight,"number"===typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"===typeof i?i:100)}return xF(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return void 0!==this._cellWidthCache[n]?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]}},{key:"set",value:function(e,t,n,r){var i=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[i]=r,this._cellWidthCache[i]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var i=this._keyMapper(0,t);this._columnWidthCache[i]=n}if(!this._hasFixedHeight){for(var o=0,s=0;s<this._columnCount;s++)o=Math.max(o,this.getHeight(e,s));var a=this._keyMapper(e,0);this._rowHeightCache[a]=o}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function bU(e,t){return"".concat(e,"-").concat(t)}function wU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wU(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wU(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SU="observed",xU="requested",CU=function(e){function n(){var e,t;_F(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Me(KM(t=CF(this,(e=kF(n)).call.apply(e,[this].concat(i)))),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),Me(KM(t),"_calculateSizeAndPositionDataOnNextUpdate",!1),Me(KM(t),"_onSectionRenderedMemoizer",jF()),Me(KM(t),"_onScrollMemoizer",jF(!1)),Me(KM(t),"_invokeOnSectionRenderedHelper",(function(){var e=t.props,n=e.cellLayoutManager,r=e.onSectionRendered;t._onSectionRenderedMemoizer({callback:r,indices:{indices:n.getLastRenderedIndices()}})})),Me(KM(t),"_setScrollingContainerRef",(function(e){t._scrollingContainer=e})),Me(KM(t),"_updateScrollPositionForScrollToCell",(function(){var e=t.props,n=e.cellLayoutManager,r=e.height,i=e.scrollToAlignment,o=e.scrollToCell,s=e.width,a=t.state,l=a.scrollLeft,c=a.scrollTop;if(o>=0){var u=n.getScrollPositionForCell({align:i,cellIndex:o,height:r,scrollLeft:l,scrollTop:c,width:s});u.scrollLeft===l&&u.scrollTop===c||t._setScrollPosition(u)}})),Me(KM(t),"_onScroll",(function(e){if(e.target===t._scrollingContainer){t._enablePointerEventsAfterDelay();var n=t.props,r=n.cellLayoutManager,i=n.height,o=n.isScrollingChange,s=n.width,a=t._scrollbarSize,l=r.getTotalSize(),c=l.height,u=l.width,d=Math.max(0,Math.min(u-s+a,e.target.scrollLeft)),h=Math.max(0,Math.min(c-i+a,e.target.scrollTop));if(t.state.scrollLeft!==d||t.state.scrollTop!==h){var f=e.cancelable?SU:xU;t.state.isScrolling||o(!0),t.setState({isScrolling:!0,scrollLeft:d,scrollPositionChangeReason:f,scrollTop:h})}t._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:h,totalWidth:u,totalHeight:c})}})),t._scrollbarSize=VF(),void 0===t._scrollbarSize?(t._scrollbarSizeMeasured=!1,t._scrollbarSize=0):t._scrollbarSizeMeasured=!0,t}return IF(n,e),xF(n,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,r=e.scrollToCell,i=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=VF(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||i>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:i}),this._invokeOnSectionRenderedHelper();var o=t.getTotalSize(),s=o.height,a=o.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:i||0,totalHeight:s,totalWidth:a})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.height,i=n.scrollToAlignment,o=n.scrollToCell,s=n.width,a=this.state,l=a.scrollLeft,c=a.scrollPositionChangeReason,u=a.scrollTop;c===xU&&(l>=0&&l!==t.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),u>=0&&u!==t.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),r===e.height&&i===e.scrollToAlignment&&o===e.scrollToCell&&s===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,n=e.autoHeight,r=e.cellCount,i=e.cellLayoutManager,o=e.className,s=e.height,a=e.horizontalOverscanSize,l=e.id,c=e.noContentRenderer,u=e.style,d=e.verticalOverscanSize,h=e.width,f=this.state,p=f.isScrolling,m=f.scrollLeft,g=f.scrollTop;(this._lastRenderedCellCount!==r||this._lastRenderedCellLayoutManager!==i||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=r,this._lastRenderedCellLayoutManager=i,this._calculateSizeAndPositionDataOnNextUpdate=!1,i.calculateSizeAndPositionData());var v=i.getTotalSize(),y=v.height,b=v.width,w=Math.max(0,m-a),_=Math.max(0,g-d),S=Math.min(b,m+h+a),x=Math.min(y,g+s+d),C=s>0&&h>0?i.cellRenderers({height:x-_,isScrolling:p,width:S-w,x:w,y:_}):[],k={boxSizing:"border-box",direction:"ltr",height:n?"auto":s,position:"relative",WebkitOverflowScrolling:"touch",width:h,willChange:"transform"},I=y>s?this._scrollbarSize:0,T=b>h?this._scrollbarSize:0;return k.overflowX=b+I<=h?"hidden":"auto",k.overflowY=y+T<=s?"hidden":"auto",t.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:AF("ReactVirtualized__Collection",o),id:l,onScroll:this._onScroll,role:"grid",style:_U({},k,{},u),tabIndex:0},r>0&&t.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:y,maxHeight:y,maxWidth:b,overflow:"hidden",pointerEvents:p?"none":"",width:b}},C),0===r&&c())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,i=e.totalHeight,o=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,s=t.props,a=s.height;(0,s.onScroll)({clientHeight:a,clientWidth:s.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:xU};t>=0&&(r.scrollLeft=t),n>=0&&(r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop,scrollPositionChangeReason:xU}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:xU}}}]),n}(t.PureComponent);Me(CU,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),CU.propTypes={},PF(CU);const kU=CU;var IU=function(){function e(t){var n=t.height,r=t.width,i=t.x,o=t.y;_F(this,e),this.height=n,this.width=r,this.x=i,this.y=o,this._indexMap={},this._indices=[]}return xF(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),e}(),TU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;_F(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return xF(e,[{key:"getCellIndices",value:function(e){var t=e.height,n=e.width,r=e.x,i=e.y,o={};return this.getSections({height:t,width:n,x:r,y:i}).forEach((function(e){return e.getCellIndices().forEach((function(e){o[e]=e}))})),Object.keys(o).map((function(e){return o[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,n=e.width,r=e.x,i=e.y,o=Math.floor(r/this._sectionSize),s=Math.floor((r+n-1)/this._sectionSize),a=Math.floor(i/this._sectionSize),l=Math.floor((i+t-1)/this._sectionSize),c=[],u=o;u<=s;u++)for(var d=a;d<=l;d++){var h="".concat(u,".").concat(d);this._sections[h]||(this._sections[h]=new IU({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:d*this._sectionSize})),c.push(this._sections[h])}return c}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var e=this;return Object.keys(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:n})}))}}]),e}();function EU(e){var t=e.align,n=void 0===t?"auto":t,r=e.cellOffset,i=e.cellSize,o=e.containerSize,s=e.currentOffset,a=r,l=a-o+i;switch(n){case"start":return a;case"end":return l;case"center":return a-(o-i)/2;default:return Math.max(l,Math.min(a,s))}}var RU=function(e){function n(e,t){var r;return _F(this,n),(r=CF(this,kF(n).call(this,e,t)))._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(KM(r)),r._setCollectionViewRef=r._setCollectionViewRef.bind(KM(r)),r}return IF(n,e),xF(n,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=(0,CE.Z)({},this.props);return t.createElement(kU,(0,CE.Z)({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,r=e.sectionSize,i=[],o=new TU(r),s=0,a=0,l=0;l<t;l++){var c=n({index:l});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(l,":\n        x:").concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));s=Math.max(s,c.y+c.height),a=Math.max(a,c.x+c.width),i[l]=c,o.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:i,height:s,sectionManager:o,width:a}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,n=e.cellIndex,r=e.height,i=e.scrollLeft,o=e.scrollTop,s=e.width,a=this.props.cellCount;if(n>=0&&n<a){var l=this._cellMetadata[n];i=EU({align:t,cellOffset:l.x,cellSize:l.width,containerSize:s,currentOffset:i,targetIndex:n}),o=EU({align:t,cellOffset:l.y,cellSize:l.height,containerSize:r,currentOffset:o,targetIndex:n})}return{scrollLeft:i,scrollTop:o}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,n=e.height,r=e.isScrolling,i=e.width,o=e.x,s=e.y,a=this.props,l=a.cellGroupRenderer,c=a.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:i,x:o,y:s}),l({cellCache:this._cellCache,cellRenderer:c,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),n}(t.PureComponent);Me(RU,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,r=e.cellSizeAndPositionGetter,i=e.indices,o=e.isScrolling;return i.map((function(e){var i=r({index:e}),s={index:e,isScrolling:o,key:e,style:{height:i.height,left:i.x,position:"absolute",top:i.y,width:i.width}};return o?(e in t||(t[e]=n(s)),t[e]):n(s)})).filter((function(e){return!!e}))}}),RU.propTypes={};var PU=function(e){function t(e,n){var r;return _F(this,t),(r=CF(this,kF(t).call(this,e,n)))._registerChild=r._registerChild.bind(KM(r)),r}return IF(t,e),xF(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columnMaxWidth,r=t.columnMinWidth,i=t.columnCount,o=t.width;n===e.columnMaxWidth&&r===e.columnMinWidth&&i===e.columnCount&&o===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,r=e.columnMinWidth,i=e.columnCount,o=e.width,s=r||1,a=n?Math.min(n,o):o,l=o/i;return l=Math.max(s,l),l=Math.min(a,l),l=Math.floor(l),t({adjustedWidth:Math.min(o,l*i),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!==typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(t.PureComponent);PU.propTypes={};function OU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AU(e,t){if(e){if("string"===typeof e)return OU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OU(e,t):void 0}}function NU(e){return function(e){if(Array.isArray(e))return OU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||AU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var MU=function(e){function t(e,n){var r;return _F(this,t),(r=CF(this,kF(t).call(this,e,n)))._loadMoreRowsMemoizer=jF(),r._onRowsRendered=r._onRowsRendered.bind(KM(r)),r._registerChild=r._registerChild.bind(KM(r)),r}return IF(t,e),xF(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=jF(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach((function(e){var r=n(e);r&&r.then((function(){(function(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,r=e.startIndex,i=e.stopIndex;return!(r>n||i<t)})({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex})&&t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"===typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function(e,t){var n,r=this,i=this.props,o=i.isRowLoaded,s=i.minimumBatchSize,a=i.rowCount,l=i.threshold,c=function(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,r=e.rowCount,i=e.startIndex,o=e.stopIndex,s=[],a=null,l=null,c=i;c<=o;c++){t({index:c})?null!==l&&(s.push({startIndex:a,stopIndex:l}),a=l=null):(l=c,null===a&&(a=c))}if(null!==l){for(var u=Math.min(Math.max(l,a+n-1),r-1),d=l+1;d<=u&&!t({index:d});d++)l=d;s.push({startIndex:a,stopIndex:l})}if(s.length)for(var h=s[0];h.stopIndex-h.startIndex+1<n&&h.startIndex>0;){var f=h.startIndex-1;if(t({index:f}))break;h.startIndex=f}return s}({isRowLoaded:o,minimumBatchSize:s,rowCount:a,startIndex:Math.max(0,e-l),stopIndex:Math.min(a-1,t+l)}),u=(n=[]).concat.apply(n,NU(c.map((function(e){return[e.startIndex,e.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(c)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(t.PureComponent);Me(MU,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),MU.propTypes={};var DU,LU,zU=(LU=DU=function(e){function n(){var e,t;_F(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Me(KM(t=CF(this,(e=kF(n)).call.apply(e,[this].concat(i)))),"Grid",void 0),Me(KM(t),"_cellRenderer",(function(e){var n=e.parent,r=e.rowIndex,i=e.style,o=e.isScrolling,s=e.isVisible,a=e.key,l=t.props.rowRenderer,c=Object.getOwnPropertyDescriptor(i,"width");return c&&c.writable&&(i.width="100%"),l({index:r,style:i,isScrolling:o,isVisible:s,key:a,parent:n})})),Me(KM(t),"_setRef",(function(e){t.Grid=e})),Me(KM(t),"_onScroll",(function(e){var n=e.clientHeight,r=e.scrollHeight,i=e.scrollTop;(0,t.props.onScroll)({clientHeight:n,scrollHeight:r,scrollTop:i})})),Me(KM(t),"_onSectionRendered",(function(e){var n=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,i=e.rowStartIndex,o=e.rowStopIndex;(0,t.props.onRowsRendered)({overscanStartIndex:n,overscanStopIndex:r,startIndex:i,stopIndex:o})})),t}return IF(n,e),xF(n,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.noRowsRenderer,i=e.scrollToIndex,o=e.width,s=AF("ReactVirtualized__List",n);return t.createElement(rU,(0,CE.Z)({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:s,columnWidth:o,columnCount:1,noContentRenderer:r,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:i}))}}]),n}(t.PureComponent),Me(DU,"propTypes",null),LU);function jU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||AU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Me(zU,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:iU,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});const FU={ge:function(e,t,n,r,i){return"function"===typeof n?function(e,t,n,r,i){for(var o=n+1;t<=n;){var s=t+n>>>1;i(e[s],r)>=0?(o=s,n=s-1):t=s+1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=n+1;t<=n;){var o=t+n>>>1;e[o]>=r?(i=o,n=o-1):t=o+1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},gt:function(e,t,n,r,i){return"function"===typeof n?function(e,t,n,r,i){for(var o=n+1;t<=n;){var s=t+n>>>1;i(e[s],r)>0?(o=s,n=s-1):t=s+1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=n+1;t<=n;){var o=t+n>>>1;e[o]>r?(i=o,n=o-1):t=o+1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},lt:function(e,t,n,r,i){return"function"===typeof n?function(e,t,n,r,i){for(var o=t-1;t<=n;){var s=t+n>>>1;i(e[s],r)<0?(o=s,t=s+1):n=s-1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=t-1;t<=n;){var o=t+n>>>1;e[o]<r?(i=o,t=o+1):n=o-1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},le:function(e,t,n,r,i){return"function"===typeof n?function(e,t,n,r,i){for(var o=t-1;t<=n;){var s=t+n>>>1;i(e[s],r)<=0?(o=s,t=s+1):n=s-1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=t-1;t<=n;){var o=t+n>>>1;e[o]<=r?(i=o,t=o+1):n=o-1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},eq:function(e,t,n,r,i){return"function"===typeof n?function(e,t,n,r,i){for(;t<=n;){var o=t+n>>>1,s=i(e[o],r);if(0===s)return o;s<=0?t=o+1:n=o-1}return-1}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(;t<=n;){var i=t+n>>>1,o=e[i];if(o===r)return i;o<=r?t=i+1:n=i-1}return-1}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}};function UU(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var ZU=UU.prototype;function BU(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function VU(e,t){var n=JU(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function WU(e,t){var n=e.intervals([]);n.push(t),VU(e,n)}function HU(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?0:(n.splice(r,1),VU(e,n),1)}function qU(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function GU(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function KU(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function QU(e,t){return e-t}function XU(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function YU(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function JU(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(QU);var r=t[t.length>>1],i=[],o=[],s=[];for(n=0;n<e.length;++n){var a=e[n];a[1]<r?i.push(a):r<a[0]?o.push(a):s.push(a)}var l=s,c=s.slice();return l.sort(XU),c.sort(YU),new UU(r,JU(i),JU(o),l,c)}function $U(e){this.root=e}ZU.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},ZU.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?WU(this,e):this.left.insert(e):this.left=JU([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?WU(this,e):this.right.insert(e):this.right=JU([e]);else{var n=FU.ge(this.leftPoints,e,XU),r=FU.ge(this.rightPoints,e,YU);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},ZU.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?HU(this,e):2===(o=this.left.remove(e))?(this.left=null,this.count-=1,1):(1===o&&(this.count-=1),o):0;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?HU(this,e):2===(o=this.right.remove(e))?(this.right=null,this.count-=1,1):(1===o&&(this.count-=1),o):0;if(1===this.count)return this.leftPoints[0]===e?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var i=this.left,o=this.right;n.count-=r.count,n.right=r.left,r.left=i,r.right=o}BU(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?BU(this,this.left):BU(this,this.right);return 1}for(i=FU.ge(this.leftPoints,e,XU);i<this.leftPoints.length&&this.leftPoints[i][0]===e[0];++i)if(this.leftPoints[i]===e){this.count-=1,this.leftPoints.splice(i,1);for(o=FU.ge(this.rightPoints,e,YU);o<this.rightPoints.length&&this.rightPoints[o][1]===e[1];++o)if(this.rightPoints[o]===e)return this.rightPoints.splice(o,1),1}return 0},ZU.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(n=this.left.queryPoint(e,t))return n;return qU(this.leftPoints,e,t)}if(e>this.mid){var n;if(this.right)if(n=this.right.queryPoint(e,t))return n;return GU(this.rightPoints,e,t)}return KU(this.leftPoints,t)},ZU.queryInterval=function(e,t,n){var r;if(e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n)))return r;if(t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n)))return r;return t<this.mid?qU(this.leftPoints,t,n):e>this.mid?GU(this.rightPoints,e,n):KU(this.leftPoints,n)};var eZ=$U.prototype;eZ.insert=function(e){this.root?this.root.insert(e):this.root=new UU(e[0],null,null,[e],[e])},eZ.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),0!==t}return!1},eZ.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},eZ.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(eZ,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(eZ,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var tZ,nZ,rZ=function(){function e(){var t;_F(this,e),Me(this,"_columnSizeMap",{}),Me(this,"_intervalTree",t&&0!==t.length?new $U(JU(t)):new $U(null)),Me(this,"_leftMap",{})}return xF(e,[{key:"estimateTotalHeight",value:function(e,t,n){var r=e-this.count;return this.tallestColumnSize+Math.ceil(r/t)*n}},{key:"range",value:function(e,t,n){var r=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=jU(e,3),i=t[0],o=(t[1],t[2]);return n(o,r._leftMap[o],i)}))}},{key:"setPosition",value:function(e,t,n,r){this._intervalTree.insert([n,n+r,e]),this._leftMap[e]=t;var i=this._columnSizeMap,o=i[t];i[t]=void 0===o?n+r:Math.max(o,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=0===t?r:Math.min(t,r)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=Math.max(t,r)}return t}}]),e}();function iZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iZ(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iZ(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sZ=(nZ=tZ=function(e){function n(){var e,t;_F(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Me(KM(t=CF(this,(e=kF(n)).call.apply(e,[this].concat(i)))),"state",{isScrolling:!1,scrollTop:0}),Me(KM(t),"_debounceResetIsScrollingId",void 0),Me(KM(t),"_invalidateOnUpdateStartIndex",null),Me(KM(t),"_invalidateOnUpdateStopIndex",null),Me(KM(t),"_positionCache",new rZ),Me(KM(t),"_startIndex",null),Me(KM(t),"_startIndexMemoized",null),Me(KM(t),"_stopIndex",null),Me(KM(t),"_stopIndexMemoized",null),Me(KM(t),"_debounceResetIsScrollingCallback",(function(){t.setState({isScrolling:!1})})),Me(KM(t),"_setScrollingContainerRef",(function(e){t._scrollingContainer=e})),Me(KM(t),"_onScroll",(function(e){var n=t.props.height,r=e.currentTarget.scrollTop,i=Math.min(Math.max(0,t._getEstimatedTotalHeight()-n),r);r===i&&(t._debounceResetIsScrolling(),t.state.scrollTop!==i&&t.setState({isScrolling:!0,scrollTop:i}))})),t}return IF(n,e),xF(n,[{key:"clearCellPositions",value:function(){this._positionCache=new rZ,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new rZ,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&XF(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e,n=this,r=this.props,i=r.autoHeight,o=r.cellCount,s=r.cellMeasurerCache,a=r.cellRenderer,l=r.className,c=r.height,u=r.id,d=r.keyMapper,h=r.overscanByPixels,f=r.role,p=r.style,m=r.tabIndex,g=r.width,v=r.rowDirection,y=this.state,b=y.isScrolling,w=y.scrollTop,_=[],S=this._getEstimatedTotalHeight(),x=this._positionCache.shortestColumnSize,C=this._positionCache.count,k=0;if(this._positionCache.range(Math.max(0,w-h),c+2*h,(function(t,r,i){var o;"undefined"===typeof e?(k=t,e=t):(k=Math.min(k,t),e=Math.max(e,t)),_.push(a({index:t,isScrolling:b,key:d(t),parent:n,style:(o={height:s.getHeight(t)},Me(o,"ltr"===v?"left":"right",r),Me(o,"position","absolute"),Me(o,"top",i),Me(o,"width",s.getWidth(t)),o)}))})),x<w+c+h&&C<o)for(var I=Math.min(o-C,Math.ceil((w+c+h-x)/s.defaultHeight*g/s.defaultWidth)),T=C;T<C+I;T++)e=T,_.push(a({index:T,isScrolling:b,key:d(T),parent:this,style:{width:s.getWidth(T)}}));return this._startIndex=k,this._stopIndex=e,t.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:AF("ReactVirtualized__Masonry",l),id:u,onScroll:this._onScroll,role:f,style:oZ({boxSizing:"border-box",direction:"ltr",height:i?"auto":c,overflowX:"hidden",overflowY:S<c?"hidden":"auto",position:"relative",width:g,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:m},t.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:S,maxWidth:"100%",maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},_))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"===typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&XF(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=YF(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,r=e.width,i=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,i,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,n=e.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var n=this.props,r=n.cellMeasurerCache,i=n.cellPositioner,o=e;o<=t;o++){var s=i(o),a=s.left,l=s.top;this._positionCache.setPosition(o,a,l,r.getHeight(o))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),n}(t.PureComponent),Me(tZ,"propTypes",null),nZ);function aZ(){}Me(sZ,"defaultProps",{autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:aZ,onScroll:aZ,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"});PF(sZ);var lZ=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_F(this,e),Me(this,"_cellMeasurerCache",void 0),Me(this,"_columnIndexOffset",void 0),Me(this,"_rowIndexOffset",void 0),Me(this,"columnWidth",(function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})})),Me(this,"rowHeight",(function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})}));var r=n.cellMeasurerCache,i=n.columnIndexOffset,o=void 0===i?0:i,s=n.rowIndexOffset,a=void 0===s?0:s;this._cellMeasurerCache=r,this._columnIndexOffset=o,this._rowIndexOffset=a}return xF(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,n,r){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}();function cZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cZ(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cZ(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dZ=function(e){function n(e,r){var i;_F(this,n),Me(KM(i=CF(this,kF(n).call(this,e,r))),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),Me(KM(i),"_deferredInvalidateColumnIndex",null),Me(KM(i),"_deferredInvalidateRowIndex",null),Me(KM(i),"_bottomLeftGridRef",(function(e){i._bottomLeftGrid=e})),Me(KM(i),"_bottomRightGridRef",(function(e){i._bottomRightGrid=e})),Me(KM(i),"_cellRendererBottomLeftGrid",(function(e){var n=e.rowIndex,r=MF(e,["rowIndex"]),o=i.props,s=o.cellRenderer,a=o.fixedRowCount;return n===o.rowCount-a?t.createElement("div",{key:r.key,style:uZ({},r.style,{height:20})}):s(uZ({},r,{parent:KM(i),rowIndex:n+a}))})),Me(KM(i),"_cellRendererBottomRightGrid",(function(e){var t=e.columnIndex,n=e.rowIndex,r=MF(e,["columnIndex","rowIndex"]),o=i.props,s=o.cellRenderer,a=o.fixedColumnCount,l=o.fixedRowCount;return s(uZ({},r,{columnIndex:t+a,parent:KM(i),rowIndex:n+l}))})),Me(KM(i),"_cellRendererTopRightGrid",(function(e){var n=e.columnIndex,r=MF(e,["columnIndex"]),o=i.props,s=o.cellRenderer,a=o.columnCount,l=o.fixedColumnCount;return n===a-l?t.createElement("div",{key:r.key,style:uZ({},r.style,{width:20})}):s(uZ({},r,{columnIndex:n+l,parent:KM(i)}))})),Me(KM(i),"_columnWidthRightGrid",(function(e){var t=e.index,n=i.props,r=n.columnCount,o=n.fixedColumnCount,s=n.columnWidth,a=i.state,l=a.scrollbarSize;return a.showHorizontalScrollbar&&t===r-o?l:"function"===typeof s?s({index:t+o}):s})),Me(KM(i),"_onScroll",(function(e){var t=e.scrollLeft,n=e.scrollTop;i.setState({scrollLeft:t,scrollTop:n});var r=i.props.onScroll;r&&r(e)})),Me(KM(i),"_onScrollbarPresenceChange",(function(e){var t=e.horizontal,n=e.size,r=e.vertical,o=i.state,s=o.showHorizontalScrollbar,a=o.showVerticalScrollbar;if(t!==s||r!==a){i.setState({scrollbarSize:n,showHorizontalScrollbar:t,showVerticalScrollbar:r});var l=i.props.onScrollbarPresenceChange;"function"===typeof l&&l({horizontal:t,size:n,vertical:r})}})),Me(KM(i),"_onScrollLeft",(function(e){var t=e.scrollLeft;i._onScroll({scrollLeft:t,scrollTop:i.state.scrollTop})})),Me(KM(i),"_onScrollTop",(function(e){var t=e.scrollTop;i._onScroll({scrollTop:t,scrollLeft:i.state.scrollLeft})})),Me(KM(i),"_rowHeightBottomGrid",(function(e){var t=e.index,n=i.props,r=n.fixedRowCount,o=n.rowCount,s=n.rowHeight,a=i.state,l=a.scrollbarSize;return a.showVerticalScrollbar&&t===o-r?l:"function"===typeof s?s({index:t+r}):s})),Me(KM(i),"_topLeftGridRef",(function(e){i._topLeftGrid=e})),Me(KM(i),"_topRightGridRef",(function(e){i._topRightGrid=e}));var o=e.deferredMeasurementCache,s=e.fixedColumnCount,a=e.fixedRowCount;return i._maybeCalculateCachedStyles(!0),o&&(i._deferredMeasurementCacheBottomLeftGrid=a>0?new lZ({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:a}):o,i._deferredMeasurementCacheBottomRightGrid=s>0||a>0?new lZ({cellMeasurerCache:o,columnIndexOffset:s,rowIndexOffset:a}):o,i._deferredMeasurementCacheTopRightGrid=s>0?new lZ({cellMeasurerCache:o,columnIndexOffset:s,rowIndexOffset:0}):o),i}return IF(n,e),xF(n,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r,o=this.props,s=o.fixedColumnCount,a=o.fixedRowCount,l=Math.max(0,n-s),c=Math.max(0,i-a);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:c}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:c}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:i}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:i}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var r={};t>0&&(r.scrollLeft=t),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,n=e.onScroll,r=e.onSectionRendered,i=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),o=(e.scrollTop,e.scrollToRow),s=MF(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var a=this.state,l=a.scrollLeft,c=a.scrollTop;return t.createElement("div",{style:this._containerOuterStyle},t.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(s),this._renderTopRightGrid(uZ({},s,{onScroll:n,scrollLeft:l}))),t.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(uZ({},s,{onScroll:n,scrollTop:c})),this._renderBottomRightGrid(uZ({},s,{onScroll:n,onSectionRendered:r,scrollLeft:l,scrollToColumn:i,scrollToRow:o,scrollTop:c}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"===typeof n){for(var r=0,i=0;i<t;i++)r+=n({index:i});this._leftGridWidth=r}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"===typeof n){for(var r=0,i=0;i<t;i++)r+=n({index:i});this._topGridHeight=r}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"===typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,n=t.columnWidth,r=t.enableFixedColumnScroll,i=t.enableFixedRowScroll,o=t.height,s=t.fixedColumnCount,a=t.fixedRowCount,l=t.rowHeight,c=t.style,u=t.styleBottomLeftGrid,d=t.styleBottomRightGrid,h=t.styleTopLeftGrid,f=t.styleTopRightGrid,p=t.width,m=e||o!==this._lastRenderedHeight||p!==this._lastRenderedWidth,g=e||n!==this._lastRenderedColumnWidth||s!==this._lastRenderedFixedColumnCount,v=e||a!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(e||m||c!==this._lastRenderedStyle)&&(this._containerOuterStyle=uZ({height:o,overflow:"visible",width:p},c)),(e||m||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:p},this._containerBottomStyle={height:o-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:p}),(e||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=uZ({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},u)),(e||g||d!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=uZ({left:this._getLeftGridWidth(this.props),position:"absolute"},d)),(e||h!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=uZ({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},h)),(e||g||f!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=uZ({left:this._getLeftGridWidth(this.props),overflowX:i?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},f)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=s,this._lastRenderedFixedRowCount=a,this._lastRenderedHeight=o,this._lastRenderedRowHeight=l,this._lastRenderedStyle=c,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=d,this._lastRenderedStyleTopLeftGrid=h,this._lastRenderedStyleTopRightGrid=f,this._lastRenderedWidth=p}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var n=e.enableFixedColumnScroll,r=e.fixedColumnCount,i=e.fixedRowCount,o=e.rowCount,s=e.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!r)return null;var l=a?1:0,c=this._getBottomGridHeight(e),u=this._getLeftGridWidth(e),d=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,h=s?u+d:u,f=t.createElement(rU,(0,CE.Z)({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:r,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:c,onScroll:n?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,o-i)+l,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:h}));return s?t.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:uZ({},this._bottomLeftGridStyle,{height:c,width:u,overflowY:"hidden"})},f):f}},{key:"_renderBottomRightGrid",value:function(e){var n=e.columnCount,r=e.fixedColumnCount,i=e.fixedRowCount,o=e.rowCount,s=e.scrollToColumn,a=e.scrollToRow;return t.createElement(rU,(0,CE.Z)({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,n-r),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,o-i),rowHeight:this._rowHeightBottomGrid,scrollToColumn:s-r,scrollToRow:a-i,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var n=e.fixedColumnCount,r=e.fixedRowCount;return n&&r?t.createElement(rU,(0,CE.Z)({},e,{className:this.props.classNameTopLeftGrid,columnCount:n,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:r,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var n=e.columnCount,r=e.enableFixedRowScroll,i=e.fixedColumnCount,o=e.fixedRowCount,s=e.scrollLeft,a=e.hideTopRightGridScrollbar,l=this.state,c=l.showHorizontalScrollbar,u=l.scrollbarSize;if(!o)return null;var d=c?1:0,h=this._getTopGridHeight(e),f=this._getRightGridWidth(e),p=c?u:0,m=h,g=this._topRightGridStyle;a&&(m=h+p,g=uZ({},this._topRightGridStyle,{left:0}));var v=t.createElement(rU,(0,CE.Z)({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,n-i)+d,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:r?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:o,scrollLeft:s,style:g,tabIndex:null,width:f}));return a?t.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:uZ({},this._topRightGridStyle,{height:h,width:f,overflowX:"hidden"})},v):v}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),n}(t.PureComponent);Me(dZ,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),dZ.propTypes={},PF(dZ);(function(e){function t(e,n){var r;return _F(this,t),(r=CF(this,kF(t).call(this,e,n))).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(KM(r)),r}return IF(t,e),xF(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,i=t.scrollHeight,o=t.scrollLeft,s=t.scrollTop,a=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:i,scrollLeft:o,scrollTop:s,scrollWidth:a})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,i=e.scrollLeft,o=e.scrollTop,s=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:i,scrollTop:o,scrollWidth:s})}}]),t}(t.PureComponent)).propTypes={};function hZ(e){var n=e.className,r=e.columns,i=e.style;return t.createElement("div",{className:n,role:"row",style:i},r)}hZ.propTypes=null;const fZ={ASC:"ASC",DESC:"DESC"};function pZ(e){var n=e.sortDirection,r=AF("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":n===fZ.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":n===fZ.DESC});return t.createElement("svg",{className:r,width:18,height:18,viewBox:"0 0 24 24"},n===fZ.ASC?t.createElement("path",{d:"M7 14l5-5 5 5z"}):t.createElement("path",{d:"M7 10l5 5 5-5z"}),t.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function mZ(e){var n=e.dataKey,r=e.label,i=e.sortBy,o=e.sortDirection,s=i===n,a=[t.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"===typeof r?r:null},r)];return s&&a.push(t.createElement(pZ,{key:"SortIndicator",sortDirection:o})),a}function gZ(e){var n=e.className,r=e.columns,i=e.index,o=e.key,s=e.onRowClick,a=e.onRowDoubleClick,l=e.onRowMouseOut,c=e.onRowMouseOver,u=e.onRowRightClick,d=e.rowData,h=e.style,f={"aria-rowindex":i+1};return(s||a||l||c||u)&&(f["aria-label"]="row",f.tabIndex=0,s&&(f.onClick=function(e){return s({event:e,index:i,rowData:d})}),a&&(f.onDoubleClick=function(e){return a({event:e,index:i,rowData:d})}),l&&(f.onMouseOut=function(e){return l({event:e,index:i,rowData:d})}),c&&(f.onMouseOver=function(e){return c({event:e,index:i,rowData:d})}),u&&(f.onContextMenu=function(e){return u({event:e,index:i,rowData:d})})),t.createElement("div",(0,CE.Z)({},f,{className:n,key:o,role:"row",style:h}),r)}pZ.propTypes={},mZ.propTypes=null,gZ.propTypes=null;var vZ=function(e){function t(){return _F(this,t),CF(this,kF(t).apply(this,arguments))}return IF(t,e),t}(t.Component);function yZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yZ(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yZ(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Me(vZ,"defaultProps",{cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"===typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:fZ.ASC,flexGrow:0,flexShrink:1,headerRenderer:mZ,style:{}}),vZ.propTypes={};var wZ=function(e){function n(e){var t;return _F(this,n),(t=CF(this,kF(n).call(this,e))).state={scrollbarWidth:0},t._createColumn=t._createColumn.bind(KM(t)),t._createRow=t._createRow.bind(KM(t)),t._onScroll=t._onScroll.bind(KM(t)),t._onSectionRendered=t._onSectionRendered.bind(KM(t)),t._setRef=t._setRef.bind(KM(t)),t}return IF(n,e),xF(n,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var e=(0,a.findDOMNode)(this.Grid),t=e.clientWidth||0;return(e.offsetWidth||0)-t}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,n=this.props,r=n.children,i=n.className,o=n.disableHeader,s=n.gridClassName,a=n.gridStyle,l=n.headerHeight,c=n.headerRowRenderer,u=n.height,d=n.id,h=n.noRowsRenderer,f=n.rowClassName,p=n.rowStyle,m=n.scrollToIndex,g=n.style,v=n.width,y=this.state.scrollbarWidth,b=o?u:u-l,w="function"===typeof f?f({index:-1}):f,_="function"===typeof p?p({index:-1}):p;return this._cachedColumnStyles=[],t.Children.toArray(r).forEach((function(t,n){var r=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=bZ({overflow:"hidden"},r)})),t.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":t.Children.toArray(r).length,"aria-rowcount":this.props.rowCount,className:AF("ReactVirtualized__Table",i),id:d,role:"grid",style:g},!o&&c({className:AF("ReactVirtualized__Table__headerRow",w),columns:this._getHeaderColumns(),style:bZ({height:l,overflow:"hidden",paddingRight:y,width:v},_)}),t.createElement(rU,(0,CE.Z)({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:AF("ReactVirtualized__Table__Grid",s),cellRenderer:this._createRow,columnWidth:v,columnCount:1,height:b,id:void 0,noContentRenderer:h,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:y,scrollToRow:m,style:bZ({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var n=e.column,r=e.columnIndex,i=e.isScrolling,o=e.parent,s=e.rowData,a=e.rowIndex,l=this.props.onColumnClick,c=n.props,u=c.cellDataGetter,d=c.cellRenderer,h=c.className,f=c.columnData,p=c.dataKey,m=c.id,g=d({cellData:u({columnData:f,dataKey:p,rowData:s}),columnData:f,columnIndex:r,dataKey:p,isScrolling:i,parent:o,rowData:s,rowIndex:a}),v=this._cachedColumnStyles[r],y="string"===typeof g?g:null;return t.createElement("div",{"aria-colindex":r+1,"aria-describedby":m,className:AF("ReactVirtualized__Table__rowColumn",h),key:"Row"+a+"-Col"+r,onClick:function(e){l&&l({columnData:f,dataKey:p,event:e})},role:"gridcell",style:v,title:y},g)}},{key:"_createHeader",value:function(e){var n,r,i,o,s,a=e.column,l=e.index,c=this.props,u=c.headerClassName,d=c.headerStyle,h=c.onHeaderClick,f=c.sort,p=c.sortBy,m=c.sortDirection,g=a.props,v=g.columnData,y=g.dataKey,b=g.defaultSortDirection,w=g.disableSort,_=g.headerRenderer,S=g.id,x=g.label,C=!w&&f,k=AF("ReactVirtualized__Table__headerColumn",u,a.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:C}),I=this._getFlexStyleForColumn(a,bZ({},d,{},a.props.headerStyle)),T=_({columnData:v,dataKey:y,disableSort:w,label:x,sortBy:p,sortDirection:m});if(C||h){var E=p!==y?b:m===fZ.DESC?fZ.ASC:fZ.DESC,R=function(e){C&&f({defaultSortDirection:b,event:e,sortBy:y,sortDirection:E}),h&&h({columnData:v,dataKey:y,event:e})};s=a.props["aria-label"]||x||y,o="none",i=0,n=R,r=function(e){"Enter"!==e.key&&" "!==e.key||R(e)}}return p===y&&(o=m===fZ.ASC?"ascending":"descending"),t.createElement("div",{"aria-label":s,"aria-sort":o,className:k,id:S,key:"Header-Col"+l,onClick:n,onKeyDown:r,role:"columnheader",style:I,tabIndex:i},T)}},{key:"_createRow",value:function(e){var n=this,r=e.rowIndex,i=e.isScrolling,o=e.key,s=e.parent,a=e.style,l=this.props,c=l.children,u=l.onRowClick,d=l.onRowDoubleClick,h=l.onRowRightClick,f=l.onRowMouseOver,p=l.onRowMouseOut,m=l.rowClassName,g=l.rowGetter,v=l.rowRenderer,y=l.rowStyle,b=this.state.scrollbarWidth,w="function"===typeof m?m({index:r}):m,_="function"===typeof y?y({index:r}):y,S=g({index:r}),x=t.Children.toArray(c).map((function(e,t){return n._createColumn({column:e,columnIndex:t,isScrolling:i,parent:s,rowData:S,rowIndex:r,scrollbarWidth:b})})),C=AF("ReactVirtualized__Table__row",w),k=bZ({},a,{height:this._getRowHeight(r),overflow:"hidden",paddingRight:b},_);return v({className:C,columns:x,index:r,isScrolling:i,key:o,onRowClick:u,onRowDoubleClick:d,onRowRightClick:h,onRowMouseOver:f,onRowMouseOut:p,rowData:S,style:k})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(e.props.flexGrow," ").concat(e.props.flexShrink," ").concat(e.props.width,"px"),r=bZ({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(r.maxWidth=e.props.maxWidth),e.props.minWidth&&(r.minWidth=e.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var e=this,n=this.props,r=n.children;return(n.disableHeader?[]:t.Children.toArray(r)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"===typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:i})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}]),n}(t.PureComponent);Me(wZ,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:iU,overscanRowCount:10,rowRenderer:gZ,headerRowRenderer:hZ,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),wZ.propTypes={};var _Z=[],SZ=null,xZ=null;function CZ(){xZ&&(xZ=null,document.body&&null!=SZ&&(document.body.style.pointerEvents=SZ),SZ=null)}function kZ(){CZ(),_Z.forEach((function(e){return e.__resetIsScrolling()}))}function IZ(e){e.currentTarget===window&&null==SZ&&document.body&&(SZ=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){xZ&&XF(xZ);var e=0;_Z.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),xZ=YF(kZ,e)}(),_Z.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function TZ(e,t){_Z.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",IZ),_Z.push(e)}function EZ(e,t){_Z=_Z.filter((function(t){return t!==e})),_Z.length||(t.removeEventListener("scroll",IZ),xZ&&(XF(xZ),CZ()))}var RZ,PZ,OZ=function(e){return e===window},AZ=function(e){return e.getBoundingClientRect()};function NZ(e,t){if(e){if(OZ(e)){var n=window,r=n.innerHeight,i=n.innerWidth;return{height:"number"===typeof r?r:0,width:"number"===typeof i?i:0}}return AZ(e)}return{height:t.serverHeight,width:t.serverWidth}}function MZ(e){return OZ(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}function DZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var LZ=function(){return"undefined"!==typeof window?window:void 0},zZ=(PZ=RZ=function(e){function t(){var e,n;_F(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Me(KM(n=CF(this,(e=kF(t)).call.apply(e,[this].concat(i)))),"_window",LZ()),Me(KM(n),"_isMounted",!1),Me(KM(n),"_positionFromTop",0),Me(KM(n),"_positionFromLeft",0),Me(KM(n),"_detectElementResize",void 0),Me(KM(n),"_child",void 0),Me(KM(n),"state",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DZ(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DZ(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},NZ(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),Me(KM(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=e,n.updatePosition()})),Me(KM(n),"_onChildScroll",(function(e){var t=e.scrollTop;if(n.state.scrollTop!==t){var r=n.props.scrollElement;r&&("function"===typeof r.scrollTo?r.scrollTo(0,t+n._positionFromTop):r.scrollTop=t+n._positionFromTop)}})),Me(KM(n),"_registerResizeListener",(function(e){e===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(e,n._onResize)})),Me(KM(n),"_unregisterResizeListener",(function(e){e===window?window.removeEventListener("resize",n._onResize,!1):e&&n._detectElementResize.removeResizeListener(e,n._onResize)})),Me(KM(n),"_onResize",(function(){n.updatePosition()})),Me(KM(n),"__handleWindowScrollEvent",(function(){if(n._isMounted){var e=n.props.onScroll,t=n.props.scrollElement;if(t){var r=MZ(t),i=Math.max(0,r.left-n._positionFromLeft),o=Math.max(0,r.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:i,scrollTop:o}),e({scrollLeft:i,scrollTop:o})}}})),Me(KM(n),"__resetIsScrolling",(function(){n.setState({isScrolling:!1})})),n}return IF(t,e),xF(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,r=n.height,i=n.width,o=this._child||a.findDOMNode(this);if(o instanceof Element&&e){var s=function(e,t){if(OZ(t)&&document.documentElement){var n=document.documentElement,r=AZ(e),i=AZ(n);return{top:r.top-i.top,left:r.left-i.left}}var o=MZ(t),s=AZ(e),a=AZ(t);return{top:s.top+o.top-a.top,left:s.left+o.left-a.left}}(o,e);this._positionFromTop=s.top,this._positionFromLeft=s.left}var l=NZ(e,this.props);r===l.height&&i===l.width||(this.setState({height:l.height,width:l.width}),t({height:l.height,width:l.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=cU(),this.updatePosition(e),e&&(TZ(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.scrollElement,r=e.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),EZ(this,r),TZ(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(EZ(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,r=t.scrollTop,i=t.scrollLeft,o=t.height,s=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:o,isScrolling:n,scrollLeft:i,scrollTop:r,width:s})}}]),t}(t.PureComponent),Me(RZ,"propTypes",null),PZ);Me(zZ,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:LZ(),serverHeight:0,serverWidth:0});const jZ=e=>{let{message:t,didISend:n,user:r,onImageLoad:i}=e;const o=Lt((e=>e.chatReducer)),s=t.date.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});var a;return o.user?(0,qE.jsxs)(jM,{sx:{display:"flex",justifyContent:n?"flex-end":"flex-start",alignItems:"center",marginRight:n?"1em":"0px",marginLeft:n?"0px":"1em"},children:[!n&&(0,qE.jsx)(Tz,{title:o.user.displayName,children:(0,qE.jsx)(uP,{sx:{marginRight:"10px"},src:n?void 0:(null===(a=o.user)||void 0===a?void 0:a.photourl)||void 0})}),(0,qE.jsxs)(jM,{children:[(0,qE.jsxs)(jM,{sx:{padding:"10px",paddingRight:n?"10px":"35px",paddingLeft:n?"35px":"10px",margin:"10px 0",marginBottom:"0px",backgroundColor:n?"rgba(25, 118, 210, 0.8)":"rgba(220, 220, 220, 0.8)",borderRadius:"10px",position:"relative"},children:[t.Image&&(0,qE.jsx)(jM,{sx:{width:"100%",height:"auto",position:"relative"},children:(0,qE.jsx)("img",{src:t.Image,style:{maxWidth:"100%",height:"100px",display:"block",marginBottom:"10px"},alt:"",onLoad:i})}),(0,qE.jsx)(aR,{variant:"body1",color:"textSecondary",component:"p",children:t.text})]})," ",(0,qE.jsx)(aR,{variant:"caption",color:"textSecondary",component:"p",children:s})]}),n&&(0,qE.jsx)(Tz,{title:null===r||void 0===r?void 0:r.displayName,children:(0,qE.jsx)(uP,{sx:{marginLeft:"10px"},src:n&&(null===r||void 0===r?void 0:r.photoURL)||void 0})})]}):null},FZ=e=>{let{messages:n}=e;const r=Lt((e=>e.chatReducer)),i=Lt((e=>e.authReducer)),[o,s]=(0,t.useState)(n.length-1);(0,t.useEffect)((()=>{if(n.length>0){s(n.length-1);const e=setTimeout((()=>{s(null)}),1500);return()=>clearTimeout(e)}}),[n.length]);const a=(0,t.useRef)(new yU({defaultHeight:100,fixedWidth:!0})).current,l=e=>{let{index:t,key:o,parent:s,style:l}=e;const c=n[t];return(0,qE.jsx)(vU,{cache:a,columnIndex:0,parent:s,rowIndex:t,children:e=>{var t;let{measure:n,registerChild:o}=e;return(0,qE.jsx)("div",{ref:e=>{o&&e&&o(e)},style:l,children:(0,qE.jsx)(jZ,{message:c,didISend:c.senderId!==(null===(t=r.user)||void 0===t?void 0:t.uid),user:i.user,onImageLoad:()=>{n()}})})}},o)};return(0,qE.jsx)(pU,{children:e=>{let{width:t,height:r}=e;return(0,qE.jsx)(zU,{width:t,height:r,rowCount:n.length,rowHeight:a.rowHeight,rowRenderer:l,scrollToIndex:o||void 0})}})},UZ=()=>{const e=(0,t.memo)(dj),n=Lt((e=>e.chatReducer)),r=Lt((e=>e.authReducer)),[i]=Yn(),o=i.get("uid"),[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),u=(0,t.useRef)(null),{users:d,chats:h,done:f,openChat:p,handleClick:m,isHeChattingWithAll:g}=Wz(),[v,y]=(0,t.useState)(!1),b=Lt((e=>e.chatReducer)),w=(0,t.memo)(Xz);return(0,t.useEffect)((()=>{var e;r.isLoggedIn&&((null===(e=r.user)||void 0===e?void 0:e.uid)&&(async()=>{const e=await zT(pI(_E,"chats",o),(e=>{e.exists()&&a(e.data().messages),c(!0)}))})(),c(!1))}),[r.isLoggedIn,o]),n.user&&l?(0,qE.jsxs)(jM,{sx:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},ref:u,children:[(0,qE.jsx)(jM,{sx:{top:0,zIndex:1e3},children:(0,qE.jsx)(wF,{isHeWantNewChat:v,setIsHeWantNewChat:y,isThereUserWithoutChat:g})}),(0,qE.jsx)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",display:{xs:"block",md:"none",sm:"none"}},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"Existing Chats"})}),(0,qE.jsxs)(jM,{sx:{borderBottom:"1px solid rgba(0,0,0,0.1)",display:{xs:"flex",md:"none",sm:"none"}},children:[(0,qE.jsx)(eD,{style:{display:"flex",flexGrow:1,justifyContent:"space-evenly",alignContent:"center",flexWrap:"wrap"},children:h&&h.map((e=>{const t=Object.keys(e)[0];return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(Kz,{chats:e[t],chatIsOpen:t===o,id:t,handleOpenChat:()=>p(t,e[t].userInfo)},t)},t)}))}),(0,qE.jsx)(jM,{})," "]}),(0,qE.jsxs)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",display:{xs:"block",md:"none",sm:"none"}},children:[(0,qE.jsxs)(eD,{children:[!g&&v&&(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)"},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"User's whom you don't have chat with"})})})," "]}),(0,qE.jsx)(jM,{sx:{borderBottom:"1px solid rgba(0,0,0,0.1)",display:{xs:"flex",md:"none",sm:"none"}},children:(0,qE.jsx)(eD,{style:{display:"flex",flexGrow:1,justifyContent:"space-evenly",flexWrap:"wrap"},children:v&&d.map((e=>{var t;const n=h.some((t=>Object.keys(t)[0].includes(e.uid)));var i;if(!(e.uid===(null===(t=b.user)||void 0===t?void 0:t.uid)||"")&&!n)return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(w,{user:e,display:e.uid!==(null===(i=r.user)||void 0===i?void 0:i.uid),handleOpenChat:()=>m(e)})},e.uid);return null}))})})]}),(0,qE.jsxs)(jM,{sx:{flexGrow:1,overflowY:"auto",overflowX:"hidden",maxHeight:"75vh"},children:[" ",s.length>0&&(0,qE.jsx)(FZ,{messages:s})]}),(0,qE.jsx)(jM,{sx:{position:"sticky",bottom:0,zIndex:10},children:(0,qE.jsx)(e,{})})]}):(0,qE.jsx)(Fz,{})},ZZ=e=>{var n,r;let{chats:i,handleOpenChat:o,id:s,chatIsOpen:a}=e,l=(0,t.useRef)(null),c="";return i.date&&(c=i.date.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),(0,qE.jsx)(jM,{ref:l,onClick:()=>{o(s,{userInfo:i.userInfo})},sx:{cursor:"pointer",height:"100%",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:"12px",borderRadius:"8px",mb:1},children:(0,qE.jsxs)(qR,{sx:{display:"flex",justifyContent:"space-between",minHeight:60,maxHeight:100,alignItems:"center",padding:"10px",backgroundColor:a?"userChat.active":"userChat.noActive",":hover":{backgroundColor:a?"userChat.active":"rgba(32, 40, 77, 0.3)",color:"text.hover"},borderRadius:"8px",boxShadow:a?"userChat.hover":"none",color:a?"text.hover":"text.primary"},children:[(0,qE.jsx)(uP,{sx:{marginRight:"auto",position:"static"},src:i.userInfo.photourl,alt:i.userInfo.displayName,style:{margin:"10px"}}),(0,qE.jsxs)(SP,{sx:{marginRight:"auto",height:"100%"},children:[(0,qE.jsx)(aR,{variant:"h5",children:i.userInfo.displayName.slice(0,20)}),null!==(n=i.lastMessage)&&void 0!==n&&n.text?(0,qE.jsx)(aR,{variant:"h5",children:null===(r=i.lastMessage)||void 0===r?void 0:r.text.slice(0,50)}):(0,qE.jsx)(aR,{variant:"h5",children:"(photo)"})]}),(0,qE.jsx)(aR,{sx:{marginLeft:"auto",alignSelf:"flex-start"},variant:"h6",children:c})]})})},BZ=e=>{var n,r;let{isHeWantNewChat:i,setIsHeWantNewChat:o,isThereUserWithoutChat:s}=e;const a=Lt((e=>e.authReducer)),[l,c]=t.useState(null),u=Boolean(l);return(0,qE.jsx)(vj,{position:"static",sx:{width:"100%",bgcolor:"divider"},children:(0,qE.jsxs)($E,{container:!0,sx:{width:"100%"},children:[(0,qE.jsxs)($E,{item:!0,xs:12,md:12,lg:12,xl:12,children:[" ",(0,qE.jsxs)(Tj,{sx:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",p:1},children:[(0,qE.jsxs)(jM,{sx:{display:"flex",alignItems:"center",height:"100%"},children:[(0,qE.jsx)(aR,{variant:"h6",noWrap:!0,sx:{mr:2,display:{xs:"flex",md:"flex",sm:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"text.hover",textDecoration:"none"},children:"Chats"})," "]}),(0,qE.jsxs)(jM,{sx:{display:"flex",alignContent:"center"},children:[" ",!i&&(0,qE.jsx)(Tz,{title:"new chat",children:(0,qE.jsx)(Nz,{sx:{p:2},onClick:()=>{s?console.log("you have chat with all of the users"):o(!0)},children:(0,qE.jsx)(Mz.Z,{})})}),i&&(0,qE.jsx)(Tz,{title:"close new chat",children:(0,qE.jsx)(Nz,{onClick:()=>o(!i),children:(0,qE.jsx)(Mz.Z,{})})})]})," ",(0,qE.jsx)(jM,{sx:{display:"flex",alignItems:"center"},children:(0,qE.jsx)(Tz,{title:u?"close user Preferance":"Open user Preferance",children:(0,qE.jsx)(Nz,{onClick:e=>{c(e.currentTarget)},children:(0,qE.jsx)(uP,{alt:"user profile",src:null!==(n=null===(r=a.user)||void 0===r?void 0:r.photoURL)&&void 0!==n?n:""})})})}),(0,qE.jsxs)(GN,{anchorEl:l,id:"menu-appbar",open:Boolean(l),onClose:()=>{c(null)},sx:{".MuiPaper-root":{backgroundColor:"divider"}},children:[" ",(0,qE.jsx)(jM,{children:(0,qE.jsx)(bF,{})})]})]})]})," "]})})},VZ=e=>{let{chatId:n}=e;const{users:r,chats:i,done:o,openChat:s,handleClick:a,isHeChattingWithAll:l}=Wz(),[c,u]=(0,t.useState)(!1),d=Lt((e=>e.chatReducer)),h=Lt((e=>e.authReducer)),f=(0,t.memo)(Gz);return o?(0,qE.jsxs)(jM,{sx:{width:"100%"},children:[(0,qE.jsx)(BZ,{isHeWantNewChat:c,setIsHeWantNewChat:u,isThereUserWithoutChat:l}),(0,qE.jsxs)(jM,{children:[(0,qE.jsx)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)"},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"Existing Chats"})}),(0,qE.jsx)(eD,{children:i&&i.map((e=>{const t=Object.keys(e)[0];return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(ZZ,{chats:e[t],chatIsOpen:t===n,id:t,handleOpenChat:()=>s(t,e[t].userInfo)},t)},t)}))}),(0,qE.jsxs)(eD,{children:[!l&&c&&(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(jM,{sx:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)"},children:(0,qE.jsx)(aR,{variant:"h6",color:"text.hover",component:"p",textAlign:"center",children:"User's whom you don't have chat with"})})})," "]}),(0,qE.jsx)(eD,{children:c&&r.map((e=>{var t;const n=i.some((t=>Object.keys(t)[0].includes(e.uid)));var r;if(!(e.uid===(null===(t=d.user)||void 0===t?void 0:t.uid)||"")&&!n)return(0,qE.jsx)(Vz,{timeout:500,classNames:"item",children:(0,qE.jsx)(f,{user:e,display:e.uid!==(null===(r=h.user)||void 0===r?void 0:r.uid),handleOpenChat:()=>a(e)})},e.uid);return null}))})]})]}):(0,qE.jsx)(Fz,{})},WZ=()=>{const[e]=Yn(),n=e.get("uid");return(0,qE.jsxs)($E,{container:!0,sx:{height:"100vh"},children:[(0,qE.jsxs)($E,{item:!0,sm:6,md:4,sx:{bgcolor:"divider",display:{xs:"none",md:"flex",sm:"flex"}},children:[" ",(0,qE.jsx)(VZ,{chatId:n})]}),(0,qE.jsxs)($E,{item:!0,sm:6,xs:12,md:8,sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",bgcolor:"divider"},children:[" ",n&&(0,qE.jsx)(t.Fragment,{children:(0,qE.jsx)(jM,{sx:{flexGrow:1},children:(0,qE.jsx)(UZ,{})})})]})]})},HZ=()=>(console.log("i have rederd"),(0,qE.jsxs)(Wn,{children:[(0,qE.jsx)(Bn,{index:!0,element:(0,qE.jsx)($z,{})}),";",(0,qE.jsx)(Bn,{path:Jz.HOME,element:(0,qE.jsx)(Yz,{})}),(0,qE.jsx)(Bn,{path:Jz.POSTS,element:(0,qE.jsx)(Yz,{})}),";",(0,qE.jsxs)(Bn,{path:Jz.CHAT,children:[(0,qE.jsx)(Bn,{index:!0,element:(0,qE.jsx)(WZ,{})}),(0,qE.jsx)(Bn,{path:":chatId",element:(0,qE.jsx)(WZ,{})})," *"]})]})),qZ=()=>(0,qE.jsx)("div",{className:"app",children:(0,qE.jsx)(HZ,{})});function GZ(e){return(0,ZE.Z)("MuiDialog",e)}const KZ=(0,UE.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const QZ=t.createContext({}),XZ=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],YZ=(0,NE.ZP)(bN,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),JZ=(0,NE.ZP)(kN,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),$Z=(0,NE.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat((0,eR.Z)(n.scroll))]]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),eB=(0,NE.ZP)(ZR,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,eR.Z)(n.scroll))],t["paperWidth".concat((0,eR.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(KZ.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(KZ.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(KZ.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),tB=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiDialog"}),i=jE(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:g,onClose:v,open:y,PaperComponent:b=ZR,PaperProps:w={},scroll:_="paper",TransitionComponent:S=pN,transitionDuration:x=o,TransitionProps:C}=r,k=(0,xE.Z)(r,XZ),I=(0,CE.Z)({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:m,scroll:_}),T=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container","scroll".concat((0,eR.Z)(n))],paper:["paper","paperScroll".concat((0,eR.Z)(n)),"paperWidth".concat((0,eR.Z)(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,AE.Z)(s,GZ,t)})(I),E=t.useRef(),R=(0,xP.Z)(a),P=t.useMemo((()=>({titleId:R})),[R]);return(0,qE.jsx)(JZ,(0,CE.Z)({className:(0,kE.Z)(T.root,d),closeAfterTransition:!0,components:{Backdrop:YZ},componentsProps:{backdrop:(0,CE.Z)({transitionDuration:x,as:l},c)},disableEscapeKeyDown:h,onClose:v,open:y,ref:n,onClick:e=>{E.current&&(E.current=null,g&&g(e),v&&v(e,"backdropClick"))},ownerState:I},k,{children:(0,qE.jsx)(S,(0,CE.Z)({appear:!0,in:y,timeout:x,role:"presentation"},C,{children:(0,qE.jsx)($Z,{className:(0,kE.Z)(T.container),onMouseDown:e=>{E.current=e.target===e.currentTarget},ownerState:I,children:(0,qE.jsx)(eB,(0,CE.Z)({as:b,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":R},w,{className:(0,kE.Z)(T.paper,w.className),ownerState:I,children:(0,qE.jsx)(QZ.Provider,{value:P,children:u})}))})}))}))})),nB=tB;function rB(e){return(0,ZE.Z)("MuiDialogActions",e)}(0,UE.Z)("MuiDialogActions",["root","spacing"]);const iB=["className","disableSpacing"],oB=(0,NE.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,CE.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),sB=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,o=(0,xE.Z)(n,iB),s=(0,CE.Z)({},n,{disableSpacing:i}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,AE.Z)(r,rB,t)})(s);return(0,qE.jsx)(oB,(0,CE.Z)({className:(0,kE.Z)(a.root,r),ownerState:s,ref:t},o))})),aB=sB;function lB(e){return(0,ZE.Z)("MuiDialogContent",e)}(0,UE.Z)("MuiDialogContent",["root","dividers"]);function cB(e){return(0,ZE.Z)("MuiDialogTitle",e)}const uB=(0,UE.Z)("MuiDialogTitle",["root"]),dB=["className","dividers"],hB=(0,NE.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,CE.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(uB.root," + &")]:{paddingTop:0}})})),fB=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=n,o=(0,xE.Z)(n,dB),s=(0,CE.Z)({},n,{dividers:i}),a=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,AE.Z)(r,lB,t)})(s);return(0,qE.jsx)(hB,(0,CE.Z)({className:(0,kE.Z)(a.root,r),ownerState:s,ref:t},o))})),pB=fB,mB=["className","id"],gB=(0,NE.ZP)(aR,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),vB=t.forwardRef((function(e,n){const r=(0,ME.Z)({props:e,name:"MuiDialogTitle"}),{className:i,id:o}=r,s=(0,xE.Z)(r,mB),a=r,l=(e=>{const{classes:t}=e;return(0,AE.Z)({root:["root"]},cB,t)})(a),{titleId:c=o}=t.useContext(QZ);return(0,qE.jsx)(gB,(0,CE.Z)({component:"h2",className:(0,kE.Z)(l.root,i),ownerState:a,ref:n,variant:"h6",id:null!=o?o:c},s))})),yB=vB;function bB(e){return(0,ZE.Z)("MuiDialogContentText",e)}(0,UE.Z)("MuiDialogContentText",["root"]);const wB=["children","className"],_B=(0,NE.ZP)(aR,{shouldForwardProp:e=>(0,NE.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),SB=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiDialogContentText"}),{className:r}=n,i=(0,xE.Z)(n,wB),o=(e=>{const{classes:t}=e,n=(0,AE.Z)({root:["root"]},bB,t);return(0,CE.Z)({},t,n)})(i);return(0,qE.jsx)(_B,(0,CE.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:(0,kE.Z)(o.root,r)},n,{classes:o}))})),xB=SB;function CB(e){let{setIsOpen:n,isOpen:r}=e;const[i,o]=(0,t.useState)({email:"",password:""}),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),u=e=>{o((t=>({...t,[e.target.id]:e.target.value})))},d=()=>{n(!1)};return(0,qE.jsx)("div",{children:(0,qE.jsx)(nB,{open:r,onClose:d,children:l?(0,qE.jsx)(aR,{variant:"h1",color:"initial",children:"hello"}):(0,qE.jsxs)(qE.Fragment,{children:[(0,qE.jsx)(yB,{children:"Log In"}),(0,qE.jsxs)(pB,{children:[(0,qE.jsx)(xB,{children:"Please enter your email and password:"}),(0,qE.jsx)(RM,{autoFocus:!0,margin:"dense",id:"email",value:i.email,onChange:u,label:"Email Address",type:"email",fullWidth:!0,variant:"standard"}),(0,qE.jsx)(RM,{margin:"dense",id:"password",label:"Password",value:i.password,onChange:u,type:"password",fullWidth:!0,variant:"standard"})]}),(0,qE.jsxs)(aB,{children:[(0,qE.jsx)(DD,{variant:"contained",color:"primary",sx:{textDecoration:"none"},onClick:async()=>{c(!0);try{await fl(bE,SE).then((async e=>e)).catch((e=>{console.log(e)})),c(!1),n(!1)}catch(e){console.log(e),c(!1),n(!1)}},children:"continue with google"}),(0,qE.jsx)(DD,{variant:"contained",color:"primary",onClick:async()=>{c(!0);try{await bE.signInWithEmailAndPassword(i.email,i.password),c(!1),n(!1)}catch(e){console.log(e),c(!1),n(!1)}},children:"Log In"}),(0,qE.jsx)(DD,{variant:"contained",color:"primary",onClick:d,children:"Cancel"})]})," "]})})})}function kB(e){return(0,ZE.Z)("MuiLinearProgress",e)}(0,UE.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var IB,TB,EB,RB,PB,OB;const AB=["className","color","value","valueBuffer","variant"];let NB,MB,DB,LB,zB,jB;const FB=qP(NB||(NB=IB||(IB=GM(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),UB=qP(MB||(MB=TB||(TB=GM(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),ZB=qP(DB||(DB=EB||(EB=GM(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),BB=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,DR.$n)(e.palette[t].main,.62):(0,DR._j)(e.palette[t].main,.5),VB=(0,NE.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat((0,eR.Z)(n.color))],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:BB(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),WB=(0,NE.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat((0,eR.Z)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;const r=BB(n,t.color);return(0,CE.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),HP(LB||(LB=RB||(RB=GM(["\n    animation: "," 3s infinite linear;\n  "]))),ZB)),HB=(0,NE.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat((0,eR.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&HP(zB||(zB=PB||(PB=GM(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),FB)})),qB=(0,NE.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat((0,eR.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,CE.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:BB(n,t.color),transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&HP(jB||(jB=OB||(OB=GM(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),UB)})),GB=t.forwardRef((function(e,t){const n=(0,ME.Z)({props:e,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:o,valueBuffer:s,variant:a="indeterminate"}=n,l=(0,xE.Z)(n,AB),c=(0,CE.Z)({},n,{color:i,variant:a}),u=(e=>{const{classes:t,variant:n,color:r}=e,i={root:["root","color".concat((0,eR.Z)(r)),n],dashed:["dashed","dashedColor".concat((0,eR.Z)(r))],bar1:["bar","barColor".concat((0,eR.Z)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,eR.Z)(r)),"buffer"===n&&"color".concat((0,eR.Z)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,AE.Z)(i,kB,t)})(c),d=jE(),h={},f={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==o){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=o-100;"rtl"===d.direction&&(e=-e),f.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===a)if(void 0!==s){let e=(s||0)-100;"rtl"===d.direction&&(e=-e),f.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,qE.jsxs)(VB,(0,CE.Z)({className:(0,kE.Z)(u.root,r),ownerState:c,role:"progressbar"},h,{ref:t},l,{children:["buffer"===a?(0,qE.jsx)(WB,{className:u.dashed,ownerState:c}):null,(0,qE.jsx)(HB,{className:u.bar1,ownerState:c,style:f.bar1}),"determinate"===a?null:(0,qE.jsx)(qB,{className:u.bar2,ownerState:c,style:f.bar2})]}))})),KB=GB,QB=e=>{const[n,r]=(0,t.useState)(null),[i,o]=(0,t.useState)(0),[s,a]=(0,t.useState)(10),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)({email:"",password:"",firstName:"",lastName:""}),h=e=>{d((t=>({...t,[e.target.id]:e.target.value})))},f=()=>{e.setIsOpen(!1)};return(0,qE.jsx)("div",{children:(0,qE.jsxs)(nB,{open:e.isOpen,onClose:f,children:[(0,qE.jsx)(yB,{children:"sign up"}),(0,qE.jsxs)(pB,{children:[(0,qE.jsx)(xB,{children:"Please enter your name and email and password:"}),(0,qE.jsx)(RM,{autoFocus:!0,margin:"dense",id:"firstName",value:u.firstName,onChange:h,label:"first name",type:"text",fullWidth:!0,variant:"standard"}),(0,qE.jsx)(RM,{margin:"dense",id:"lastName",value:u.lastName,onChange:h,label:"last name",type:"text",fullWidth:!0,variant:"standard"}),(0,qE.jsx)(RM,{margin:"dense",id:"email",value:u.email,onChange:h,label:"Email Address",type:"email",fullWidth:!0,variant:"standard"}),(0,qE.jsx)(RM,{margin:"dense",id:"password",value:u.password,onChange:h,label:"Password",type:"password",fullWidth:!0,variant:"standard"}),(0,qE.jsx)("input",{className:"file-input",type:"file",onChange:e=>(e=>{const t=e.target;t.files?r(t.files[0]):r(null)})(e)})]}),(0,qE.jsxs)(aB,{children:[(0,qE.jsx)(DD,{variant:"contained",color:"primary",sx:{textDecoration:"none"},onClick:async()=>{await fl(bE,SE).then((async e=>(await DT(pI(_E,"users",e.user.uid),{timestamp:Vi.firestore.FieldValue.serverTimestamp(),displayName:e.user.displayName,avatar:e.user.photoURL,uid:e.user.uid}),await DT(pI(_E,"userchats",e.user.uid),{}),e))).catch((e=>{console.log(e)})),e.setIsOpen(!1)},children:"continue with google"}),(0,qE.jsx)(DD,{variant:"contained",color:"primary",onClick:async()=>{try{await bE.createUserWithEmailAndPassword(u.email,u.password);if(n){wE.ref("images/".concat(n.name)).put(n).on("state_changed",(t=>{c(!0);const n=Math.round(t.bytesTransferred/t.totalBytes*100);100==n?(o(100),a(10),e.setIsOpen(!1)):(o(n),a(n+10))}),(e=>{console.log(e)}),(()=>{wE.ref("images").child(n.name).getDownloadURL().then((async e=>{bE.currentUser&&(await fa(bE.currentUser,{displayName:u.firstName+" "+u.lastName,photoURL:e}),await DT(pI(_E,"users",bE.currentUser.uid),{timestamp:Vi.firestore.FieldValue.serverTimestamp(),displayName:u.firstName+" "+u.lastName,avatar:e,uid:bE.currentUser.uid}),await DT(pI(_E,"userchats",bE.currentUser.uid),{}))}))}))}}catch(t){console.log(t)}},children:"sign up"}),(0,qE.jsx)(DD,{variant:"contained",color:"primary",onClick:f,children:"Cancel"})]}),l&&(0,qE.jsx)(jM,{sx:{width:"100%"},children:(0,qE.jsx)(KB,{variant:"buffer",value:i,valueBuffer:s})})]})})},XB=e=>{let{setIsOpen:n,isOpen:r}=e;const[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(10),[h,f]=(0,t.useState)(!1);return(0,qE.jsx)(nB,{open:r,onClose:()=>{n(!1)},children:(0,qE.jsx)($E,{container:!0,spacing:3,className:"container_div",children:(0,qE.jsxs)($E,{container:!0,item:!0,xs:6,sm:6,md:12,className:"add_post",sx:{flexDirection:"column"},children:[(0,qE.jsx)("input",{className:"file-input",type:"file",onChange:e=>(e=>{const t=e.target;t.files?a(t.files[0]):a(null)})(e)}),(0,qE.jsx)(RM,{id:"post_title",label:"post title",value:i,onChange:e=>o(e.target.value)}),(0,qE.jsx)(DD,{variant:"contained",color:"primary",onClick:()=>{if(s){wE.ref("images/".concat(s.name)).put(s).on("state_changed",(e=>{f(!0);const t=Math.round(e.bytesTransferred/e.totalBytes*100);100==t?(c(100),d(10),n(!1)):(c(t),d(t+10))}),(e=>{console.log(e)}),(()=>{wE.ref("images").child(s.name).getDownloadURL().then((e=>{var t,n;_E.collection("posts").add({timestamp:Vi.firestore.FieldValue.serverTimestamp(),title:i,imgUrl:e,userName:null===(t=bE.currentUser)||void 0===t?void 0:t.displayName,avatar:null===(n=bE.currentUser)||void 0===n?void 0:n.photoURL,edited:!1})}))}))}},children:"add post"}),h&&(0,qE.jsx)(jM,{sx:{width:"100%"},children:(0,qE.jsx)(KB,{variant:"buffer",value:l,valueBuffer:u})})]})})})},YB=e=>{let{done:n}=e;const[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),{pathname:c}=En(),[u,d]=(0,t.useState)(!0),h=Lt((e=>e.authReducer)),f=Dt(),p=()=>{bE.signOut(),f(Tt.logout())};return(0,t.useEffect)((()=>{d("/chat"!==c&&"/chat/chatuid"!==c)}),[c]),u?(0,qE.jsxs)(t.Fragment,{children:[(0,qE.jsxs)($E,{container:!0,spacing:3,className:"app_headher",children:[(0,qE.jsx)($E,{item:!0,xs:3,sm:3,md:2,className:"app_image",children:(0,qE.jsx)("img",{className:"app_headerImage",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATEAAAClCAMAAAADOzq7AAAB71BMVEX///80NDI0NDMxMS8qKiguLiz///0mJiT//v8cHBwdHRr8//8bGxjv7+81NTMlJSX19fUjIyEXFxX4AADJycmsrKwiIiJ/PLDz8/Pl5eXr6+v28fgtLSrQ0NDc3NwWFhaTk5Ojo6N/f3+TS8hlZWVwcHCbSr+bm5uMjIzjEzO9MX/MJmKxOpbg4OCDg4LZHUrnAABJSUf4OwHCLXRQUFDIJ2i2NourPqC7u7vRIlffGD7cG0WXXME+Pj7PJFvs5fTsDSOkQq50dHT/7O3/8uj5bQCbSsGyh897OqeFN73hAADEKm6zOJGhRrIAAAD5IgDwCx35iwD5dgD3RAD3nAD3qQH4XQH5xgD5VQD40ADUsNDDg76uYa6iV66JUbKTaLavksbTv+HkwNe3W5KsK5VzJ6SggLvrxc6wXqSDS7PEcaLceYnBUITx2OZrGaDRiqegJpmYMarUbYf0xsrqDy/or7rup6TifYr6297kZHLJhbTTosfGqNqWStDnWWDbgJjgqMK6Q3rysaLPSGTbZm/0vZ7pSU7vYVT1zaPudlXxhlTpiIDrlZjHP2733aH3kADxn2T458XvvI3zr0Lukz/69Mb6uAXvwFe/bq/z2EX37KP+/+rxlW3tfGz67I3y2RXzwn312rXdTmD1uIXwpIbD9+QHAAATv0lEQVR4nO2c/39TZZbH7/fcm9smuWkSm7T5VpNJC/RLmAChTGhpRakuUEUUYRVFKqNrBaSMruKXHRnHXQsuM6MzK7s6O7N/6J4vz/2SNilaSwdfr+fzA6Rp7r3P877nnOec89xUUaSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKR+zrIVi/63+n7CAsHH3N0a0SMt27Vd17X60xKyXGsLpKDJylijuO1hZKaqRXvbR++qXBvtZ+78hX9++eWXfxXRK1FdfPW1ETTGvkqNlZNG0umUtjkMLZl0kuOpbR69qwILsy+9fvDyoUPHjp08+eTjXXos0MrKyhtz/Y2saCY1lOlsbxSWh0eXs9udxW7KVVbf3rPn4D/t24fIfvFkH2IE7Q27TyTLpjUtp6oqTHp7ZjIcx4Nz7Z8wkV2RDUFMufTML4EYIDvEyJ7si+yxlVdGrF7MqmlVNzOmBszS2yNWGIBj1Z8BMQB28+iBLmRA7KOPQmRLoBDZ0omRHo7ZLmtqrqQYOOn08LZGkk/jwU7mJ07ooQvs5crho3sDZL++cOHCU5t18c0VQe3Eypsjm85SKmtavK3YhrZ9YpNkY87219pdkqUsTk8zsl/ueevSyIZfhi/mbp0QzFbeUDYmbh1dM+vwPxMb3NZISkRsYLsr7a7Jdv9llpEdeHsVTM7FTNXl/6ICWxx5dYWRvbO6IS+reGAceXiR/OnE8jsxq4cpd3Fi9sj04cNHj17FnxR7ca6XRijpf+3E0glEdrE7LytABBpdwFdJdTvEalqn1arVdDzYaLTbxdJk4dFNy9z1NUQ2PX0VkCiX3jp48PLla9euXQctRbTyq1uQtSlz7JnvzHWZ2BgE/AGKP9uysWJZ03XTNFWS4XmO45RP1Xdujjus2fmJ2dkjR96FNXPk7Wf2RPKy7sRs6bHXwBVXyTFXXo16ZQrWSb1DL7dFrAGZr9otyINrOzjHHdXi0/NgZLPTUGMv3tmLKyYjO7QJ2eNL58EKOZa9Ej1FFqJYsoKv7G0RGy8nY4Zh6AzLZDnVHZviDuvGzPza2sTETde290aSjEOMLIILUtklsDKbAtmJaBxrmX4aZee2Q2yyWm1UxsdbhMyskepj2wtkqdJDXzl+M7Q8vzY/C2vmJ9N+XrbHR3bSR7Z08dVXIIK9aQsjW4lksSnMPJ0CvuwitmHKmwhMZivZQuTnCqe/3R/KZyvVTI/6H97INCrZyQ1vj5edcm93nuQT9VWqz+vNAmLL88vvue4irZihlVEsE0XmR08p1sgrAO6WZc0tbSCWgXpQTfI8IsQyp5K1rH/tyXrOaXUNOLVQTiaT5YhFjBMxrytC1ss5bGhAbtwY78bTNhw8vp5SiuONjLhOpQx2mu5RZw3W6ER6RhmuRE5Uc5pT9OlUs2yMiUww1Sp3KltY6m+GhmaWZ266ys2JI2EquyeoMcnKll7DCAaOeRHmg275TiTTxTAmAr+dC7MLeNuMd8T00kDDHKiF7mq3YsQnEq2YmBH8bFl5ld5S9XQVzuCla+HNr6Q57BmdwVgsFo9TxyN1Ct+KbYqA1qThn6hdxRPVhc3mdN041cBrx1R4xW2TKQ9ep8f6trWA2NDyzPuu8h4lGT4ytDLIMrgs/+ijW0DqIlblYFsXycYixGDueotvT8TGEKSqM7CymF4imPIYAVOTkd7OFM5KT0Qm2uGEAw6OUbKWDqw0m/ZXVbOVwH+b+G7GobvQVgqZar3TGfOrtWF944lEKQbpY8IYAxPk053CIDHs0evcwlbEhmYWFfdf12ZDZBDLXv/gw/MfXjh2/UnsZDx2a/WpJTQ2SMSe2uCVbbSxZk9iuoavCo5Go1XVuA9osszzLUdqIibWDN9gqjEvER8Vh/s1Z57QqJ6nD5i8XrSCmwR3T3PiMVPXPT+i1Q1xogGTT+SXYphwG1OKUuX7R32TbE4M7UHElI8pL/Nj2dU5/rW9+tR1srIlamYQsaVuYnSDTCbmdHmlINYyNTVGK2HgMNWkGk60i1j4TpFufHx82CrwlENidZP5W1apKVbY8AhVF3mKdoqNLJNGMxxopJRCTZxIRDJMhpBYh4/w8Ibykq1quR9ADJIMYWXvotO5FsYSRVk9GSYZvYjBNTRBKRXvQawN9aKTzeT8IaHGeOTpaKOC3oskrrVRGDfneWIacWEaJSIzQD6ap0uaXCG0sBOgQ25Hp/dbm5j9qDm+WcwmzoHd8tjGuKLl4eUHhD9oDya2vLY2wY55lXaMVi9dWh2BBMwaefkXWxLLlCl4ILGBHsRgkLEFNnbPX8aYmLEQTRvovdGAGDmuWFF4PVYHhGmQNWL8waMX6DAmlgKyZm1sqlIxw5hYKkdslx03zlmNFWdisOaQcyOxBqwBaLf+lTfrt0OnBbGZecr+jxz5BDfZPv03Cv9vrYKtjbzsd2V9YktdXcV6LMG2IYgNR4llBmDoNvuh54fudpxiVlfiw8SCgNvA2BITRmmPEjE2DZumJ+yEwmhwGJjTAF694Aimisjz/Hs1SOjjImMUxBL6aB3XL7xaU9ebkbWsF7HTp08zMUhlCdlnru2O3Nl7gPOyyx/Ch1avi4KJiT2+gRimCrSODUeJxfgu10z6HRGL+8SshI4euBUx8qW0n+LWzNA0ig6HQB7CZDw8bLCsgZHC++1IDCBH9PxLUdzzhiPExktxuBd4gyHMgpPHsjh0c0tipwUxQra2qigjRw8HScblD1zbuiWQCWKPL23oXC+UjU5ArEzjwfUHTDtf5thEdzoI3UqJQkhiUxwTdgGz8bSoa5AjCtNg6/MXkWFcn8VhbU/jco1yOw57ZFXh/OtorTHml8JF3KhUDAiDRKyhZJNaLoUX6N8J+O3p/Uzs8yFEtrZ2G3zys+lI9n/5kmLNXRepLBJ7fDMxpVhv2t02Jog1kmq61D0H/7fw+3JjI7EpH+kABzqhBpnocDjpAH4qGRKrmYIxmySPLB49LY/D4NEPM7Gm7hTJuY1xWIWBXmVLYr/bv3+/TwyRPX1DUa7MTkeQ7dsHH7twnVbMvsRYPWyso3MwJyMJWtKppG4asMRqDnimiP5jo+Qj4hMUnmIBUHZqNg1ys3hQP5gBkUI6ITxR04NIRLE+rAPQ1vVRWxCjaKpTuPWIu6nlMvQZs29/7nf7z+zfP/OEovx+iJAtL7rK7YnuGvOSopy/TjXmA4hx7hyxsWbJ0bjXuDCqRlrS40ljajKmq5pm6H6Vt9BFrBpLRNbWLmKUjJnBKos7fnwYzNSjtymTFnZFPhyeCO1H5+yRbQxyCTwaTdFcgGQ7mXoQsTNnzoTEhmYmFNudnejK/g9+ALH/GvfLfiSxVsUQflKPhG5YyvTksJLXYLKa7idlZDpGxZ+ZEV0p2Is5fKc8NRrhLMMHbcV8o6SNPPGa3DAXnIhsTBfD5dKB9q8wCpi1tofeSF7Zn9i5c2fOhMSGPnfd1PxEd8H0FgSya1yW/yBiqWCOzY6/YnFkEa5UN3L47jAVjjpbHqeRATGMaol410QFMQrl4eJPdSARA//zeFhoMAlhVxQewz298R7EDJv3KvAGJzkn24rYCy+cO7O/m9jTa9GCiYldphbjkw8gNrCBGBQsolvWihArlkX5OEzpNS9k3B4LiC10hXeeNxMrdC9++bhPDCpJEa4o2vcmhrauqz4x6pZTkKcuX6emY6itbhn5v3jhOCBDYpCXgdYsW5mIFEyYZFwFr7xMLcbrP5JYeOVWJFw3zbKYAdc76JewFnQRY5sMJko/9iRW9IlVk3pCPNFFJYJIl6e6iVE+H9gYEhOrBVfxZG+4WGxB7PhxsDImdpoKJsv9eLkL2QGI/Je4K/sjiDWYmF9KNkNiWS/IutiycL7jGOlDYhYl+aFXJvQg8pMbhj0OTDfxDIOeXvY/ThTFwd0B0aZyX0R+LgDEfemETRDqxohbMrmpBf/Fc88BMiD276cZ2Q3FvTE0H9SYiMx2lbe4kX19TvkBxJQIsYHCRmKpnO4Fzxlw46MGjjpajeZjXEgGlXueTszAedKqfwZ/iV0wQrMoDoReWe1aK0t0XiMlwNJd4vWIrJjdG4GLpSW1uQn+xbPPAjIkBnkZIvvYdZXPZ3xkuPX7qeuOiEb2ta2JFTYRC2yBiFGMX+CwL9ThcklPjtNk/Fnz+GMV8SlRQOc3wEcZvMQW06oTmAOvlRzUuhM7jhXijombyhXAFDfRcGj0BAg/BZcpRxp2IbHnjj/hIjFCNvO+7S7OD837jjmNhflVbmTvI2JQlm9JzIkMJ5hzy49LmbQZHQTGN7PeGvUGyUC5owZGgtW2FqyIDFCENSYm/IyN0Zxq6vHwPlgRc52M3gg+1kfPjqirNBfybj4t9jQSZbK8Rm6Tjd396itABjb2H5CXEbLPFVdZnJhZnp+YQDP7xLbd1QOi9395zlUuQF4GxHohK1DvzogQCwIIh+62ko/pGPYLbTre4uenTB3bVzSBNE2mmWzQ3MRjQiWHFlX2Le6I+akus4QzGNF0AO+P8CuyMbYjC/0txF3ktpj4XMbBfWZuKOFt5Iu1vIqyQXefR2RI7JyP7Es4tb0+MfM0QPvsCj5hdueA38mAyH8B8rI+xCjciBEwsaBnIHrSWR38D4CNpps0tjYHXwq4lGuS/ywknVT4EwIwEeAoLRjjvBfMsSjDCQKYYyfaCKESgWsyRkoR0YJV2kQafFoB2890ykSMbhGuFtRym4yHi09A7Ozzz3/17H0kFiBbp/7r+zduXlnEp31G7hwOdpiQ2LGTJ/sS0wIP4HwsSAK4T63HeBOjNqqauUo+1RZ7PAa6AKcaXqZUSwJV3grIlQig3uTlbxDtjehx8V2KaQY9gqA5XXtz1B+jgbQdfqAjCbZr1WNmKwjrWSdBgd8fIzbX1ThNi5qQmPPUDW/T5uXds4AMif0nJBnnBLLfPwGeCSsA/XvlMD8sRQXTiKv8BbL/673jGDccOH5kg1ycVBT5te4N+myMgTjv25geV+g1Sim8+KjesXFjJAF1Z3K82oxh+4OWiGY7C1ZC4TIRq2WnHD02NkVN6Q2blPh8lppcyDQ8r0FdWt2oVDsGeh2eyKhnGk6yQXHAj3GlU6aupy0xkgQuJ7VkmAeFxL755uzzX91T3D+8gNk/IYOsbB38FHvX1vu3o/uYB21b+fWhY8f6EMP7p4mVPEOvg2hsky9pOhlN5pQaKKHGEsI+8rRLp2ka+VOqY+LD14ah6+U2buHhvHNJvVwSm29mzNC8Fjnz5pqmBbanjXqG0cTNN3itGjHdxN4mNtnBwg3dwAcFI8/EFMH5xR3OD+DCY5iaU9h4YuXbbxDZXde+dxxyWWFlmMl+/uX6+vrt2fm1aPb/geKOQGIGxHo+cY1RSeNFRknFdVWLPNVaxcItKeBUBjzx8JMeK08Fhp/BnWDNEEcNNnNkAzmtyCfArRIT0lSbX+NGLNjzghlt3fpK1RzM7r0OmHS+I07EXzWopk06UVFp4fP0EdrhrkPRwTtslnvsr3/74ouA7I+uZf2Jsn/fylgzy/PRGvOZVZez/2ubH4VFdTXI20nHid6i8ZxjVPwxDVZrJvzayTUb0buYr+ccpxZs4Vc78JFWVhxUrOWcXJ2Rl+pwdhM3/qewQb2ZGFy/5fgXtBtwolzLN/hSDa8yKV70ogKRcAwu0Or1UO7XLxKye657D/Ky4y8E4Z+Bid4/W9lefIzxdUple38RAhdEJxzAYKFrKz61wcIHJ0v5TXHVLnQ9dzzc9bBiatCOfJAS1jptKvfuNEQvONh9Iv8nu1Do+7hA90gC3X/pJUB29s+ubXHB1AuZcMw7tmWtUvb/l97EcPOr747Cw5Bdi2l6YqvezM7L+q+X0MrO3nUt94veVubXmHdGFNfmTbnzPb+fBGuYnt7NJ39TTUM1OupWnYadl/vtS2xlXwOyeyKWRUMZQsPN3+mbmG+8SyvmnhGrF7FsbjTey/MfloZhNU3WM1v2ZnZe1v3vGdk3EMps6/4Xf/9v1P+Qbvt6b/0Kfbfmk8OixdjTKxdO1Qpbf51wR1XQAFhN2W1itvsdEQNkdy2l51eOSK4N1eZnIsmA6rJnyj+51Vdad1oFXdcMiJr4RMeuErMgkjGys3++5/YnpiyuHznC2f+nuze8/hpOmCoVk0hsdDe90vb9EpCd/eNf//ce6gnQ+1HdWP+bv2IefXf3RreFWgZkv4OwAmFzolc+9rBkuZb99fd+LIOC6dlwwZyZmRma8bXs52Xv9vuG5a4KH8eDmsfiAjbYHtgF4ReQ3PvomLRiUiejb17GT/64j8CXubE4hDIfo2Y1Fj4DtFuylPtB+PeRbcjL/MdYDl95JIBhrqyLbXGsxDd3sR6u8Hv197/7nv0SHfPZ58KqPJKYzf/tpg1J2SNADJ/f9Psi2BiMb9rxebhybRvSCuvrb78D/RX1d9D/kb4MtH5jEftl9iMAjDzR35DS9C0eKHxIoj/+gX/M4kGyySUfASODkt9PwfBJ7rBxKdVHELv8nU1MLtKP/Bd//+GCjCJ49HW3+yU/T+EW7ii1uLDtK03sB2g8DpVRXklVHQD2s/gzLP9w1R3dTMfSMdWUwH6g2gn8umGyXNv4HUupviplK5XsI//HHqSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkfq76f+RyjITT19OwAAAAAElFTkSuQmCC",alt:"instagram logo",width:150,height:200})}),(0,qE.jsx)($E,{item:!0,xs:3,sm:3,md:5,className:"app_text"}),(0,qE.jsxs)($E,{container:!0,item:!0,xs:6,sm:6,md:5,sx:{justifyContent:"center",alignItems:"center"},className:"app_text",children:[h.isLoggedIn&&n&&(0,qE.jsxs)(qE.Fragment,{children:[(0,qE.jsx)(DD,{sx:{mr:4},variant:"contained",color:"primary",onClick:p,children:"log out"}),(0,qE.jsx)(DD,{variant:"contained",color:"primary",onClick:()=>l(!0),children:"add post"})]}),!h.isLoggedIn&&n&&(0,qE.jsxs)(qE.Fragment,{children:[(0,qE.jsx)(DD,{sx:{mr:4},variant:"contained",color:"primary",onClick:()=>i(!0),children:"log in"}),(0,qE.jsx)(DD,{variant:"contained",color:"primary",onClick:()=>s(!0),children:"sign up"})]})]})]}),r&&(0,qE.jsx)(CB,{setIsOpen:i,isOpen:r}),o&&(0,qE.jsx)(QB,{setIsOpen:s,isOpen:o}),a&&(0,qE.jsx)(XB,{setIsOpen:l,isOpen:a})]}):null},JB=async e=>{const t=pI(_E,"users",e),n=await OT(t);if(n.exists()){var r,i,o,s;return{displayName:null===(r=n.data())||void 0===r?void 0:r.displayName,photourl:null===(i=n.data())||void 0===i?void 0:i.avatar,uid:null===(o=n.data())||void 0===o?void 0:o.uid,timestamp:null===(s=n.data())||void 0===s?void 0:s.timestamp}}return null},$B=()=>{const e=Dt(),[n,r]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const t=localStorage.getItem("userUid"),n=bE.onAuthStateChanged((n=>{n?(e(Tt.login(n)),(async()=>{if(t){const n=await JB(t);n&&e(Pt.selectedUser(n))}})(),r(!0)):r(!0)}));return n}),[]),n},eV=e=>{const n=Dt(),[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)("light");return(0,t.useEffect)((()=>{var e;const t=_E.collection("users").doc(null===(e=bE.currentUser)||void 0===e?void 0:e.uid).onSnapshot((e=>{var t,r,o;null!==(t=e.data())&&void 0!==t&&t.theme?(s(null===(r=e.data())||void 0===r?void 0:r.theme),i(!0),n(Nt.setTheme(null===(o=e.data())||void 0===o?void 0:o.theme))):i(!0)}));return t}),[e]),{done:r,theme:o}};const tV=t.createContext(null);function nV(){return t.useContext(tV)}const rV="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const iV=function(e){const{children:n,theme:r}=e,i=nV(),o=t.useMemo((()=>{const e=null===i?r:function(e,t){if("function"===typeof t)return t(e);return(0,CE.Z)({},e,t)}(i,r);return null!=e&&(e[rV]=null!==i),e}),[r,i]);return(0,qE.jsx)(tV.Provider,{value:o,children:n})},oV={};function sV(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo((()=>{const t=e&&n[e]||n;if("function"===typeof r){const o=r(t),s=e?(0,CE.Z)({},n,{[e]:o}):o;return i?()=>s:s}return e?(0,CE.Z)({},n,{[e]:r}):(0,CE.Z)({},n,r)}),[e,n,r,i])}const aV=function(e){const{children:t,theme:n,themeId:r}=e,i=(0,uz.Z)(oV),o=nV()||oV,s=sV(r,i,n),a=sV(r,o,n,!0);return(0,qE.jsx)(iV,{theme:a,children:(0,qE.jsx)(UP.T.Provider,{value:s,children:t})})},lV=["theme"];function cV(e){let{theme:t}=e,n=(0,xE.Z)(e,lV);const r=t[zE.Z];return(0,qE.jsx)(aV,(0,CE.Z)({},n,{themeId:r?zE.Z:void 0,theme:r||t}))}var uV=n(427),dV=n(5519);const hV={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},fV=e=>({palette:{mode:e,..."light"===e?{primary:{main:uV.Z[400]},userChat:{active:"#dce1f9",noActive:"white",hover:"#434343"},message:{iDidntSend:"#e8e8e8",iSendIt:"#cfd6f7"},divider:"#add8e6",text:{primary:dV.Z[900],secondary:dV.Z[800]}}:{primary:{main:uV.Z[900]},divider:"#212123",userChat:{active:"#20284d",noActive:dV.Z[200],hover:"#434343"},message:{iDidntSend:"#434343",iSendIt:"#20284d"},background:{default:hV[900],paper:hV[900]},text:{primary:"#nnnnnn",secondary:dV.Z[500],hover:"white"}}}}),pV=(0,MM.Z)(fV("dark")),mV=(0,MM.Z)(fV("light")),gV=e=>{let{children:t}=e;const n=$B(),r=eV(n);return n&&r.done?(0,qE.jsxs)(cV,{theme:"light"===r.theme?mV:pV,children:[(0,qE.jsx)(YB,{done:n}),(0,qE.jsx)("div",{children:t})]}):(0,qE.jsx)(Fz,{})};i.createRoot(document.getElementById("root")).render((0,qE.jsxs)(k,{store:Mt,children:[" ",(0,qE.jsx)(Kn,{basename:"/social-app-react",children:(0,qE.jsx)(gV,{children:(0,qE.jsx)(qZ,{})})})]}))})()})();
//# sourceMappingURL=main.268d075c.js.map