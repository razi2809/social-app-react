/*! For license information please see main.6f5b4d3d.js.LICENSE.txt */
(()=>{var e={3361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function _(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function S(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function E(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function k(){return u(w,y)}function I(){return y}function T(e,t){return d(w,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return m=g=1,v=h(w=e),y=0,[]}function P(e){return w="",e}function A(e){return a(T(y-1,D(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(b=k())&&b<33;)E();return C(e)>2||C(b)>3?"":" "}function O(e,t){for(;--t&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,I()+(t<6&&32==k()&&32==E()))}function D(e){for(;E();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&D(b);break;case 40:41===e&&D(e);break;case 92:E()}return y}function M(e,t){for(;E()&&e+b!==57&&(e+b!==84||47!==k()););return"/*"+T(t,y-1)+"*"+o(47===e?e:E())}function L(e){for(;!C(k());)E();return T(e,y)}var F="-ms-",j="-moz-",U="-webkit-",z="comm",Z="rule",V="decl",B="@keyframes";function W(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function q(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case V:return e.return=e.return||e.value;case z:return"";case B:return e.return=e.value+"{"+W(e.children,r)+"}";case Z:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return P(K("",null,null,null,[""],e=R(e),0,[0],e))}function K(e,t,n,r,i,s,a,d,f){for(var m=0,g=0,v=a,y=0,b=0,w=0,_=1,S=1,T=1,C=0,R="",P=i,D=s,F=r,j=R;S;)switch(w=C,C=E()){case 40:if(108!=w&&58==u(j,v-1)){-1!=c(j+=l(A(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:j+=A(C);break;case 9:case 10:case 13:case 32:j+=N(w);break;case 92:j+=O(I()-1,7);continue;case 47:switch(k()){case 42:case 47:p(Q(M(E(),I()),t,n),f);break;default:j+="/"}break;case 123*_:d[m++]=h(j)*T;case 125*_:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+g:-1==T&&(j=l(j,/\f/g,"")),b>0&&h(j)-v&&p(b>32?X(j+";",r,n,v-1):X(l(j," ","")+";",r,n,v-2),f);break;case 59:j+=";";default:if(p(F=G(j,t,n,m,g,i,d,R,P=[],D=[],v),s),123===C)if(0===g)K(j,t,F,F,P,s,v,d,D);else switch(99===y&&110===u(j,3)?100:y){case 100:case 108:case 109:case 115:K(e,F,F,r&&p(G(e,F,F,0,0,i,d,R,i,P=[],v),D),i,D,v,d,r?P:D);break;default:K(j,F,F,F,[""],D,0,d,D)}}m=g=b=0,_=T=1,R=j="",v=a;break;case 58:v=1+h(j),b=w;default:if(_<1)if(123==C)--_;else if(125==C&&0==_++&&125==x())continue;switch(j+=o(C),C*_){case 38:T=g>0?1:(j+="\f",-1);break;case 44:d[m++]=(h(j)-1)*T,T=1;break;case 64:45===k()&&(j+=A(E())),y=k(),g=v=h(R=j+=L(I())),C++;break;case 45:45===w&&2==h(j)&&(_=0)}}return s}function G(e,t,n,r,o,s,c,u,h,p,m){for(var g=o-1,v=0===o?s:[""],y=f(v),b=0,w=0,S=0;b<r;++b)for(var x=0,E=d(e,g+1,g=i(w=c[b])),k=e;x<y;++x)(k=a(w>0?v[x]+" "+E:l(E,/&\f/g,v[x])))&&(h[S++]=k);return _(e,t,n,0===o?Z:u,h,p,m)}function Q(e,t,n){return _(e,t,n,z,o(b),d(e,2,-2),0)}function X(e,t,n,r){return _(e,t,n,V,d(e,0,r),d(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(t[n]=1),!C(i);)E();return T(e,y)},J=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=A(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=E());return e}(R(e),t))},$=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$.get(n))&&!r){$.set(e,!0);for(var i=[],o=J(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+j+e+F+e+e;case 6828:case 4268:return U+e+F+e+e;case 6165:return U+e+F+"flex-"+e+e;case 5187:return U+e+l(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return U+e+F+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return U+e+F+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+F+l(e,"shrink","negative")+e;case 5292:return U+e+F+l(e,"basis","preferred-size")+e;case 6060:return U+"box-"+l(e,"-grow","")+U+e+F+l(e,"grow","positive")+e;case 4554:return U+l(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+j+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+U)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===u(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case V:e.return=ne(e.value,e.length);break;case B:return W([S(e,{value:l(e.value,"@","@"+U)})],r);case Z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+U+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[q,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(i,d));s=function(e,t,n,r){c=n,W(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(l),p}},9797:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:()=>r})},2564:(e,t,n)=>{"use strict";n.d(t,{T:()=>l,i:()=>o,w:()=>a});var r=n(2791),i=n(3361),o=(n(9140),n(2561),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null);s.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(a=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.Z)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var l=r.createContext({})},9140:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(9797),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.Z)((function(e){return a(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":l(s)&&(r+=c(o)+":"+u(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":r+=c(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(o)+":"+u(o,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),r&&(i+=o[s]);f.lastIndex=0;for(var a,l="";null!==(a=f.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},2561:(e,t,n)=>{"use strict";var r;n.d(t,{L:()=>s,j:()=>a});var i=n(2791),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},5438:(e,t,n)=>{"use strict";n.d(t,{My:()=>o,fp:()=>r,hC:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},9161:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Comment");t.Z=s},7247:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},1286:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},5649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},7107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(7462),i=n(3366),o=n(6189),s=n(2466),a=n(5080),l=n(7416),c=n(104);var u=n(2065);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.$n)(e.main,i):"dark"===t&&(e.dark=(0,u._j)(e.main,o)))}function x(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,i.Z)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),x=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(t),E=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(t),k=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),I=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function C(e){return(0,u.mi)(e,_.text.primary)>=n?_.text.primary:w.text.primary}const R=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.Z)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return S(t,"light",s,a),S(t,"dark",l,a),t.contrastText||(t.contrastText=C(t.main)),t},P={dark:_,light:w};return(0,s.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:t,primary:R({color:c,name:"primary"}),secondary:R({color:x,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:E,name:"error"}),warning:R({color:T,name:"warning"}),info:R({color:k,name:"info"}),success:R({color:I,name:"success"}),grey:h,contrastThreshold:n,getContrastText:C,augmentColor:R,tonalOffset:a},P[t]),l)}const E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const k={textTransform:"uppercase"},I='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=I,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,i.Z)(n,E);const g=a/14,v=p||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,s)=>{return(0,r.Z)({fontFamily:o,fontWeight:e,fontSize:v(t),lineHeight:n},o===I?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},s,f);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,k),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,k),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.Z)((0,r.Z)({htmlFontSize:h,pxToRem:v,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const R=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],A={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},N={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(e){return"".concat(Math.round(e),"ms")}function D(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function M(e){const t=(0,r.Z)({},A,e.easing),n=(0,r.Z)({},N,e.duration);return(0,r.Z)({getAutoHeightDuration:D,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,i.Z)(r,P);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof o?o:O(o)," ").concat(s," ").concat("string"===typeof a?a:O(a)))).join(",")}},e,{easing:t,duration:n})}const L={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,i.Z)(e,F);if(e.vars)throw new Error((0,o.Z)(18));const f=x(n),p=(0,a.Z)(e);let m=(0,s.Z)(p,{mixins:(g=p.breakpoints,v=t,(0,r.Z)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:f,shadows:R.slice(),typography:T(f,d),transitions:M(u),zIndex:(0,r.Z)({},L)});var g,v;m=(0,s.Z)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,s.Z)(e,t)),m),m.unstable_sxConfig=(0,r.Z)({},l.Z,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},m}const U=j},6482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(7107).Z)()},988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="$$material"},7630:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>T,FO:()=>E,Dz:()=>k});var r=n(3366),i=n(7462),o=n(2421),s=n(2466),a=n(5080),l=n(1122);const c=["variant"];function u(e){return 0===e.length}function d(e){const{variant:t}=e,n=(0,r.Z)(e,c);let i=t||"";return Object.keys(n).sort().forEach((t=>{i+="color"===t?u(i)?e[t]:(0,l.Z)(e[t]):"".concat(u(i)?t:(0,l.Z)(t)).concat((0,l.Z)(e[t].toString()))})),i}var h=n(104);const f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const p=e=>{const t={};return e&&e.forEach((e=>{const n=d(e.props);t[n]=e.style})),t},m=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let o=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)})),o&&i.push(t[d(n.props)])})),i};function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const v=(0,a.Z)(),y=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function b(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function w(e){return e?(t,n)=>n[e]:null}const _=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:o}=e;const s=t((0,i.Z)({},n,{theme:b((0,i.Z)({},n,{defaultTheme:r,themeId:o}))}));let a;if(s&&s.variants&&(a=s.variants,delete s.variants),a){return[s,...m(n,p(a),a)]}return s};var S=n(6482),x=n(988);const E=e=>g(e)&&"classes"!==e,k=g,I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=v,rootShouldForwardProp:a=g,slotShouldForwardProp:l=g}=e,c=e=>(0,h.Z)((0,i.Z)({},e,{theme:b((0,i.Z)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Co)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:h,skipVariantsResolver:v,skipSx:S,overridesResolver:x=w(y(h))}=u,E=(0,r.Z)(u,f),k=void 0!==v?v:h&&"Root"!==h&&"root"!==h||!1,I=S||!1;let T=g;"Root"===h||"root"===h?T=a:h?T=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(T=void 0);const C=(0,o.ZP)(e,(0,i.Z)({shouldForwardProp:T,label:undefined},E)),R=function(r){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const u=a?a.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>_({styledArg:e,props:r,defaultTheme:n,themeId:t});if((0,s.P)(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return m(n,p(t),t).forEach((e=>{r=(0,s.Z)(r,e)})),r}),n}return e})):[];let h=r;if((0,s.P)(r)){let e;r&&r.variants&&(e=r.variants,delete h.variants,h=t=>{let n=r;return m(t,p(e),e).forEach((e=>{n=(0,s.Z)(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(h=e=>_({styledArg:r,props:e,defaultTheme:n,themeId:t}));d&&x&&u.push((e=>{const r=b((0,i.Z)({},e,{defaultTheme:n,themeId:t})),o=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(d,r);if(o){const t={};return Object.entries(o).forEach((n=>{let[o,s]=n;t[o]="function"===typeof s?s((0,i.Z)({},e,{theme:r})):s})),x(e,t)}return null})),d&&!k&&u.push((e=>{const r=b((0,i.Z)({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return m(e,t,o)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),p(n)})(d,r),r,d)})),I||u.push(c);const f=u.length-a.length;if(Array.isArray(r)&&f>0){const e=new Array(f).fill("");h=[...r,...e],h.raw=[...r.raw,...e]}const g=C(h,...u);return e.muiName&&(g.muiName=e.muiName),g};return C.withConfig&&(R.withConfig=C.withConfig),R}}({themeId:x.Z,defaultTheme:S.Z,rootShouldForwardProp:E}),T=I},1046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5735);var i=n(418);function o(e){let{props:t,name:n,defaultTheme:o,themeId:s}=e,a=(0,i.Z)(o);s&&(a=a[s]||a);const l=function(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:a,name:n,props:t});return l}var s=n(6482),a=n(988);function l(e){let{props:t,name:n}=e;return o({props:t,name:n,defaultTheme:s.Z,themeId:a.Z})}},4036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(1122).Z},9201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(7462),i=n(2791),o=n(3366),s=n(3733),a=n(4419),l=n(4036),c=n(1046),u=n(7630),d=n(5878),h=n(1217);function f(e){return(0,h.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.Z)(n.color))],t["fontSize".concat((0,l.Z)(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:_,viewBox:S="0 0 24 24"}=n,x=(0,o.Z)(n,m),E=i.isValidElement(u)&&"svg"===u.type,k=(0,r.Z)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:S,hasSvgAsChild:E}),I={};w||(I.viewBox=S);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(n))]};return(0,a.Z)(i,f,r)})(k);return(0,p.jsxs)(g,(0,r.Z)({as:v,className:(0,s.Z)(T.root,d),focusable:"false",color:b,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},I,x,E&&u.props,{ownerState:k,children:[E?u.props.children:u,_?(0,p.jsx)("title",{children:_}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,i){return(0,p.jsx)(y,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=y.muiName,i.memo(i.forwardRef(n))}},3199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2254).Z},4421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i.Z,createChainedFunction:()=>o,createSvgIcon:()=>s.Z,debounce:()=>a.Z,deprecatedPropType:()=>l,isMuiElement:()=>c.Z,ownerDocument:()=>u.Z,ownerWindow:()=>d.Z,requirePropFactory:()=>h,setRef:()=>f,unstable_ClassNameGenerator:()=>_,unstable_useEnhancedEffect:()=>p.Z,unstable_useId:()=>m.Z,unsupportedProp:()=>g,useControlled:()=>v.Z,useEventCallback:()=>y.Z,useForkRef:()=>b.Z,useIsFocusVisible:()=>w.Z});var r=n(5902),i=n(4036);const o=n(8949).Z;var s=n(9201),a=n(3199);const l=function(e,t){return()=>null};var c=n(9103),u=n(8301),d=n(7602);n(7462);const h=function(e,t){return()=>null};const f=n(2971).Z;var p=n(162),m=n(7384);const g=function(e,t,n,r,i){return null};var v=n(5158),y=n(9683),b=n(2071),w=n(3031);const _={configure:e=>{r.Z.configure(e)}}},9103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},8301:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(4913).Z},7602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(5202).Z},5158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2876).Z},9683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(7054).Z},2071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(6117).Z},7384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(8252).Z},3031:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(2791);let i,o=!0,s=!1;const a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function u(){"hidden"===this.visibilityState&&s&&(o=!0)}function d(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!a[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const h=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,window.clearTimeout(i),i=window.setTimeout((()=>{s=!1}),100),t.current=!1,!0)},ref:e}}},2421:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>y,Co:()=>b});var r=n(7462),i=n(2791),o=n(9797),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.Z)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(2564),c=n(5438),u=n(9140),d=n(2561),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.hC)(t,n,r),(0,d.L)((function(){return(0,c.My)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),v=!f("as");return function(){var y=arguments,b=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var w=y.length,_=1;_<w;_++)b.push(y[_],y[0][_])}var S=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.fp)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var w=(0,u.O)(b.concat(a),t.registered,m);o+=t.key+"-"+w.name,void 0!==s&&(o+=" "+s);var _=v&&void 0===h?p(r):f,S={};for(var x in e)v&&"as"===x||_(x)&&(S[x]=e[x]);return S.className=o,S.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:w,isStringTag:"string"===typeof r}),i.createElement(r,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(t,i){return e(t,(0,r.Z)({},n,i,{shouldForwardProp:m(S,i,!0)})).apply(void 0,b)},S}}.bind();function y(e,t){return v(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));const b=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},1184:(e,t,n)=>{"use strict";n.d(t,{L7:()=>a,P$:()=>l,VO:()=>r,W8:()=>s,k9:()=>o});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(r[e],"px)")};function o(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const e=o.breakpoints||i;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=o.breakpoints||i;return Object.keys(t).reduce(((i,o)=>{if(-1!==Object.keys(e.values||r).indexOf(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function l(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},2065:(e,t,n)=>{"use strict";n.d(t,{$n:()=>d,Fq:()=>c,_j:()=>u,mi:()=>l});var r=n(6189);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));let i,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),i=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else s=s.split(",");return s=s.map((e=>parseFloat(e))),{type:n,values:s,colorSpace:i}}function s(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function a(e){let t="hsl"===(e=o(e)).type||"hsla"===e.type?o(function(e){e=o(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)};let c="rgb";const u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),s({type:c,values:u})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){const n=a(e),r=a(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,s(e)}function u(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return s(e)}},5080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7462),i=n(3366),o=n(2466);const s=["values","unit","step"],a=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.Z)({},e,{[t.key]:t.val})),{})};const l={borderRadius:4};var c=n(5682);var u=n(104),d=n(7416);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.Z)(e,h),g=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,l=(0,i.Z)(e,s),c=a(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-o/100).concat(n,")")}function f(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-o/100).concat(n,")")}return(0,r.Z)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(f);let y=(0,o.Z)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},n),spacing:v,shape:(0,r.Z)({},l,p)},m);for(var b=arguments.length,w=new Array(b>1?b-1:0),_=1;_<b;_++)w[_-1]=arguments[_];return y=w.reduce(((e,t)=>(0,o.Z)(e,t)),y),y.unstable_sxConfig=(0,r.Z)({},d.Z,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},y}},8247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2466);const i=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:(e,t,n)=>{"use strict";n.d(t,{hB:()=>p,eI:()=>f,NA:()=>m,e6:()=>y,o3:()=>b});var r=n(1184),i=n(8529),o=n(8247);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const s=null!=(o=(0,i.DW)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.k9)(e,s,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.Z,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},8529:(e,t,n)=>{"use strict";n.d(t,{DW:()=>o,Jq:()=>s,ZP:()=>a});var r=n(1122),i=n(1184);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.k9)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.Z)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(5682),i=n(8529),o=n(8247);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.Z)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.ZP)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),_=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r.NA)(t,e)});return(0,a.k9)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,f,p,m,g,v,y,b,S,w,_);const x=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.eI)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.gap,n)}return null};x.propTypes={},x.filterProps=["gap"];const E=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.eI)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.columnGap,n)}return null};E.propTypes={},E.filterProps=["columnGap"];const k=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.eI)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.rowGap,n)}return null};k.propTypes={},k.filterProps=["rowGap"];s(x,E,k,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function I(e,t){return"grey"===t?t:e}s((0,i.ZP)({prop:"color",themeKey:"palette",transform:I}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:I}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:I}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const C=(0,i.ZP)({prop:"width",transform:T}),R=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.VO[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:T(t)}};return(0,a.k9)(e,e.maxWidth,t)}return null};R.filterProps=["maxWidth"];const P=(0,i.ZP)({prop:"minWidth",transform:T}),A=(0,i.ZP)({prop:"height",transform:T}),N=(0,i.ZP)({prop:"maxHeight",transform:T}),O=(0,i.ZP)({prop:"minHeight",transform:T}),D=((0,i.ZP)({prop:"size",cssProperty:"width",transform:T}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:T}),s(C,R,P,A,N,O,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:I},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:I},backgroundColor:{themeKey:"palette",transform:I},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:k},columnGap:{style:E},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:R},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(1122),i=n(8247),o=n(8529),s=n(1184),a=n(7416);const l=function(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.DW)(n,u)||{};if(h)return h(a);return(0,s.k9)(a,t,(t=>{let n=(0,o.Jq)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(f,d,"".concat(e).concat("default"===t?"":(0,r.Z)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.Z;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.W8)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.Z)(u,e(n,o,l,c));else{const e=(0,s.k9)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.Z)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.Z)(u,e(n,o,l,c))})),(0,s.L7)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}();l.filterProps=["sx"];const c=l},418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5080),i=n(9120);const o=(0,r.Z)();const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.Z)(e)}},9120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2564);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},1122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:()=>r})},8949:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{Z:()=>r})},2254:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{Z:()=>r})},2466:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,Z:()=>s});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r])})),a}},6189:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},1217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5902);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.Z.generate(e),"-").concat(t)}},5878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1217);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=(0,r.Z)(e,t,n)})),i}},4913:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},5202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4913);function i(e){return(0,r.Z)(e).defaultView||window}},5735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7462);function i(e,t){const n=(0,r.Z)({},t);return Object.keys(e).forEach((o=>{if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.Z)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},a=t[o];n[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[o]=(0,r.Z)({},a),Object.keys(s).forEach((e=>{n[o][e]=i(s[e],a[e])}))):n[o]=a:n[o]=s}else void 0===n[o]&&(n[o]=e[o])})),n}},2971:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:()=>r})},2876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},7054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2876);const o=function(e){const t=r.useRef(e);return(0,i.Z)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},6117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2971);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,i.Z)(t,e)}))}),t)}},8252:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>a});var i=n(2791);let o=0;const s=(r||(r=n.t(i,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(o+=1,n("mui-".concat(o)))}),[t]),r}(e)}},2110:(e,t,n)=>{"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},8309:(e,t,n)=>{"use strict";e.exports=n(746)},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5585);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function Z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case k:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ie(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ee)&&(Re(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Le=!0,Fe=e}};function Ze(e,t,n,r,i,o,s,a,l){Le=!1,Fe=null,Me.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,xt,Et,kt,It=!1,Tt=[],Ct=null,Rt=null,Pt=null,At=new Map,Nt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==Pt&&jt(Pt)&&(Pt=null),At.forEach(Ut),Nt.forEach(Ut)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Zt(t,e)}if(0<Tt.length){Zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Zt(Ct,e),null!==Rt&&Zt(Rt,e),null!==Pt&&Zt(Pt,e),At.forEach(t),Nt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Bt=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=bt,o=Bt.transition;Bt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Bt.transition=o}}function Ht(e,t,n,r){var i=bt,o=Bt.transition;Bt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Bt.transition=o}}function Kt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return En}var In=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(In),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(An),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){jr(e,0)}function Qn(e){if(K(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];qn(t,Kn,e,_e(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},xr={},Er={};function kr(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=kr("animationend"),Tr=kr("animationiteration"),Cr=kr("animationstart"),Rr=kr("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Ir,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ze.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Zr]){e[Zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Xt(t)){case 1:var i=qt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=o,i=_e(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Ir:case Tr:case Cr:l=vn;break;case Rr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ne(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(s,a,l,u,!1),null!==c&&null!==d&&Gr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if(Yn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),$t=Jt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Ne(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,o))&&s.unshift(qr(n,l,a)):i||null!=(l=Ne(n,o))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],xi=-1;function Ei(e){return{current:e}}function ki(e){0>xi||(e.current=Si[xi],Si[xi]=null,xi--)}function Ii(e,t){xi++,Si[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ri=Ei(!1),Pi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ri),ki(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(o(168));Ii(Ci,t),Ii(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,B(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ci.current,Ii(Ci,e),Ii(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ri),ki(Ci),Ii(Ci,e)):ki(Ri),Ii(Ri,n)}var ji=null,Ui=!1,zi=!1;function Zi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!zi&&null!==ji){zi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke($e,Vi),i}finally{bt=t,zi=!1}}return null}var Bi=[],Wi=0,qi=null,Hi=0,Ki=[],Gi=0,Qi=null,Xi=1,Yi="";function Ji(e,t){Bi[Wi++]=Hi,Bi[Wi++]=qi,qi=e,Hi=t}function $i(e,t,n){Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Qi=e;var r=Xi;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Xi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function to(e){for(;e===qi;)qi=Bi[--Wi],Bi[Wi]=null,Hi=Bi[--Wi],Bi[Wi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function xo(e){var t=yo.current;ki(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var To=null;function Co(e){null===To?To=[e]:To.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ao=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function Bo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ni(t)?Pi:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ni(t)?Pi:Ci.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Ko(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=Ko(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(s,r.mode,l)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(M(s))return g(r,o,s,l);Go(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Yo=Xo(!0),Jo=Xo(!1),$o={},es=Ei($o),ts=Ei($o),ns=Ei($o);function rs(e){if(e===$o)throw Error(o(174));return e}function is(e,t){switch(Ii(ns,t),Ii(ts,e),Ii(es,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ii(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ii(ts,e),Ii(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Ei(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,_s=0;function Ss(){throw Error(o(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Es(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Ts(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Cs(e,t){return"function"===typeof t?t(e):t}function Rs(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function As(){}function Ns(e,t){var n=ms,r=Ts(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ws(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Us(9,Ds.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ps)||Os(n,t,i)}return i}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Fs(e)}function Ms(e,t,n){return n((function(){Ls(t)&&Fs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function js(e){var t=Is();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return Ts().memoizedState}function Zs(e,t,n,r){var i=Is();ms.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===r?null:r)}function Vs(e,t,n,r){var i=Ts();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&xs(r,s.deps))return void(i.memoizedState=Us(t,n,o,r))}ms.flags|=e,i.memoizedState=Us(1|t,n,o,r)}function Bs(e,t){return Zs(8390656,8,e,t)}function Ws(e,t){return Vs(2048,8,e,t)}function qs(e,t){return Vs(4,2,e,t)}function Hs(e,t){return Vs(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Xs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function $s(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Ts().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ro(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Co(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ro(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Io,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:Io,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Bs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zs(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:js,useDebugValue:Qs,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=$s.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Is();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ps)||Os(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Bs(Ms.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Is(),t=Pl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Io,useCallback:Xs,useContext:Io,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:qs,useLayoutEffect:Hs,useMemo:Ys,useReducer:Rs,useRef:zs,useState:function(){return Rs(Cs)},useDebugValue:Qs,useDeferredValue:function(e){return Js(Ts(),gs.memoizedState,e)},useTransition:function(){return[Rs(Cs)[0],Ts().memoizedState]},useMutableSource:As,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Io,useCallback:Xs,useContext:Io,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:qs,useLayoutEffect:Hs,useMemo:Ys,useReducer:Ps,useRef:zs,useState:function(){return Ps(Cs)},useDebugValue:Qs,useDeferredValue:function(e){var t=Ts();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Ps(Cs)[0],Ts().memoizedState]},useMutableSource:As,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),ha(0,t)},n}function ma(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Yo(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Es(e,t,n,r,o,i),n=ks(),null===e||wa?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Dl,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Dl,Ol),Ol|=r;return _a(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Ni(n)?Pi:Ci.current;return o=Ai(t,o),ko(t,i),n=Es(e,t,n,r,o,i),r=ks(),null===e||wa?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ca(e,t,n,r,i){if(Ni(n)){var o=!0;Li(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Ai(t,c=Ni(n)?Pi:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&qo(t,s,r,c),Ao=!1;var h=t.memoizedState;s.state=h,jo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||Ao?("function"===typeof u&&(Zo(t,n,u,r),l=t.memoizedState),(a=Ao||Bo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Ai(t,l=Ni(n)?Pi:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&qo(t,s,r,l),Ao=!1,h=t.memoizedState,s.state=h,jo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ri.current||Ao?("function"===typeof f&&(Zo(t,n,f,r),p=t.memoizedState),(c=Ao||Bo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,o,i)}function Ra(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),qa(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Aa(e,t,n,r,i){return po(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Na,Oa,Da,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Po(e,i),rc(r,e,i,-1))}return gc(),za(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Xi=e.id,Yi=e.overflow,Qi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mo(r),Yo(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n,t);else if(19===e.tag)Za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Oi(),Ka(t),null;case 3:return r=t.stateNode,os(),ki(Ri),ki(Ci),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Oa(e,t),Ka(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),$(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return os(),Oa(e,t),null===e&&Vr(t.stateNode.containerInfo),Ka(t),null;case 10:return xo(t.type._context),Ka(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=ls.current,Ii(ls,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ri),ki(Ci),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return xo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ya&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fl(e,t,n),Ya=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,gl(t,e),Ya=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($a=e,d=e.child;null!==d;){for(h=$a=d;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,$a=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$a=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=s,(Ya=l)&&!c)for($a=i;null!==$a;)l=(s=$a).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,$a=l):xl(i);for(;null!==o;)$a=o,wl(o,t,n),o=o.sibling;$a=i,Xa=a,Ya=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):_l(e)}}function _l(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function Sl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function xl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var El,kl=Math.ceil,Il=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Rl=0,Pl=null,Al=null,Nl=0,Ol=0,Dl=Ei(0),Ml=0,Ll=null,Fl=0,jl=0,Ul=0,zl=null,Zl=null,Vl=0,Bl=1/0,Wl=null,ql=!1,Hl=null,Kl=null,Gl=!1,Ql=null,Xl=0,Yl=0,Jl=null,$l=-1,ec=0;function tc(){return 0!==(6&Rl)?Ye():-1!==$l?$l:$l=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Rl)&&e===Pl||(e===Pl&&(0===(2&Rl)&&(jl|=n),4===Ml&&lc(e,Nl)),ic(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Bl=Ye()+500,Ui&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Pl?Nl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Zi(e)}(cc.bind(null,e)):Zi(cc.bind(null,e)),si((function(){0===(6&Rl)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if($l=-1,ec=0,0!==(6&Rl))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Rl;Rl|=2;var s=mc();for(Pl===e&&Nl===t||(Wl=null,Bl=Ye()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}So(),Il.current=s,Rl=i,null!==Al?t=0:(Pl=null,Nl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Zl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Zl,Wl),t);break}Sc(e,Zl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Zl,Wl),r);break}Sc(e,Zl,Wl);break;default:throw Error(o(329))}}}return ic(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Zl,Zl=n,null!==t&&ac(t)),e}function ac(e){null===Zl?Zl=e:Zl.push.apply(Zl,e)}function lc(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Rl))throw Error(o(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Zl,Wl),ic(e,Ye()),null}function uc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Bl=Ye()+500,Ui&&Vi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Rl)&&xc();var t=Rl;Rl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Rl=t))&&Vi()}}function hc(){Ol=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:os(),ki(Ri),ki(Ci),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:xo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Al=e=Dc(e.current,null),Nl=Ol=t,Ml=0,Ll=null,Ul=jl=Fl=0,Zl=zl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Al;try{if(So(),hs.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,Tl.current=null,null===n||null===n.return){Ml=1,Ll=t,Al=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ml&&(Ml=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=Il.current;return Il.current=sa,null===e?sa:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Pl,Nl)}function vc(e,t){var n=Rl;Rl|=2;var r=mc();for(Pl===e&&Nl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(So(),Rl=n,Il.current=r,null!==Al)throw Error(o(261));return Pl=null,Nl=0,Ml}function yc(){for(;null!==Al;)wc(Al)}function bc(){for(;null!==Al&&!Qe();)wc(Al)}function wc(e){var t=El(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?_c(e):Al=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Ol)))return void(Al=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Ql);if(0!==(6&Rl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Pl&&(Al=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(tt,(function(){return xc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Rl;Rl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Rl=l,bt=a,Cl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Xl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Vi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function xc(){if(null!==Ql){var e=wt(Xl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Rl))throw Error(o(331));var i=Rl;for(Rl|=4,$a=e.current;null!==$a;){var s=$a,a=s.child;if(0!==(16&$a.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var d=$a;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,$a=h;else for(;null!==$a;){var f=(d=$a).sibling,p=d.return;if(sl(d),d===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$a=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else e:for(;null!==$a;){if(0!==(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,$a=y;break e}$a=s.return}}var b=e.current;for($a=b;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=b;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){$a=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$a=_;break e}$a=l.return}}if(Rl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Mo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Mo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Ml||3===Ml&&(130023424&Nl)===Nl&&500>Ye()-Vl?fc(e,0):Ul|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Lc(n.children,i,s,t);case E:a=8,i|=8;break;case k:return(e=Nc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case R:return(e=Nc(13,n,t,i)).elementType=R,e.lanes=s,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=s,e;case O:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case T:a=9;break e;case C:a=11;break e;case A:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,i,o,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Vc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=Zc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,s))&&(rc(e,i,s,o),Lo(e,i,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),po();break;case 5:ss(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ii(ls,1&ls.current),null!==(e=qa(e,t,n))?e.sibling:null);Ii(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);ko(t,n),i=Es(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=xa(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Oo(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ri.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Do(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Eo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Eo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Io(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),xa(e,t,r,i=vo(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Wa(e,t),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,ko(t,n),Wo(t,r,i),Ho(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=qc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return qc(s)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Rl)&&(Bl=Ye()+500,Vi()))}break;case 13:dc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Re=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ie,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},67:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(I),I=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,k=null,I=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function P(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?x():(E=!1,k=null)}}else E=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=P,x=function(){N.postMessage(null)}}else x=function(){v(P,0)};function O(e){k=e,E||(E=!0,x())}function D(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(I),I=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5585:(e,t,n)=>{"use strict";e.exports=n(67)},1372:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:(e,t,n)=>{"use strict";n(1372)},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+C(a=e[c],c);l+=R(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=R(a=a.value,t,i,u=o+C(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},O={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},1561:(e,t,n)=>{"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),s((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},7595:(e,t,n)=>{"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=s(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},7248:(e,t,n)=>{"use strict";e.exports=n(1561)},327:(e,t,n)=>{"use strict";e.exports=n(7595)},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},3733:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>dr,SDK_VERSION:()=>mi,_DEFAULT_ENTRY_NAME:()=>ri,_addComponent:()=>ai,_addOrOverwriteComponent:()=>li,_apps:()=>oi,_clearComponents:()=>hi,_components:()=>si,_getProvider:()=>ui,_registerComponent:()=>ci,_removeServiceInstance:()=>di,deleteApp:()=>bi,getApp:()=>vi,getApps:()=>yi,initializeApp:()=>gi,onLog:()=>_i,registerVersion:()=>wi,setLogLevel:()=>Si});var t=n(2791),r=n.t(t,2),i=n(1250),o=n(7248),s=n(327),a=n(4164),l=n.t(a,2);let c=function(e){e()};const u=()=>c,d=Symbol.for("react-redux-context"),h="undefined"!==typeof globalThis?globalThis:{};function f(){var e;if(!t.createContext)return{};const n=null!=(e=h[d])?e:h[d]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}const p=f();function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(){return(0,t.useContext)(e)}}const g=m();let v=()=>{throw new Error("uSES not initialized!")};const y=(e,t)=>e===t;function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const n=e===p?g:m(e);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=y,stabilityCheck:o,noopCheck:s}="function"===typeof r?{equalityFn:r}:r;const{store:a,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=n(),h=((0,t.useRef)(!0),(0,t.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,o])),f=v(l.addNestedSub,a.getState,c||a.getState,h,i);return(0,t.useDebugValue)(f),f}}const w=b();n(2110),n(7441);const _={notify(){},get:()=>[]};function S(e,t){let n,r=_,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){const e=u();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=_)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}const x=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;let E=null;const k=function(e){let{store:n,context:r,children:i,serverState:o,stabilityCheck:s="once",noopCheck:a="once"}=e;const l=t.useMemo((()=>{const e=S(n);return{store:n,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:s,noopCheck:a}}),[n,o,s,a]),c=t.useMemo((()=>n.getState()),[n]);x((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=r||p;return t.createElement(u.Provider,{value:l},i)};function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const t=e===p?g:m(e);return function(){const{store:e}=t();return e}}const T=I();function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const t=e===p?T:I(e);return function(){return t().dispatch}}const R=C();var P;function A(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function N(e){return!!e&&!!e[_e]}function O(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Se}(e)||Array.isArray(e)||!!e[we]||!!(null===(t=e.constructor)||void 0===t?void 0:t[we])||z(e)||Z(e))}function D(e,t,n){void 0===n&&(n=!1),0===M(e)?(n?Object.keys:xe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function M(e){var t=e[_e];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:z(e)?2:Z(e)?3:0}function L(e,t){return 2===M(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){return 2===M(e)?e.get(t):e[t]}function j(e,t,n){var r=M(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function U(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function z(e){return ge&&e instanceof Map}function Z(e){return ve&&e instanceof Set}function V(e){return e.o||e.t}function B(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ee(e);delete t[_e];for(var n=xe(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function W(e,t){return void 0===t&&(t=!1),H(e)||N(e)||!O(e)||(M(e)>1&&(e.set=e.add=e.clear=e.delete=q),Object.freeze(e),t&&D(e,(function(e,t){return W(t,!0)}),!0)),e}function q(){A(2)}function H(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function K(e){var t=ke[e];return t||A(18,e),t}function G(e,t){ke[e]||(ke[e]=t)}function Q(){return pe}function X(e,t){t&&(K("Patches"),e.u=[],e.s=[],e.v=t)}function Y(e){J(e),e.p.forEach(ee),e.p=null}function J(e){e===pe&&(pe=e.l)}function $(e){return pe={p:[],l:pe,h:e,m:!0,_:0}}function ee(e){var t=e[_e];0===t.i||1===t.i?t.j():t.g=!0}function te(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||K("ES5").S(t,e,r),r?(n[_e].P&&(Y(t),A(4)),O(e)&&(e=ne(t,e),t.l||ie(t,e)),t.u&&K("Patches").M(n[_e].t,e,t.u,t.s)):e=ne(t,n,[]),Y(t),t.u&&t.v(t.u,t.s),e!==be?e:void 0}function ne(e,t,n){if(H(t))return t;var r=t[_e];if(!r)return D(t,(function(i,o){return re(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ie(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=B(r.k):r.o,o=i,s=!1;3===r.i&&(o=new Set(i),i.clear(),s=!0),D(o,(function(t,o){return re(e,r,i,t,o,n,s)})),ie(e,i,!1),n&&e.u&&K("Patches").N(r,n,e.u,e.s)}return r.o}function re(e,t,n,r,i,o,s){if(N(i)){var a=ne(e,i,o&&t&&3!==t.i&&!L(t.R,r)?o.concat(r):void 0);if(j(n,r,a),!N(a))return;e.m=!1}else s&&n.add(i);if(O(i)&&!H(i)){if(!e.h.D&&e._<1)return;ne(e,i),t&&t.A.l||ie(e,i)}}function ie(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&W(t,n)}function oe(e,t){var n=e[_e];return(n?V(n):e)[t]}function se(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ae(e){e.P||(e.P=!0,e.l&&ae(e.l))}function le(e){e.o||(e.o=B(e.t))}function ce(e,t,n){var r=z(t)?K("MapSet").F(t,n):Z(t)?K("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Q(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Ie;n&&(i=[r],o=Te);var s=Proxy.revocable(i,o),a=s.revoke,l=s.proxy;return r.k=l,r.j=a,l}(t,n):K("ES5").J(t,n);return(n?n.A:Q()).p.push(r),r}function ue(e){return N(e)||A(22,e),function e(t){if(!O(t))return t;var n,r=t[_e],i=M(t);if(r){if(!r.P&&(r.i<4||!K("ES5").K(r)))return r.t;r.I=!0,n=de(t,i),r.I=!1}else n=de(t,i);return D(n,(function(t,i){r&&F(r.t,t)===i||j(n,t,e(i))})),3===i?new Set(n):n}(e)}function de(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return B(e)}function he(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[_e];return Ie.get(t,e)},set:function(t){var n=this[_e];Ie.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][_e];if(!i.P)switch(i.i){case 5:r(i)&&ae(i);break;case 4:n(i)&&ae(i)}}}function n(e){for(var t=e.t,n=e.k,r=xe(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==_e){var s=t[o];if(void 0===s&&!L(t,o))return!0;var a=n[o],l=a&&a[_e];if(l?l.t!==s:!U(a,s))return!0}}var c=!!t[_e];return r.length!==xe(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};G("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Ee(n);delete o[_e];for(var s=xe(o),a=0;a<s.length;a++){var l=s[a];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Q(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,_e,{value:o,writable:!0}),i},S:function(e,n,i){i?N(n)&&n[_e].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[_e];if(n){var i=n.t,o=n.k,s=n.R,a=n.i;if(4===a)D(o,(function(t){t!==_e&&(void 0!==i[t]||L(i,t)?s[t]||e(o[t]):(s[t]=!0,ae(n)))})),D(i,(function(e){void 0!==o[e]||L(o,e)||(s[e]=!1,ae(n))}));else if(5===a){if(r(n)&&(ae(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var c=i.length;c<o.length;c++)s[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}(e=>{v=e})(s.useSyncExternalStoreWithSelector),(e=>{E=e})(o.useSyncExternalStore),P=a.unstable_batchedUpdates,c=P;var fe,pe,me="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ge="undefined"!=typeof Map,ve="undefined"!=typeof Set,ye="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,be=me?Symbol.for("immer-nothing"):((fe={})["immer-nothing"]=!0,fe),we=me?Symbol.for("immer-draftable"):"__$immer_draftable",_e=me?Symbol.for("immer-state"):"__$immer_state",Se=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),xe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ee=Object.getOwnPropertyDescriptors||function(e){var t={};return xe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ke={},Ie={get:function(e,t){if(t===_e)return e;var n=V(e);if(!L(n,t))return function(e,t,n){var r,i=se(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!O(r)?r:r===oe(e.t,t)?(le(e),e.o[t]=ce(e.A.h,r,e)):r},has:function(e,t){return t in V(e)},ownKeys:function(e){return Reflect.ownKeys(V(e))},set:function(e,t,n){var r=se(V(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=oe(V(e),t),o=null==i?void 0:i[_e];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(U(n,i)&&(void 0!==n||L(e.t,t)))return!0;le(e),ae(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==oe(e.t,t)||t in e.t?(e.R[t]=!1,le(e),ae(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=V(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){A(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){A(12)}},Te={};D(Ie,(function(e,t){Te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Te.deleteProperty=function(e,t){return Te.set.call(this,e,t,void 0)},Te.set=function(e,t,n){return Ie.set.call(this,e[0],t,n,e[0])};var Ce=function(){function e(e){var t=this;this.O=ye,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&A(6),void 0!==r&&"function"!=typeof r&&A(7),O(e)){var a=$(t),l=ce(t,e,void 0),c=!0;try{s=n(l),c=!1}finally{c?Y(a):J(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return X(a,r),te(e,a)}),(function(e){throw Y(a),e})):(X(a,r),te(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===be&&(s=void 0),t.D&&W(s,!0),r){var u=[],d=[];K("Patches").M(e,s,u,d),r(u,d)}return s}A(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){O(e)||A(8),N(e)&&(e=ue(e));var t=$(this),n=ce(this,e,void 0);return n[_e].C=!0,J(t),n},t.finishDraft=function(e,t){var n=(e&&e[_e]).A;return X(n,t),te(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ye&&A(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=K("Patches").$;return N(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Re=new Ce,Pe=Re.produce;Re.produceWithPatches.bind(Re),Re.setAutoFreeze.bind(Re),Re.setUseProxies.bind(Re),Re.applyPatches.bind(Re),Re.createDraft.bind(Re),Re.finishDraft.bind(Re);const Ae=Pe;function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Oe(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ne(t)?t:String(t)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=Oe(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Fe="function"===typeof Symbol&&Symbol.observable||"@@observable",je=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ue={INIT:"@@redux/INIT"+je(),REPLACE:"@@redux/REPLACE"+je(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+je()}};function ze(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ze(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Le(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Le(1));return n(Ze)(e,t)}if("function"!==typeof e)throw new Error(Le(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(Le(3));return o}function d(e){if("function"!==typeof e)throw new Error(Le(4));if(l)throw new Error(Le(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(Le(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!ze(e))throw new Error(Le(7));if("undefined"===typeof e.type)throw new Error(Le(8));if(l)throw new Error(Le(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Ue.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Le(10));i=e,h({type:Ue.REPLACE})}})[Fe]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Le(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Fe]=function(){return this},e},r}function Ve(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Ue.INIT}))throw new Error(Le(12));if("undefined"===typeof n(void 0,{type:Ue.PROBE_UNKNOWN_ACTION()}))throw new Error(Le(13))}))}(n)}catch(a){o=a}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(Le(14))}i[l]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}function Be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Le(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Be.apply(void 0,o)(n.dispatch),Me(Me({},n),{},{dispatch:r})}}}function qe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var He=qe();He.withExtraArgument=qe;const Ke=He;var Ge=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qe=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Xe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ye=Object.defineProperty,Je=Object.defineProperties,$e=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,rt=function(e,t,n){return t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},it=function(e,t){for(var n in t||(t={}))tt.call(t,n)&&rt(e,n,t[n]);if(et)for(var r=0,i=et(t);r<i.length;r++){n=i[r];nt.call(t,n)&&rt(e,n,t[n])}return e},ot=function(e,t){return Je(e,$e(t))},st=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(t){i(t)}},s=function(e){try{a(n.throw(e))}catch(t){i(t)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},at="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Be:Be.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function lt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function ct(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return it(it({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var ut=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ge(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Xe([void 0],e[0].concat(this)))):new(t.bind.apply(t,Xe([void 0],e.concat(this))))},t}(Array),dt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ge(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Xe([void 0],e[0].concat(this)))):new(t.bind.apply(t,Xe([void 0],e.concat(this))))},t}(Array);function ht(e){return O(e)?Ae(e,(function(){})):e}function ft(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new ut);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ke.withExtraArgument(n.extraArgument)):r.push(Ke));0;return r}(e)}}function pt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function mt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ht(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},l={};function c(){var t="function"===typeof e.extraReducers?pt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=it(it({},i),a);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?pt(t):[t,n,r],s=o[0],a=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return ht(e())};else{var c=ht(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=Xe([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(N(e))return void 0===(r=n(e,t))?e:r;if(O(e))return Ae(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,l[e]=r?ct(c,r):ct(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var gt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},vt=["name","message","stack","code"],yt=function(e,t){this.payload=e,this.meta=t},bt=function(e,t){this.payload=e,this.meta=t},wt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=vt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=ct(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:ot(it({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=ct(e+"/pending",(function(e,t,n){return{payload:void 0,meta:ot(it({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=ct(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||wt)(e||"Rejected"),meta:ot(it({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):gt(),h=new s;function f(e){u=e,h.abort()}var p=function(){return st(this,null,(function(){var s,p,m,g,v,y;return Qe(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:l,extra:c}),null===(w=g)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:d,signal:h.signal,abort:f,rejectWithValue:function(e,t){return new yt(e,t)},fulfillWithValue:function(e,t){return new bt(e,t)}})).then((function(t){if(t instanceof yt)throw t;return t instanceof bt?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return y=b.sent(),m=y instanceof yt?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||a(m),[2,m]}var w}))}))}();return Object.assign(p,{abort:f,requestId:d,arg:e,unwrap:function(){return p.then(_t)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function _t(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var St="listenerMiddleware";ct(St+"/add"),ct(St+"/removeAll"),ct(St+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var xt,Et=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Et(10);he();const kt=mt({initialState:{isLoggedIn:!1,user:null},name:"auth",reducers:{login:(e,t)=>{e.isLoggedIn=!0,e.user=t.payload},logout:e=>{e.isLoggedIn=!1,e.user=null}}}),It=kt.actions,Tt=kt.reducer,Ct=mt({initialState:{user:null},name:"chat",reducers:{selectedUser:(e,t)=>{e.user=t.payload}}}),Rt=Ct.actions,Pt=function(e){var t,n=ft(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,h=r.enhancers,f=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!lt(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ve(o)}var p=a;"function"===typeof p&&(p=p(n));var m=We.apply(void 0,p),g=Be;c&&(g=at(it({trace:!1},"object"===typeof c&&c)));var v=new dt(m),y=v;return Array.isArray(f)?y=Xe([m],f):"function"===typeof f&&(y=f(v)),Ze(t,d,g.apply(void 0,y))}({reducer:{authReducer:Tt,chatReducer:Ct.reducer},middleware:e=>e({serializableCheck:!1})}),At=R,Nt=w;function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}var Dt;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Dt||(Dt={}));const Mt="popstate";function Lt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ft(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function jt(e,t){return{usr:e.state,key:e.key,idx:t}}function Ut(e,t,n,r){return void 0===n&&(n=null),Ot({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Zt(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function zt(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Zt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Vt(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Dt.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=Dt.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:zt(e);return Lt(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(Ot({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Mt,d),l=e,()=>{i.removeEventListener(Mt,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Dt.Push;let r=Ut(f.location,e,t);n&&n(r,e),c=u()+1;let d=jt(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Dt.Replace;let r=Ut(f.location,e,t);n&&n(r,e),c=u();let i=jt(r,c),d=f.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var Bt;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Bt||(Bt={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Wt(e,t,n){void 0===n&&(n="/");let r=on(("string"===typeof t?Zt(t):t).pathname||"/",n);if(null==r)return null;let i=qt(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=tn(i[s],rn(r));return o}function qt(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(Lt(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=cn([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(Lt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),qt(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:en(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Ht(e.path))i(e,t,r);else i(e,t)})),t}function Ht(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=Ht(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Kt=/^:\w+$/,Gt=3,Qt=2,Xt=1,Yt=10,Jt=-2,$t=e=>"*"===e;function en(e,t){let n=e.split("/"),r=n.length;return n.some($t)&&(r+=Jt),t&&(r+=Qt),n.filter((e=>!$t(e))).reduce(((e,t)=>e+(Kt.test(t)?Gt:""===t?Xt:Yt)),r)}function tn(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=nn({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:cn([i,c.pathname]),pathnameBase:un(cn([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=cn([i,c.pathnameBase]))}return o}function nn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Ft("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return Ft(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function rn(e){try{return decodeURI(e)}catch(t){return Ft(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function on(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function sn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function an(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ln(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Zt(e):(i=Ot({},e),Lt(!i.pathname||!i.pathname.includes("?"),sn("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),sn("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),sn("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Zt(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:dn(r),hash:hn(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),un=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dn=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",hn=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function fn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const pn=["post","put","patch","delete"],mn=(new Set(pn),["get",...pn]);new Set(mn),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function gn(){return gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gn.apply(this,arguments)}const vn=t.createContext(null);const yn=t.createContext(null);const bn=t.createContext(null);const wn=t.createContext(null);const _n=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Sn=t.createContext(null);function xn(){return null!=t.useContext(wn)}function En(){return xn()||Lt(!1),t.useContext(wn).location}function kn(e){t.useContext(bn).static||t.useLayoutEffect(e)}function In(){let{isDataRoute:e}=t.useContext(_n);return e?function(){let{router:e}=Mn(On.UseNavigateStable),n=Fn(Dn.UseNavigateStable),r=t.useRef(!1);kn((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,gn({fromRouteId:n},i)))}),[e,n]);return i}():function(){xn()||Lt(!1);let e=t.useContext(vn),{basename:n,navigator:r}=t.useContext(bn),{matches:i}=t.useContext(_n),{pathname:o}=En(),s=JSON.stringify(an(i).map((e=>e.pathnameBase))),a=t.useRef(!1);return kn((()=>{a.current=!0})),t.useCallback((function(t,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof t)return void r.go(t);let l=ln(t,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:cn([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,s,o,e])}()}function Tn(e,n,r){xn()||Lt(!1);let{navigator:i}=t.useContext(bn),{matches:o}=t.useContext(_n),s=o[o.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=En();if(n){var d;let e="string"===typeof n?Zt(n):n;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||Lt(!1),c=e}else c=u;let h=c.pathname||"/",f=Wt(e,{pathname:"/"===l?h:h.slice(l.length)||"/"});let p=Nn(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:cn([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:cn([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r);return n&&p?t.createElement(wn.Provider,{value:{location:gn({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Dt.Pop}},p):p}function Cn(){let e=function(){var e;let n=t.useContext(Sn),r=Ln(Dn.UseRouteError),i=Fn(Dn.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=fn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const Rn=t.createElement(Cn,null);class Pn extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(_n.Provider,{value:this.props.routeContext},t.createElement(Sn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function An(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(vn);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(_n.Provider,{value:n},i)}function Nn(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let s=e,a=null==(i=r)?void 0:i.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||Lt(!1),s=s.slice(0,Math.min(s.length,e+1))}return s.reduceRight(((e,i,o)=>{let l=i.route.id?null==a?void 0:a[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Rn);let u=n.concat(s.slice(0,o+1)),d=()=>{let n;return n=l?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(An,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(Pn,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var On=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(On||{}),Dn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dn||{});function Mn(e){let n=t.useContext(vn);return n||Lt(!1),n}function Ln(e){let n=t.useContext(yn);return n||Lt(!1),n}function Fn(e){let n=function(e){let n=t.useContext(_n);return n||Lt(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Lt(!1),r.route.id}r.startTransition;function jn(e){Lt(!1)}function Un(e){let{basename:n="/",children:r=null,location:i,navigationType:o=Dt.Pop,navigator:s,static:a=!1}=e;xn()&&Lt(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:s,static:a})),[l,s,a]);"string"===typeof i&&(i=Zt(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=t.useMemo((()=>{let e=on(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:o}}),[l,u,d,h,f,p,o]);return null==m?null:t.createElement(bn.Provider,{value:c},t.createElement(wn.Provider,{children:r,value:m}))}function zn(e){let{children:t,location:n}=e;return Tn(Zn(t),n)}new Promise((()=>{}));t.Component;function Zn(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Zn(e.props.children,o));e.type!==jn&&Lt(!1),e.props.index&&e.props.children&&Lt(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Zn(e.props.children,o)),r.push(s)})),r}function Vn(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const Bn=r.startTransition;l.flushSync;function Wn(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),Vt((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Ut("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:zt(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&Bn?Bn((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(Un,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var qn,Hn;function Kn(e){let n=t.useRef(Vn(e)),r=t.useRef(!1),i=En(),o=t.useMemo((()=>function(e,t){let n=Vn(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,r.current?null:n.current)),[i.search]),s=In(),a=t.useCallback(((e,t)=>{const n=Vn("function"===typeof e?e(o):e);r.current=!0,s("?"+n,t)}),[s,o]);return[o,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qn||(qn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Hn||(Hn={}));const Gn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Qn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Xn;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Xn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yn=function(e){return function(e){const t=Gn(e);return Qn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Jn=function(e){try{return Qn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $n(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=$n(e[n],t[n]));return e}const er=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,tr=()=>{try{return er()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/social-app-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Jn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},nr=()=>{var e;return null===(e=tr())||void 0===e?void 0:e.config};class rr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ir(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yn(JSON.stringify({alg:"none",type:"JWT"})),Yn(JSON.stringify(o)),""].join(".")}function or(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function sr(){var e;const t=null===(e=tr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ar(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function lr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function cr(){const e=or();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ur(){try{return"object"===typeof indexedDB}catch(e){return!1}}class dr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hr.prototype.create)}}class hr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(fr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new dr(n,o,t)}}const fr=/\{\$([^}]+)}/g;function pr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(gr(n)&&gr(o)){if(!mr(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gr(e){return null!==e&&"object"===typeof e}function vr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function br(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wr(e,t){const n=new _r(e,t);return n.subscribe.bind(n)}class _r{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Sr),void 0===r.error&&(r.error=Sr),void 0===r.complete&&(r.complete=Sr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Sr(){}function xr(e){return e&&e._delegate?e._delegate:e}class Er{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kr="[DEFAULT]";class Ir{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new rr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tr(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Tr(e){return e===kr?void 0:e}class Cr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ir(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Rr=[];var Pr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pr||(Pr={}));const Ar={debug:Pr.DEBUG,verbose:Pr.VERBOSE,info:Pr.INFO,warn:Pr.WARN,error:Pr.ERROR,silent:Pr.SILENT},Nr=Pr.INFO,Or={[Pr.DEBUG]:"log",[Pr.VERBOSE]:"log",[Pr.INFO]:"info",[Pr.WARN]:"warn",[Pr.ERROR]:"error"},Dr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Or[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Mr{constructor(e){this.name=e,this._logLevel=Nr,this._logHandler=Dr,this._userLogHandler=null,Rr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ar[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pr.DEBUG,...t),this._logHandler(this,Pr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pr.VERBOSE,...t),this._logHandler(this,Pr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pr.INFO,...t),this._logHandler(this,Pr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pr.WARN,...t),this._logHandler(this,Pr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pr.ERROR,...t),this._logHandler(this,Pr.ERROR,...t)}}const Lr=(e,t)=>t.some((t=>e instanceof t));let Fr,jr;const Ur=new WeakMap,zr=new WeakMap,Zr=new WeakMap,Vr=new WeakMap,Br=new WeakMap;let Wr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function qr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(jr||(jr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gr(this),n),Kr(Ur.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kr(e.apply(Gr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Gr(this),t,...r);return Zr.set(o,t.sort?t.sort():[t]),Kr(o)}}function Hr(e){return"function"===typeof e?qr(e):(e instanceof IDBTransaction&&function(e){if(zr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));zr.set(e,t)}(e),Lr(e,Fr||(Fr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Wr):e)}function Kr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Kr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ur.set(t,e)})).catch((()=>{})),Br.set(t,e),t}(e);if(Vr.has(e))return Vr.get(e);const t=Hr(e);return t!==e&&(Vr.set(e,t),Br.set(t,e)),t}const Gr=e=>Br.get(e);const Qr=["get","getKey","getAll","getAllKeys","count"],Xr=["put","add","delete","clear"],Yr=new Map;function Jr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Yr.get(t))return Yr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Xr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qr.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Yr.set(t,o),o}Wr=(e=>({...e,get:(t,n,r)=>Jr(t,n)||e.get(t,n,r),has:(t,n)=>!!Jr(t,n)||e.has(t,n)}))(Wr);class $r{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ei="@firebase/app",ti="0.9.24",ni=new Mr("@firebase/app"),ri="[DEFAULT]",ii={[ei]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oi=new Map,si=new Map;function ai(e,t){try{e.container.addComponent(t)}catch(n){ni.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function li(e,t){e.container.addOrOverwriteComponent(t)}function ci(e){const t=e.name;if(si.has(t))return ni.debug("There were multiple attempts to register component ".concat(t,".")),!1;si.set(t,e);for(const n of oi.values())ai(n,e);return!0}function ui(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function di(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ri;ui(e,t).clearInstance(n)}function hi(){si.clear()}const fi=new hr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Er("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}const mi="10.7.0";function gi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ri,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=nr()),!n)throw fi.create("no-options");const o=oi.get(i);if(o){if(mr(n,o.options)&&mr(r,o.config))return o;throw fi.create("duplicate-app",{appName:i})}const s=new Cr(i);for(const l of si.values())s.addComponent(l);const a=new pi(n,r,s);return oi.set(i,a),a}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri;const t=oi.get(e);if(!t&&e===ri&&nr())return gi();if(!t)throw fi.create("no-app",{appName:e});return t}function yi(){return Array.from(oi.values())}async function bi(e){const t=e.name;oi.has(t)&&(oi.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function wi(e,t,n){var r;let i=null!==(r=ii[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ni.warn(e.join(" "))}ci(new Er("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function _i(e,t){if(null!==e&&"function"!==typeof e)throw fi.create("invalid-log-argument");!function(e,t){for(const n of Rr){let r=null;t&&t.level&&(r=Ar[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Pr[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Si(e){var t;t=e,Rr.forEach((e=>{e.setLogLevel(t)}))}const xi="firebase-heartbeat-database",Ei=1,ki="firebase-heartbeat-store";let Ii=null;function Ti(){return Ii||(Ii=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Kr(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Kr(s.result),e.oldVersion,e.newVersion,Kr(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(xi,Ei,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ki)}}).catch((e=>{throw fi.create("idb-open",{originalErrorMessage:e.message})}))),Ii}async function Ci(e,t){try{const n=(await Ti()).transaction(ki,"readwrite"),r=n.objectStore(ki);await r.put(t,Ri(e)),await n.done}catch(n){if(n instanceof dr)ni.warn(n.message);else{const e=fi.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ni.warn(e.message)}}}function Ri(e){return"".concat(e.name,"!").concat(e.options.appId)}class Pi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ni(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ai();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ai(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Oi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Oi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Yn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ai(){return(new Date).toISOString().substring(0,10)}class Ni{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ur()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ti();return await t.transaction(ki).objectStore(ki).get(Ri(e))}catch(t){if(t instanceof dr)ni.warn(t.message);else{const e=fi.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ni.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ci(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ci(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Oi(e){return Yn(JSON.stringify({version:2,heartbeats:e})).length}var Di;Di="",ci(new Er("platform-logger",(e=>new $r(e)),"PRIVATE")),ci(new Er("heartbeat",(e=>new Pi(e)),"PRIVATE")),wi(ei,ti,Di),wi(ei,ti,"esm2017"),wi("fire-js","");class Mi{constructor(e,t){this._delegate=e,this.firebase=t,ai(e,new Er("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),bi(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ai(this._delegate,e)}_addOrOverwriteComponent(e){li(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Li=new hr("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Fi=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=gi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pr(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:wi,setLogLevel:Si,onLog:_i,apps:null,SDK_VERSION:mi,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(ci(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Li.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&$n(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pr(n,e=e||ri))throw Li.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Mi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){$n(n,e)},createSubscribe:wr,ErrorFactory:hr,deepExtend:$n}),n}(),ji=new Mr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ji.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ji.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ui=Fi;!function(e){wi("@firebase/app-compat","0.2.24",e)}();function zi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Zi={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Vi="EMAIL_SIGNIN",Bi="PASSWORD_RESET",Wi="RECOVER_EMAIL",qi="REVERT_SECOND_FACTOR_ADDITION",Hi="VERIFY_AND_CHANGE_EMAIL",Ki="VERIFY_EMAIL";function Gi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xi=Gi,Yi=new hr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ji=new Mr("@firebase/auth");function $i(e){if(Ji.logLevel<=Pr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ji.error("Auth (".concat(mi,"): ").concat(e),...n)}}function eo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw io(e,...n)}function to(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return io(e,...n)}function no(e,t,n){const r=Object.assign(Object.assign({},Xi()),{[t]:n});return new hr("auth","Firebase",r).create(t,{appName:e.name})}function ro(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&eo(e,"argument-error"),no(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function io(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Yi.create(e,...n)}function oo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw io(t,...r)}}function so(e){const t="INTERNAL ASSERTION FAILED: "+e;throw $i(t),new Error(t)}function ao(e,t){e||so(t)}function lo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function co(){return"http:"===uo()||"https:"===uo()}function uo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ho{constructor(e,t){this.shortDelay=e,this.longDelay=t,ao(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())||lr()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(co()||ar()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fo(e,t){ao(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class po{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},go=new ho(3e4,6e4);function vo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function yo(e,t,n,r){return bo(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=vr(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),po.fetch()(_o(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function bo(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},mo),t);try{const t=new xo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Eo(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Eo(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Eo(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Eo(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw no(e,a,s);eo(e,a)}}catch(i){if(i instanceof dr)throw i;eo(e,"network-request-failed",{message:String(i)})}}async function wo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await yo(e,t,n,r,i);return"mfaPendingCredential"in o&&eo(e,"multi-factor-auth-required",{_serverResponse:o}),o}function _o(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?fo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function So(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xo{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(to(this.auth,"network-request-failed"))),go.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Eo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=to(e,t,r);return i.customData._tokenResponse=n,i}function ko(e){return void 0!==e&&void 0!==e.getResponse}function Io(e){return void 0!==e&&void 0!==e.enterprise}class To{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return So(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Co(e,t){return yo(e,"GET","/v2/recaptchaConfig",vo(e,t))}function Ro(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Po(e){return 1e3*Number(e)}function Ao(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return $i("JWT malformed, contained fewer than 3 sections"),null;try{const e=Jn(n);return e?JSON.parse(e):($i("Failed to decode base64 JWT payload"),null)}catch(i){return $i("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function No(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof dr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Oo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Do{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await No(e,async function(e,t){return yo(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));oo(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=zi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Do(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oo(e.idToken,"internal-error"),oo("undefined"!==typeof e.idToken,"internal-error"),oo("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ao(e);return oo(t,"internal-error"),oo("undefined"!==typeof t.exp,"internal-error"),oo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return oo(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await bo(e,{},(async()=>{const n=vr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=_o(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",po.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Lo;return n&&(oo("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(oo("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(oo("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return so("not implemented")}}function Fo(e,t){oo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class jo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=zi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Do(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await No(this,this.stsTokenManager.getToken(this.auth,e));return oo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=xr(e),r=await n.getIdToken(t),i=Ao(r);oo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ro(Po(i.auth_time)),issuedAtTime:Ro(Po(i.iat)),expirationTime:Ro(Po(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xr(e);await Mo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(oo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await No(this,async function(e,t){return yo(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;oo(y&&S,e,"internal-error");const x=Lo.fromJSON(this.name,S);oo("string"===typeof y,e,"internal-error"),Fo(u,e.name),Fo(d,e.name),oo("boolean"===typeof b,e,"internal-error"),oo("boolean"===typeof w,e,"internal-error"),Fo(h,e.name),Fo(f,e.name),Fo(p,e.name),Fo(m,e.name),Fo(g,e.name),Fo(v,e.name);const E=new jo({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Lo;r.updateFromServerResponse(t);const i=new jo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Mo(i),i}}const Uo=new Map;function zo(e){ao(e instanceof Function,"Expected a class definition");let t=Uo.get(e);return t?(ao(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Uo.set(e,t),t)}class Zo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zo.type="NONE";const Vo=Zo;function Bo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Wo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Bo(this.userKey,r.apiKey,i),this.fullPersistenceKey=Bo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Wo(zo(Vo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||zo(Vo);const o=Bo(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=jo._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Wo(i,e,n)):new Wo(i,e,n)}}function qo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ho(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yo(t))return"Blackberry";if(Jo(t))return"Webos";if(Ko(t))return"Safari";if((t.includes("chrome/")||Go(t))&&!t.includes("edge/"))return"Chrome";if(Xo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/firefox\//i.test(e)}function Ko(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:or()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/crios\//i.test(e)}function Qo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/iemobile/i.test(e)}function Xo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/android/i.test(e)}function Yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/blackberry/i.test(e)}function Jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/webos/i.test(e)}function $o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return $o(e)||Xo(e)||Jo(e)||Yo(e)||/windows phone/i.test(e)||Qo(e)}function ts(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qo(or());break;case"Worker":t="".concat(qo(or()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mi,"/").concat(r)}class ns{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(Q){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class rs{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class is{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ss(this),this.idTokenSubscription=new ss(this),this.beforeStateQueue=new ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mo(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?xr(e):null;return t&&oo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&oo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(zo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return yo(e,"GET","/v2/passwordPolicy",vo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new rs(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return yo(e,"POST","/v2/accounts:revokeToken",vo(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zo(e)||this._popupRedirectResolver;oo(t,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[zo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(oo(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ts(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ji.logLevel<=Pr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ji.warn("Auth (".concat(mi,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function os(e){return xr(e)}class ss{constructor(e){this.auth=e,this.observer=null,this.addObserver=wr((e=>this.observer=e))}get next(){return oo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=to("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ls(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class cs{constructor(e){this.type="recaptcha-enterprise",this.auth=os(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Io(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Co(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new To(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Io(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));as("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function us(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new cs(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ds(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await us(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await us(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function hs(e,t,n){const r=os(e);oo(r._canInitEmulator,r,"emulator-config-failed"),oo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=fs(t),{host:s,port:a}=function(e){const t=fs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ps(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ps(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ps(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ms{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,t){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}async function gs(e,t){return yo(e,"POST","/v1/accounts:resetPassword",vo(e,t))}async function vs(e,t){return yo(e,"POST","/v1/accounts:signUp",t)}async function ys(e,t){return wo(e,"POST","/v1/accounts:signInWithPassword",vo(e,t))}async function bs(e,t){return yo(e,"POST","/v1/accounts:sendOobCode",vo(e,t))}async function ws(e,t){return bs(e,t)}async function _s(e,t){return bs(e,t)}class Ss extends ms{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ss(e,t,"password")}static _fromEmailAndCode(e,t){return new Ss(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ds(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ys);case"emailLink":return async function(e,t){return wo(e,"POST","/v1/accounts:signInWithEmailLink",vo(e,t))}(e,{email:this._email,oobCode:this._password});default:eo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ds(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vs);case"emailLink":return async function(e,t){return wo(e,"POST","/v1/accounts:signInWithEmailLink",vo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:eo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xs(e,t){return wo(e,"POST","/v1/accounts:signInWithIdp",vo(e,t))}class Es extends ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):eo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=zi(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Es(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return xs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vr(t)}return e}}const ks={USER_NOT_FOUND:"user-not-found"};class Is extends ms{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Is({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Is({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return wo(e,"POST","/v1/accounts:signInWithPhoneNumber",vo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await wo(e,"POST","/v1/accounts:signInWithPhoneNumber",vo(e,t));if(n.temporaryProof)throw Eo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return wo(e,"POST","/v1/accounts:signInWithPhoneNumber",vo(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ks)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Is({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ts{constructor(e){var t,n,r,i,o,s;const a=yr(br(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);oo(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=yr(br(e)).link,n=t?yr(br(t)).deep_link_id:null,r=yr(br(e)).deep_link_id;return(r?yr(br(r)).link:null)||r||n||t||e}(e);try{return new Ts(t)}catch(n){return null}}}class Cs{constructor(){this.providerId=Cs.PROVIDER_ID}static credential(e,t){return Ss._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ts.parseLink(t);return oo(n,"argument-error"),Ss._fromEmailAndCode(e,n.code,n.tenantId)}}Cs.PROVIDER_ID="password",Cs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Cs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ps extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class As extends Ps{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return oo("providerId"in t&&"signInMethod"in t,"argument-error"),Es._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return oo(e.idToken||e.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return As.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return As.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new As(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class Ns extends Ps{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ns.credential(t.oauthAccessToken)}catch(n){return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ns.PROVIDER_ID="facebook.com";class Os extends Ps{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Es._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Os.credential(n,r)}catch(i){return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com",Os.PROVIDER_ID="google.com";class Ds extends Ps{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch(n){return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com",Ds.PROVIDER_ID="github.com";class Ms extends ms{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return xs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ms(n,i):null}static _create(e,t){return new Ms(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ls extends Rs{constructor(e){oo(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ls.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ls.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ms.fromJSON(e);return oo(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ms._create(r,n)}catch(i){return null}}}class Fs extends Ps{constructor(){super("twitter.com")}static credential(e,t){return Es._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fs.credential(n,r)}catch(i){return null}}}async function js(e,t){return wo(e,"POST","/v1/accounts:signUp",vo(e,t))}Fs.TWITTER_SIGN_IN_METHOD="twitter.com",Fs.PROVIDER_ID="twitter.com";class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await jo._fromIdTokenResponse(e,n,r),o=zs(n);return new Us({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=zs(n);return new Us({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function zs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zs extends dr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zs(e,t,n,r)}}function Vs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zs._fromErrorAndOperation(e,n,t,r);throw n}))}function Bs(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ws(e,t){const n=xr(e);await Hs(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return yo(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Bs(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function qs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await No(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Us._forOperation(e,"link",r)}async function Hs(e,t,n){await Mo(t);const r=!1===e?"provider-already-linked":"no-such-provider";oo(Bs(t.providerData).has(n)===e,t.auth,r)}async function Ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await No(e,Vs(r,i,t,e),n);oo(o.idToken,r,"internal-error");const s=Ao(o.idToken);oo(s,r,"internal-error");const{sub:a}=s;return oo(e.uid===a,r,"user-mismatch"),Us._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&eo(r,"user-mismatch"),o}}async function Gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Vs(e,r,t),o=await Us._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Qs(e,t){return Gs(os(e),t)}async function Xs(e,t){const n=xr(e);return await Hs(!1,n,t.providerId),qs(n,t)}async function Ys(e,t){return Ks(xr(e),t)}async function Js(e,t){const n=os(e),r=await async function(e,t){return wo(e,"POST","/v1/accounts:signInWithCustomToken",vo(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class $s{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ea._fromServerResponse(e,t):"totpInfo"in t?ta._fromServerResponse(e,t):eo(e,"internal-error")}}class ea extends $s{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ea(t)}}class ta extends $s{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ta(t)}}function na(e,t,n){var r;oo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),oo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ra(e){const t=os(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ia(e,t){await async function(e,t){return yo(e,"POST","/v1/accounts:update",vo(e,t))}(xr(e),{oobCode:t})}async function oa(e,t){const n=xr(e),r=await gs(n,{oobCode:t}),i=r.requestType;switch(oo(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oo(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oo(r.mfaInfo,n,"internal-error");default:oo(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=$s._fromServerResponse(os(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function sa(e,t){const n={identifier:t,continueUri:co()?lo():"http://localhost"},{signinMethods:r}=await async function(e,t){return yo(e,"POST","/v1/accounts:createAuthUri",vo(e,t))}(xr(e),n);return r||[]}async function aa(e,t){const n=xr(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&na(n.auth,r,t);const{email:i}=await async function(e,t){return bs(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function la(e,t,n){const r=xr(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&na(r.auth,i,n);const{email:o}=await async function(e,t){return bs(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function ca(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=xr(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await No(i,async function(e,t){return yo(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function ua(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await No(e,async function(e,t){return yo(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class da{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ha extends da{constructor(e,t,n,r){super(e,t,n),this.username=r}}class fa extends da{constructor(e,t){super(e,"facebook.com",t)}}class pa extends ha{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ma extends da{constructor(e,t){super(e,"google.com",t)}}class ga extends ha{constructor(e,t,n){super(e,"twitter.com",t,n)}}function va(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ao(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new da(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new fa(o,i);case"github.com":return new pa(o,i);case"google.com":return new ma(o,i);case"twitter.com":return new ga(o,i,e.screenName||null);case"custom":case"anonymous":return new da(o,null);default:return new da(o,r,i)}}(n)}class ya{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ya("enroll",e,t)}static _fromMfaPendingCredential(e){return new ya("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ya._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ya._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ba{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=os(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>$s._fromServerResponse(n,e)));oo(r.mfaPendingCredential,n,"internal-error");const o=ya._fromMfaPendingCredential(r.mfaPendingCredential);return new ba(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Us._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return oo(t.user,n,"internal-error"),Us._forOperation(t.user,t.operationType,s);default:eo(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class wa{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>$s._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new wa(e)}async getSession(){return ya._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await No(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await No(this.user,function(e,t){return yo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",vo(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const _a=new WeakMap;const Sa="__sak";class xa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sa,"1"),this.storage.removeItem(Sa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ea extends xa{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=or();return Ko(e)||$o(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=es(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);cr()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ea.type="LOCAL";const ka=Ea;class Ia extends xa{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ia.type="SESSION";const Ta=Ia;class Ca{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ca(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ca.receivers=[];class Pa{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Ra("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Aa(){return window}function Na(){return"undefined"!==typeof Aa().WorkerGlobalScope&&"function"===typeof Aa().importScripts}const Oa="firebaseLocalStorageDb",Da="firebaseLocalStorage",Ma="fbase_key";class La{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Fa(e,t){return e.transaction([Da],t?"readwrite":"readonly").objectStore(Da)}function ja(){const e=indexedDB.open(Oa,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Da,{keyPath:Ma})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Da)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Oa);return new La(e).toPromise()}(),t(await ja()))}))}))}async function Ua(e,t,n){const r=Fa(e,!0).put({[Ma]:t,value:n});return new La(r).toPromise()}function za(e,t){const n=Fa(e,!0).delete(t);return new La(n).toPromise()}class Za{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ja()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Na()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ca._getInstance(Na()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Pa(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ja();return await Ua(e,Sa,"1"),await za(e,Sa),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ua(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Fa(e,!1).get(t),r=await new La(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>za(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Fa(e,!1).getAll();return new La(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Za.type="LOCAL";const Va=Za;const Ba=1e12;class Wa{constructor(e){this.auth=e,this.counter=Ba,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new qa(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ba;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ba;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ba;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class qa{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;oo(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ha=ls("rcb"),Ka=new ho(3e4,6e4);class Ga{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Aa().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ko(Aa().grecaptcha)?Promise.resolve(Aa().grecaptcha):new Promise(((n,r)=>{const i=Aa().setTimeout((()=>{r(to(e,"network-request-failed"))}),Ka.get());Aa()[Ha]=()=>{Aa().clearTimeout(i),delete Aa()[Ha];const o=Aa().grecaptcha;if(!o||!ko(o))return void r(to(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};as("".concat("https://www.google.com/recaptcha/api.js?","?").concat(vr({onload:Ha,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(to(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Aa().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qa{async load(e){return new Wa(e)}clearedOneInstance(){}}const Xa="recaptcha",Ya={theme:"light",type:"image"};class Ja{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ya);this.parameters=n,this.type=Xa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=os(e),this.isInvisible="invisible"===this.parameters.size,oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;oo(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qa:new Ga,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){oo(!this.parameters.sitekey,this.auth,"argument-error"),oo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Aa()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){oo(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){oo(co()&&!Na(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await yo(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);oo(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return oo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $a{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Is._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function el(e,t,n){var r;const i=await n.verify();try{let o;if(oo("string"===typeof i,e,"argument-error"),oo(n.type===Xa,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){oo("enroll"===t.type,e,"internal-error");const n=await function(e,t){return yo(e,"POST","/v2/accounts/mfaEnrollment:start",vo(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{oo("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;oo(n,e,"missing-multi-factor-info");const s=await function(e,t){return yo(e,"POST","/v2/accounts/mfaSignIn:start",vo(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return yo(e,"POST","/v1/accounts:sendVerificationCode",vo(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class tl{constructor(e){this.providerId=tl.PROVIDER_ID,this.auth=os(e)}verifyPhoneNumber(e,t){return el(this.auth,e,xr(t))}static credential(e,t){return Is._fromVerification(e,t)}static credentialFromResult(e){const t=e;return tl.credentialFromTaggedObject(t)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Is._fromTokenResponse(n,r):null}}function nl(e,t){return t?zo(t):(oo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tl.PROVIDER_ID="phone",tl.PHONE_SIGN_IN_METHOD="phone";class rl extends ms{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function il(e){return Gs(e.auth,new rl(e),e.bypassAuthState)}function ol(e){const{auth:t,user:n}=e;return oo(n,t,"internal-error"),Ks(n,new rl(e),e.bypassAuthState)}async function sl(e){const{auth:t,user:n}=e;return oo(n,t,"internal-error"),qs(n,new rl(e),e.bypassAuthState)}class al{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return il;case"linkViaPopup":case"linkViaRedirect":return sl;case"reauthViaPopup":case"reauthViaRedirect":return ol;default:eo(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ll=new ho(2e3,1e4);async function cl(e,t,n){const r=os(e);ro(e,t,Rs);const i=nl(r,n);return new ul(r,"signInViaPopup",t,i).executeNotNull()}class ul extends al{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oo(e,this.auth,"internal-error"),e}async onExecution(){ao(1===this.filter.length,"Popup operations only handle one event");const e=Ra();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(to(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(to(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(to(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ll.get())};e()}}ul.currentPopupAction=null;const dl="pendingRedirect",hl=new Map;class fl extends al{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=hl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=vl(t),r=gl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}hl.set(this.auth._key(),e)}return this.bypassAuthState||hl.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function pl(e,t){return gl(e)._set(vl(t),"true")}function ml(e,t){hl.set(e._key(),t)}function gl(e){return zo(e._redirectPersistence)}function vl(e){return Bo(dl,e.config.apiKey,e.name)}function yl(e,t,n){return async function(e,t,n){const r=os(e);ro(e,t,Rs),await r._initializationPromise;const i=nl(r,n);return await pl(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function bl(e,t,n){return async function(e,t,n){const r=xr(e);ro(r.auth,t,Rs),await r.auth._initializationPromise;const i=nl(r.auth,n);await pl(i,r.auth);const o=await Sl(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function wl(e,t,n){return async function(e,t,n){const r=xr(e);ro(r.auth,t,Rs),await r.auth._initializationPromise;const i=nl(r.auth,n);await Hs(!1,r,t.providerId),await pl(i,r.auth);const o=await Sl(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function _l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=os(e),i=nl(r,t),o=new fl(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Sl(e){const t=Ra("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class xl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!kl(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(to(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(El(e))}saveEventToCache(e){this.cachedEventUids.add(El(e)),this.lastProcessedEventTime=Date.now()}}function El(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function kl(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Il(e){return yo(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Tl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cl=/^https?/;function Rl(e){const t=lo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Cl.test(n))return!1;if(Tl.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Pl=new ho(3e4,6e4);function Al(){const e=Aa().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Nl=null;function Ol(e){return Nl=Nl||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Al(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Al(),n(to(e,"network-request-failed"))},timeout:Pl.get()})}if(null===(i=null===(r=Aa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Aa().gapi)||void 0===o?void 0:o.load)){const t=ls("iframefcb");return Aa()[t]=()=>{gapi.load?s():n(to(e,"network-request-failed"))},as("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Nl=null,e}))}(e),Nl}const Dl=new ho(5e3,15e3),Ml="__/auth/iframe",Ll="emulator/auth/iframe",Fl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ul(e){const t=e.config;oo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fo(t,Ll):"https://".concat(e.config.authDomain,"/").concat(Ml),r={apiKey:t.apiKey,appName:e.name,v:mi},i=jl.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(vr(r).slice(1))}const zl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Vl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zl),{width:r.toString(),height:i.toString(),top:o,left:s}),c=or().toLowerCase();n&&(a=Go(c)?"_blank":n),Ho(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return $o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:or())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Zl(null);const d=window.open(t||"",a,u);oo(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Zl(d)}const Bl="__/auth/handler",Wl="emulator/auth/handler",ql=encodeURIComponent("fac");async function Hl(e,t,n,r,i,o){oo(e.config.authDomain,e,"auth-domain-config-required"),oo(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mi,eventId:i};if(t instanceof Rs){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Ps){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ql,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Bl);return fo(t,Wl)}(e),"?").concat(vr(a).slice(1)).concat(c)}const Kl="webStorageSupport";const Gl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ta,this._completeRedirectFn=_l,this._overrideRedirectResult=ml}async _openPopup(e,t,n,r){var i;ao(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Vl(e,await Hl(e,t,n,lo(),r),Ra())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Aa().location.href=e}(await Hl(e,t,n,lo(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ao(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ol(e),n=Aa().gapi;return oo(n,e,"internal-error"),t.open({where:document.body,url:Ul(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=to(e,"network-request-failed"),o=Aa().setTimeout((()=>{r(i)}),Dl.get());function s(){Aa().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new xl(e);return t.register("authEvent",(t=>{oo(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kl,{type:Kl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Kl];void 0!==i&&t(!!i),eo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Il(e);for(const r of t)try{if(Rl(r))return}catch(n){}eo(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return es()||Ko()||$o()}};class Ql{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return so("unexpected MultiFactorSessionType")}}}class Xl extends Ql{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Xl(e)}_finalizeEnroll(e,t,n){return function(e,t){return yo(e,"POST","/v2/accounts/mfaEnrollment:finalize",vo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return yo(e,"POST","/v2/accounts/mfaSignIn:finalize",vo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Yl{constructor(){}static assertion(e){return Xl._fromCredential(e)}}Yl.FACTOR_ID="phone";var Jl="@firebase/auth",$l="1.5.0";class ec{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=tr())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var tc;function nc(){return window}tc="Browser",ci(new Er("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;oo(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:tc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ts(tc)},c=new is(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ci(new Er("auth-internal",(e=>(e=>new ec(e))(os(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wi(Jl,$l,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(tc)),wi(Jl,$l,"esm2017");async function rc(e,t,n){var r;const{BuildInfo:i}=nc();ao(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(ao(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return $o()?s.ibi=i.packageName:Xo()?s.apn=i.packageName:eo(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Hl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function ic(e){const{cordova:t}=nc();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const oc=20;class sc extends xl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ac(e){const t=await uc()._get(dc(e));return t&&await uc()._remove(dc(e)),t}function lc(e,t){var n,r;const i=function(e){const t=hc(e),n=t.link?decodeURIComponent(t.link):void 0,r=hc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return hc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=hc(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?to(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function cc(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<oc;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function uc(){return zo(ka)}function dc(e){return Bo("authEvent",e.config.apiKey,e.name)}function hc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return yr(n.join("?"))}const fc=class{constructor(){this._redirectPersistence=Ta,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_l,this._overrideRedirectResult=ml}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new sc(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){eo(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=nc();oo("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oo("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oo("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oo("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oo("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),hl.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:cc(),postBody:null,tenantId:e.tenantId,error:to(e,"no-auth-event")}}(e,n,r);await function(e,t){return uc()._set(dc(e),t)}(e,o);const s=await rc(e,o,t);return async function(e,t,n){const{cordova:r}=nc();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(to(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Xo()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await ic(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=nc(),n={};$o()?n.iosBundleId=t.packageName:Xo()?n.androidPackageName=t.packageName:eo(e,"operation-not-supported-in-this-environment"),await Il(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=nc(),o=setTimeout((async()=>{await ac(e),t.onEvent(pc())}),500),s=async n=>{clearTimeout(o);const r=await ac(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=lc(r,n.url)),t.onEvent(i||pc())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");nc().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:to("no-auth-event")}}function mc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function gc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return!("file:"!==mc()&&"ionic:"!==mc()&&"capacitor:"!==mc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return cr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/Edge\/\d+/.test(e)}(e)}function yc(){try{const e=self.localStorage,t=Ra();if(e)return e.setItem(t,"1"),e.removeItem(t),!vc()||ur()}catch(e){return bc()&&ur()}return!1}function bc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function wc(){return("http:"===mc()||"https:"===mc()||ar()||gc())&&!(lr()||sr())&&yc()&&!bc()}function _c(){return gc()&&"undefined"!==typeof document}const Sc={LOCAL:"local",NONE:"none",SESSION:"session"},xc=oo,Ec="persistence";async function kc(e){await e._initializationPromise;const t=Ic(),n=Bo(Ec,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Ic(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Tc=oo;class Cc{constructor(){this.browserResolver=zo(Gl),this.cordovaResolver=zo(fc),this.underlyingResolver=null,this._redirectPersistence=Ta,this._completeRedirectFn=_l,this._overrideRedirectResult=ml}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _c()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tc(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!_c()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Rc(e){return e.unwrap()}function Pc(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Dc(e,function(e,t){var n;const r=xr(e),i=t;return oo(t.customData.operationType,r,"argument-error"),oo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ba._fromError(r,i)}(e,t))}else if(r){const e=Ac(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Ac(e){const{_tokenResponse:t}=e instanceof dr?e.customData:e;if(!t)return null;if(!(e instanceof dr)&&"temporaryProof"in t&&"phoneNumber"in t)return tl.credentialFromResult(e);const n=t.providerId;if(!n||n===Zi.PASSWORD)return null;let r;switch(n){case Zi.GOOGLE:r=Os;break;case Zi.FACEBOOK:r=Ns;break;case Zi.GITHUB:r=Ds;break;case Zi.TWITTER:r=Fs;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?Ms._create(n,s):Es._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new As(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof dr?r.credentialFromError(e):r.credentialFromResult(e)}function Nc(e,t){return t.catch((t=>{throw t instanceof dr&&Pc(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Ac(r)),additionalUserInfo:va(e),user:Mc.getOrCreate(n)};var r}))}async function Oc(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Nc(e,n.confirm(t))}}class Dc{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Nc(Rc(this.auth),this.resolver.resolveSignIn(e))}}class Mc{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=xr(e);return _a.has(t)||_a.set(t,wa._fromUser(t)),_a.get(t)}(e)}static getOrCreate(e){return Mc.USER_MAP.has(e)||Mc.USER_MAP.set(e,new Mc(e)),Mc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Nc(this.auth,Xs(this._delegate,e))}async linkWithPhoneNumber(e,t){return Oc(this.auth,async function(e,t,n){const r=xr(e);await Hs(!1,r,"phone");const i=await el(r.auth,t,xr(n));return new $a(i,(e=>Xs(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Nc(this.auth,async function(e,t,n){const r=xr(e);ro(r.auth,t,Rs);const i=nl(r.auth,n);return new ul(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Cc))}async linkWithRedirect(e){return await kc(os(this.auth)),wl(this._delegate,e,Cc)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Nc(this.auth,Ys(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Oc(this.auth,async function(e,t,n){const r=xr(e),i=await el(r.auth,t,xr(n));return new $a(i,(e=>Ys(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Nc(this.auth,async function(e,t,n){const r=xr(e);ro(r.auth,t,Rs);const i=nl(r.auth,n);return new ul(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Cc))}async reauthenticateWithRedirect(e){return await kc(os(this.auth)),bl(this._delegate,e,Cc)}sendEmailVerification(e){return aa(this._delegate,e)}async unlink(e){return await Ws(this._delegate,e),this}updateEmail(e){return function(e,t){return ua(xr(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ua(xr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await qs(xr(e),t)}(this._delegate,e)}updateProfile(e){return ca(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return la(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mc.USER_MAP=new WeakMap;const Lc=oo;class Fc{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Lc(n,"invalid-api-key",{appName:e.name}),Lc(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Cc:void 0;this._delegate=t.initialize({options:{persistence:Uc(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Qi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){hs(this._delegate,e,t)}applyActionCode(e){return ia(this._delegate,e)}checkActionCode(e){return oa(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await gs(xr(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ra(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Nc(this._delegate,async function(e,t,n){const r=os(e),i=ds(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",js),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ra(e),t})),s=await Us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return sa(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ts.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Lc(wc(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await os(e)._initializationPromise,_l(e,t,!1)}(this._delegate,Cc);return e?Nc(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){os(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=jc(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=jc(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=os(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){oo(t.handleCodeInApp,r,"argument-error"),t&&na(r,e,t)}(i,n),await ds(r,i,"getOobCode",_s)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=os(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&na(r,i,n),await ds(r,i,"getOobCode",ws)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){xc(Object.values(Sc).includes(t),e,"invalid-persistence-type"),lr()?xc(t!==Sc.SESSION,e,"unsupported-persistence-type"):sr()?xc(t===Sc.NONE,e,"unsupported-persistence-type"):bc()?xc(t===Sc.NONE||t===Sc.LOCAL&&ur(),e,"unsupported-persistence-type"):xc(t===Sc.NONE||yc(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Sc.SESSION:t=Ta;break;case Sc.LOCAL:t=await zo(Va)._isAvailable()?Va:ka;break;case Sc.NONE:t=Vo;break;default:return eo("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Nc(this._delegate,async function(e){var t;const n=os(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Us({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await js(n,{returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Nc(this._delegate,Qs(this._delegate,e))}signInWithCustomToken(e){return Nc(this._delegate,Js(this._delegate,e))}signInWithEmailAndPassword(e,t){return Nc(this._delegate,function(e,t,n){return Qs(xr(e),Cs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ra(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Nc(this._delegate,async function(e,t,n){const r=xr(e),i=Cs.credentialWithLink(t,n||lo());return oo(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Qs(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Oc(this._delegate,async function(e,t,n){const r=os(e),i=await el(r,t,xr(n));return new $a(i,(e=>Qs(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Lc(wc(),this._delegate,"operation-not-supported-in-this-environment"),Nc(this._delegate,cl(this._delegate,e,Cc))}async signInWithRedirect(e){return Lc(wc(),this._delegate,"operation-not-supported-in-this-environment"),await kc(this._delegate),yl(this._delegate,e,Cc)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await oa(xr(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function jc(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Mc.getOrCreate(e)),error:t,complete:n}}function Uc(e,t){const n=function(e,t){const n=Ic();if(!n)return[];const r=Bo(Ec,e,t);switch(n.getItem(r)){case Sc.NONE:return[Vo];case Sc.LOCAL:return[Va,Ta];case Sc.SESSION:return[Ta];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Va)||n.push(Va),"undefined"!==typeof window)for(const r of[ka,Ta])n.includes(r)||n.push(r);return n.includes(Vo)||n.push(Vo),n}Fc.Persistence=Sc;class zc{constructor(){this.providerId="phone",this._delegate=new tl(Rc(Ui.auth()))}static credential(e,t){return tl.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}zc.PHONE_SIGN_IN_METHOD=tl.PHONE_SIGN_IN_METHOD,zc.PROVIDER_ID=tl.PROVIDER_ID;const Zc=oo;class Vc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ui.app();var r;Zc(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ja(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Bc;(Bc=Ui).INTERNAL.registerComponent(new Er("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Fc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vi,PASSWORD_RESET:Bi,RECOVER_EMAIL:Wi,REVERT_SECOND_FACTOR_ADDITION:qi,VERIFY_AND_CHANGE_EMAIL:Hi,VERIFY_EMAIL:Ki}},EmailAuthProvider:Cs,FacebookAuthProvider:Ns,GithubAuthProvider:Ds,GoogleAuthProvider:Os,OAuthProvider:As,SAMLAuthProvider:Ls,PhoneAuthProvider:zc,PhoneMultiFactorGenerator:Yl,RecaptchaVerifier:Vc,TwitterAuthProvider:Fs,Auth:Fc,AuthCredential:ms,Error:dr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Bc.registerVersion("@firebase/auth-compat","0.5.0");const Wc="firebasestorage.googleapis.com",qc="storageBucket";class Hc extends dr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Qc(e),"Firebase Storage: ".concat(t," (").concat(Qc(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Kc,Gc;function Qc(e){return"storage/"+e}function Xc(){return new Hc(Kc.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Yc(){return new Hc(Kc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jc(){return new Hc(Kc.CANCELED,"User canceled the upload/download.")}function $c(){return new Hc(Kc.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eu(e){return new Hc(Kc.INVALID_ARGUMENT,e)}function tu(){return new Hc(Kc.APP_DELETED,"The Firebase app was deleted.")}function nu(e){return new Hc(Kc.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ru(e,t){return new Hc(Kc.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function iu(e){throw new Hc(Kc.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Kc||(Kc={}));class ou{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ou.makeFromUrl(e,t)}catch(i){return new ou(e,"")}if(""===n.path)return n;throw r=e,new Hc(Kc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Wc?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ou(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Hc(Kc.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class su{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function au(e){return"string"===typeof e||e instanceof String}function lu(e){return cu()&&e instanceof Blob}function cu(){return"undefined"!==typeof Blob}function uu(e,t,n,r){if(r<t)throw eu("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw eu("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function du(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function hu(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function fu(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Gc||(Gc={}));class pu{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new mu(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Gc.NO_ERROR,i=n.getStatus();if(!t||fu(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Gc.ABORT;return void e(!1,new mu(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new mu(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=Xc();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?tu():Jc())}else{r(Yc())}};this.canceled_?t(0,new mu(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mu{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function gu(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vu(){const e=gu();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(cu())return new Blob(n);throw new Hc(Kc.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function yu(e){if("undefined"===typeof atob)throw t="base-64",new Hc(Kc.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const bu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wu{constructor(e,t){this.data=e,this.contentType=t||null}}function _u(e,t){switch(e){case bu.RAW:return new wu(Su(t));case bu.BASE64:case bu.BASE64URL:return new wu(xu(e,t));case bu.DATA_URL:return new wu(function(e){const t=new Eu(e);return t.base64?xu(bu.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw ru(bu.DATA_URL,"Malformed data URL.")}return Su(t)}(t.rest)}(t),new Eu(t).contentType)}throw Xc()}function Su(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xu(e,t){switch(e){case bu.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw ru(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case bu.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw ru(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yu(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw ru(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Eu{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw ru(bu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ku{constructor(e,t){let n=0,r="";lu(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(lu(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ku(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ku(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(cu()){const e=t.map((e=>e instanceof ku?e.data_:e));return new ku(vu.apply(null,e))}{const e=t.map((e=>au(e)?_u(bu.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new ku(r,!0)}}uploadData(){return this.data_}}function Iu(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Tu(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Cu(e,t){return t}class Ru{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Cu}}let Pu=null;function Au(){if(Pu)return Pu;const e=[];e.push(new Ru("bucket")),e.push(new Ru("generation")),e.push(new Ru("metageneration")),e.push(new Ru("name","fullPath",!0));const t=new Ru("name");t.xform=function(e,t){return function(e){return!au(e)||e.length<2?e:Tu(e)}(t)},e.push(t);const n=new Ru("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ru("timeCreated")),e.push(new Ru("updated")),e.push(new Ru("md5Hash",null,!0)),e.push(new Ru("cacheControl",null,!0)),e.push(new Ru("contentDisposition",null,!0)),e.push(new Ru("contentEncoding",null,!0)),e.push(new Ru("contentLanguage",null,!0)),e.push(new Ru("contentType",null,!0)),e.push(new Ru("metadata","customMetadata",!0)),Pu=e,Pu}function Nu(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new ou(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ou(e,t,n){const r=Iu(t);if(null===r)return null;return Nu(e,r,n)}function Du(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const Mu="prefixes",Lu="items";function Fu(e,t,n){const r=Iu(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Mu])for(const i of n[Mu]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new ou(t,n));r.prefixes.push(o)}if(n[Lu])for(const i of n[Lu]){const n=e._makeStorageReference(new ou(t,i.name));r.items.push(n)}return r}(e,t,r)}class ju{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Uu(e){if(!e)throw Xc()}function zu(e,t){return function(n,r){const i=Ou(e,r,t);return Uu(null!==i),i}}function Zu(e,t){return function(n,r){const i=Ou(e,r,t);return Uu(null!==i),function(e,t,n,r){const i=Iu(t);if(null===i)return null;if(!au(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return du("/b/"+s(i)+"/o/"+s(o),n,r)+hu({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Vu(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Hc(Kc.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Hc(Kc.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Hc(Kc.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Hc(Kc.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Bu(e){const t=Vu(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Hc(Kc.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Wu(e,t,n){const r=du(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ju(r,"GET",zu(e,n),i);return o.errorHandler=Bu(t),o}function qu(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=du(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new ju(s,"GET",function(e,t){return function(n,r){const i=Fu(e,t,r);return Uu(null!==i),i}}(e,t.bucket),a);return l.urlParams=o,l.errorHandler=Vu(t),l}function Hu(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ku(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Hu(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Du(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=ku.getBlob(c,r,u);if(null===d)throw $c();const h={name:l.fullPath},f=du(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ju(f,"POST",zu(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=Vu(t),m}class Gu{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Qu(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Uu(!1)}return Uu(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Xu=262144;function Yu(e,t,n,r,i,o,s,a){const l=new Gu(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Hc(Kc.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw $c();const g=t.maxUploadRetryTime,v=new ju(n,"POST",(function(e,n){const i=Qu(e,["active","final"]),s=l.current+u,a=r.size();let c;return c="final"===i?zu(t,o)(e,n):null,new Gu(s,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=Vu(e),v}const Ju={STATE_CHANGED:"state_changed"},$u={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ed(e){switch(e){case"running":case"pausing":case"canceling":return $u.RUNNING;case"paused":return $u.PAUSED;case"success":return $u.SUCCESS;case"canceled":return $u.CANCELED;default:return $u.ERROR}}class td{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function nd(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let rd=null;class id{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gc.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Gc.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Gc.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw iu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class od extends id{initXhr(){this.xhr_.responseType="text"}}function sd(){return rd?rd():new od}class ad{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Au(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Kc.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(fu(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Yc()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Kc.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=Hu(t,r,i),a={name:s.fullPath},l=du(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=Du(s,n),d=e.maxUploadRetryTime,h=new ju(l,"POST",(function(e){let t;Qu(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Uu(!1)}return Uu(au(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=Vu(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,sd,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new ju(n,"POST",(function(e){const t=Qu(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Uu(!1)}n||Uu(!1);const i=Number(n);return Uu(!isNaN(i)),new Gu(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Vu(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,sd,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Xu*this._chunkMultiplier,t=new Gu(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=Yu(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,sd,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Xu*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Wu(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,sd,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Ku(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,sd,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Jc(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ed(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new td(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ed(this._state)){case $u.SUCCESS:nd(this._resolve.bind(null,this.snapshot))();break;case $u.CANCELED:case $u.ERROR:nd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ed(this._state)){case $u.RUNNING:case $u.PAUSED:e.next&&nd(e.next.bind(e,this.snapshot))();break;case $u.SUCCESS:e.complete&&nd(e.complete.bind(e))();break;default:e.error&&nd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ld{constructor(e,t){this._service=e,this._location=t instanceof ou?t:ou.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ld(e,t)}get root(){const e=new ou(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Tu(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ou(this._location.bucket,e);return new ld(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw nu(e)}}function cd(e){const t={prefixes:[],items:[]};return ud(e,t).then((()=>t))}async function ud(e,t,n){const r={pageToken:n},i=await dd(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await ud(e,t,i.nextPageToken)}function dd(e,t){null!=t&&"number"===typeof t.maxResults&&uu("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=qu(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,sd)}function hd(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=du(t.fullServerUrl(),e.host,e._protocol),o=Du(n,r),s=e.maxOperationRetryTime,a=new ju(i,"PATCH",zu(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Bu(t),a}(e.storage,e._location,t,Au());return e.storage.makeRequestWithTokens(n,sd)}function fd(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=du(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new ju(r,"GET",Zu(e,n),i);return o.errorHandler=Bu(t),o}(e.storage,e._location,Au());return e.storage.makeRequestWithTokens(t,sd).then((e=>{if(null===e)throw new Hc(Kc.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function pd(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=du(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ju(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Bu(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,sd)}function md(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ou(e._location.bucket,n);return new ld(e.storage,r)}function gd(e,t){if(e instanceof bd){const n=e;if(null==n._bucket)throw new Hc(Kc.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qc+"' property when initializing the app?");const r=new ld(n,n._bucket);return null!=t?gd(r,t):r}return void 0!==t?md(e,t):e}function vd(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof bd)return new ld(e,t);throw eu("To use ref(service, url), the first argument must be a Storage instance.")}return gd(e,t)}function yd(e,t){const n=null===t||void 0===t?void 0:t[qc];return null==n?null:ou.makeFromBucketSpec(n,e)}class bd{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Wc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ou.makeFromBucketSpec(r,this._host):yd(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ou.makeFromBucketSpec(this._url,e):this._bucket=yd(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uu("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uu("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ld(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new su(tu());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=hu(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new pu(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const wd="@firebase/storage",_d="0.12.0",Sd="storage";function xd(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ad(e,new ku(t),n)}(e=xr(e),t,n)}function Ed(e){return function(e){e._throwIfRoot("getMetadata");const t=Wu(e.storage,e._location,Au());return e.storage.makeRequestWithTokens(t,sd)}(e=xr(e))}function kd(e){return fd(e=xr(e))}function Id(e,t){return vd(e=xr(e),t)}function Td(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:ir(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Cd(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new bd(r,i,o,n,mi)}ci(new Er(Sd,Cd,"PUBLIC").setMultipleInstances(!0)),wi(wd,_d,""),wi(wd,_d,"esm2017");class Rd{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Pd{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Rd(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Rd(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Rd(e,this,this._ref)):{next:t.next?e=>t.next(new Rd(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Ad{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Nd(e,this._service)))}get items(){return this._delegate.items.map((e=>new Nd(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return md(e,t)}(this._delegate,e);return new Nd(t,this.storage)}get root(){return new Nd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Nd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Pd(xd(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bu.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=_u(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Pd(new ad(this._delegate,new ku(r.data,!0),i),this)}listAll(){return function(e){return cd(e=xr(e))}(this._delegate).then((e=>new Ad(e,this.storage)))}list(e){return function(e,t){return dd(e=xr(e),t)}(this._delegate,e||void 0).then((e=>new Ad(e,this.storage)))}getMetadata(){return Ed(this._delegate)}updateMetadata(e){return function(e,t){return hd(e=xr(e),t)}(this._delegate,e)}getDownloadURL(){return kd(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return pd(e=xr(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw nu(e)}}class Od{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Dd(e))throw eu("ref() expected a child path but got a URL, use refFromURL instead.");return new Nd(Id(this._delegate,e),this)}refFromURL(e){if(!Dd(e))throw eu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ou.makeFromUrl(e,this._delegate.host)}catch(t){throw eu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nd(Id(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Td(this._delegate,e,t,n)}}function Dd(e){return/^[A-Za-z]+:\/\//.test(e)}function Md(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Od(r,i)}!function(e){const t={TaskState:$u,TaskEvent:Ju,StringFormat:bu,Storage:Od,Reference:Nd};e.INTERNAL.registerComponent(new Er("storage-compat",Md,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.3")}(Ui);var Ld,Fd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jd={},Ud=Ud||{},zd=Fd||self;function Zd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bd="closure_uid_"+(1e9*Math.random()>>>0),Wd=0;function qd(e,t,n){return e.call.apply(e.bind,arguments)}function Hd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Kd(e,t,n){return(Kd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qd:Hd).apply(null,arguments)}function Gd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Xd(){this.s=this.s,this.o=this.o}Xd.prototype.s=!1,Xd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Bd)&&e[Bd]||(e[Bd]=++Wd)}(this)},Xd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Jd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function $d(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Zd(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function eh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}eh.prototype.h=function(){this.defaultPrevented=!0};var th=function(){if(!zd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};zd.addEventListener("test",e,t),zd.removeEventListener("test",e,t)}catch(U){}return e}();function nh(e){return/^[\s\xa0]*$/.test(e)}function rh(){var e=zd.navigator;return e&&(e=e.userAgent)?e:""}function ih(e){return-1!=rh().indexOf(e)}function oh(e){return oh[" "](e),e}oh[" "]=function(){};var sh,ah,lh=ih("Opera"),ch=ih("Trident")||ih("MSIE"),uh=ih("Edge"),dh=uh||ch,hh=ih("Gecko")&&!(-1!=rh().toLowerCase().indexOf("webkit")&&!ih("Edge"))&&!(ih("Trident")||ih("MSIE"))&&!ih("Edge"),fh=-1!=rh().toLowerCase().indexOf("webkit")&&!ih("Edge");function ph(){var e=zd.document;return e?e.documentMode:void 0}e:{var mh="",gh=function(){var e=rh();return hh?/rv:([^\);]+)(\)|;)/.exec(e):uh?/Edge\/([\d\.]+)/.exec(e):ch?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fh?/WebKit\/(\S+)/.exec(e):lh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gh&&(mh=gh?gh[1]:""),ch){var vh=ph();if(null!=vh&&vh>parseFloat(mh)){sh=String(vh);break e}}sh=mh}if(zd.document&&ch){var yh=ph();ah=yh||(parseInt(sh,10)||void 0)}else ah=void 0;var bh=ah;function wh(e,t){if(eh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hh){e:{try{oh(t.nodeName);var i=!0;break e}catch(j){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_h[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wh.$.h.call(this)}}Qd(wh,eh);var _h={2:"touch",3:"pen",4:"mouse"};wh.prototype.h=function(){wh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Sh="closure_listenable_"+(1e6*Math.random()|0),xh=0;function Eh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++xh,this.fa=this.ia=!1}function kh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ih(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Th(e){const t={};for(const n in e)t[n]=e[n];return t}const Ch="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ch.length;t++)n=Ch[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ph(e){this.src=e,this.g={},this.h=0}function Ah(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Yd(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(kh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Nh(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Ph.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Nh(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Eh(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Oh="closure_lm_"+(1e6*Math.random()|0),Dh={};function Mh(e,t,n,r,i){if(r&&r.once)return Fh(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Mh(e,t[o],n,r,i);return null}return n=Wh(n),e&&e[Sh]?e.O(t,n,Vd(r)?!!r.capture:!!r,i):Lh(e,t,n,!1,r,i)}function Lh(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Vd(i)?!!i.capture:!!i,a=Vh(e);if(a||(e[Oh]=a=new Ph(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Zh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)th||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fh(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Fh(e,t[o],n,r,i);return null}return n=Wh(n),e&&e[Sh]?e.P(t,n,Vd(r)?!!r.capture:!!r,i):Lh(e,t,n,!0,r,i)}function jh(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)jh(e,t[o],n,r,i);else r=Vd(r)?!!r.capture:!!r,n=Wh(n),e&&e[Sh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Nh(o=e.g[t],n,r,i))&&(kh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Vh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Nh(t,n,r,i)),(n=-1<e?t[e]:null)&&Uh(n))}function Uh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Sh])Ah(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vh(t))?(Ah(n,e),0==n.h&&(n.src=null,t[Oh]=null)):kh(e)}}}function zh(e){return e in Dh?Dh[e]:Dh[e]="on"+e}function Zh(e,t){if(e.fa)e=!0;else{t=new wh(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Uh(e),e=n.call(r,t)}return e}function Vh(e){return(e=e[Oh])instanceof Ph?e:null}var Bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wh(e){return"function"===typeof e?e:(e[Bh]||(e[Bh]=function(t){return e.handleEvent(t)}),e[Bh])}function qh(){Xd.call(this),this.i=new Ph(this),this.S=this,this.J=null}function Hh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new eh(t,e);else if(t instanceof eh)t.target=t.target||e;else{var i=t;Rh(t=new eh(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Kh(s,r,!0,t)&&i}if(i=Kh(s=t.g=e,r,!0,t)&&i,i=Kh(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Kh(s=t.g=n[o],r,!1,t)&&i}function Kh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Ah(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Qd(qh,Xd),qh.prototype[Sh]=!0,qh.prototype.removeEventListener=function(e,t,n,r){jh(this,e,t,n,r)},qh.prototype.N=function(){if(qh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kh(n[r]);delete t.g[e],t.h--}}this.J=null},qh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Gh=zd.JSON.stringify;function Qh(){var e=nf;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Yh),(e=>e.reset()));class Yh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Jh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function $h(e){zd.setTimeout((()=>{throw e}),0)}let ef,tf=!1,nf=new class{constructor(){this.h=this.g=null}add(e,t){const n=Xh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},rf=()=>{const e=zd.Promise.resolve(void 0);ef=()=>{e.then(of)}};var of=()=>{for(var e;e=Qh();){try{e.h.call(e.g)}catch(U){$h(U)}var t=Xh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tf=!1};function sf(e,t){qh.call(this),this.h=e||1,this.g=t||zd,this.j=Kd(this.qb,this),this.l=Date.now()}function af(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function lf(e,t,n){if("function"===typeof e)n&&(e=Kd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Kd(e.handleEvent,e)}return 2147483647<Number(t)?-1:zd.setTimeout(e,t||0)}function cf(e){e.g=lf((()=>{e.g=null,e.i&&(e.i=!1,cf(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Qd(sf,qh),(Ld=sf.prototype).ga=!1,Ld.T=null,Ld.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hh(this,"tick"),this.ga&&(af(this),this.start()))}},Ld.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ld.N=function(){sf.$.N.call(this),af(this),delete this.g};class uf extends Xd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cf(this)}N(){super.N(),this.g&&(zd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function df(e){Xd.call(this),this.h=e,this.g={}}Qd(df,Xd);var hf=[];function ff(e,t,n,r){Array.isArray(n)||(n&&(hf[0]=n.toString()),n=hf);for(var i=0;i<n.length;i++){var o=Mh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function pf(e){Ih(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Uh(e)}),e),e.g={}}function mf(){this.g=!0}function gf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Gh(n)}catch(A){return t}}(e,n)+(r?" "+r:"")}))}df.prototype.N=function(){df.$.N.call(this),pf(this)},df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mf.prototype.Ea=function(){this.g=!1},mf.prototype.info=function(){};var vf={},yf=null;function bf(){return yf=yf||new qh}function wf(e){eh.call(this,vf.Ta,e)}function _f(e){const t=bf();Hh(t,new wf(t))}function Sf(e,t){eh.call(this,vf.STAT_EVENT,e),this.stat=t}function xf(e){const t=bf();Hh(t,new Sf(t,e))}function Ef(e,t){eh.call(this,vf.Ua,e),this.size=t}function kf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zd.setTimeout((function(){e()}),t)}vf.Ta="serverreachability",Qd(wf,eh),vf.STAT_EVENT="statevent",Qd(Sf,eh),vf.Ua="timingevent",Qd(Ef,eh);var If={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cf(){}function Rf(e){return e.h||(e.h=e.i())}function Pf(){}Cf.prototype.h=null;var Af,Nf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Of(){eh.call(this,"d")}function Df(){eh.call(this,"c")}function Mf(){}function Lf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new df(this),this.P=jf,e=dh?125:void 0,this.V=new sf(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ff}function Ff(){this.i=null,this.g="",this.h=!1}Qd(Of,eh),Qd(Df,eh),Qd(Mf,Cf),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},Af=new Mf;var jf=45e3,Uf={},zf={};function Zf(e,t,n){e.L=1,e.A=sp(tp(t)),e.u=n,e.S=!0,Vf(e,null)}function Vf(e,t){e.G=Date.now(),Hf(e),e.B=tp(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),bp(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ff,e.g=bm(e.l,n?t:null,!e.u),0<e.O&&(e.M=new uf(Kd(e.Pa,e,e.g),e.O)),ff(e.U,e.g,"readystatechange",e.nb),t=e.I?Th(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),_f(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Bf(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Wf(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=qf(e,n),r==zf){4==t&&(e.s=4,xf(14),i=!1),gf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uf){e.s=4,xf(15),gf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gf(e.j,e.m,r,null),Yf(e,r)}Bf(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,xf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),dm(t),t.M=!0,xf(11))):(gf(e.j,e.m,n,"[Invalid Chunked Response]"),Xf(e),Qf(e))}function qf(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?zf:(n=Number(t.substring(n,r)),isNaN(n)?Uf:(r+=1)+n>t.length?zf:(t=t.slice(r,r+n),e.o=r+n,t))}function Hf(e){e.Y=Date.now()+e.P,Kf(e,e.P)}function Kf(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=kf(Kd(e.lb,e),t)}function Gf(e){e.C&&(zd.clearTimeout(e.C),e.C=null)}function Qf(e){0==e.l.H||e.J||pm(e.l,e)}function Xf(e){Gf(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,af(e.V),pf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Yf(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ip(n.i,e)))if(!e.K&&Ip(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(G){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;fm(n),rm(n)}um(n),xf(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=kf(Kd(n.ib,n),6e3));if(1>=kp(n.i)&&n.oa){try{n.oa()}catch(G){}n.oa=void 0}}else gm(n,11)}else if((e.K||n.g==e)&&fm(n),!nh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Tp(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,op(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=ym(r,r.J?r.pa:null,r.Y),s.K){Cp(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Gf(a),Hf(a)),r.g=s}else cm(r);0<n.j.length&&om(n)}else"stop"!=c[0]&&"close"!=c[0]||gm(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gm(n,7):nm(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}_f()}catch(G){}}function Jf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Zd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Zd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Ld=Lf.prototype).setTimeout=function(e){this.P=e},Ld.nb=function(e){e=e.target;const t=this.M;t&&3==Xp(e)?t.l():this.Pa(e)},Ld.Pa=function(e){try{if(e==this.g)e:{const u=Xp(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||dh||this.g&&(this.h.h||this.g.ja()||Yp(this.g)))){this.J||4!=u||7==t||_f(),Gf(this);var n=this.g.da();this.ca=n;t:if(Bf(this)){var r=Yp(this.g);e="";var i=r.length,o=4==Xp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xf(this),Qf(this);var s="";break t}this.h.i=new zd.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,xf(12),Xf(this),Qf(this);break e}gf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yf(this,n)}this.S?(Wf(this,u,s),dh&&this.i&&3==u&&(ff(this.U,this.V,"tick",this.mb),this.V.start())):(gf(this.j,this.m,s,null),Yf(this,s)),4==u&&Xf(this),this.i&&!this.J&&(4==u?pm(this.l,this):(this.i=!1,Hf(this)))}else(function(e){const t={};e=(e.g&&2<=Xp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(nh(e[r]))continue;var n=Jh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,xf(12)):(this.s=0,xf(13)),Xf(this),Qf(this)}}}catch(L){}},Ld.mb=function(){if(this.g){var e=Xp(this.g),t=this.g.ja();this.o<t.length&&(Gf(this),Wf(this,e,t),this.i&&4!=e&&Hf(this))}},Ld.cancel=function(){this.J=!0,Xf(this)},Ld.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(_f(),xf(17)),Xf(this),this.s=2,Qf(this)):Kf(this,this.Y-e)};var $f=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ep(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ep){this.h=e.h,np(this,e.j),this.s=e.s,this.g=e.g,rp(this,e.m),this.l=e.l;var t=e.i,n=new mp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ip(this,n),this.o=e.o}else e&&(t=String(e).match($f))?(this.h=!1,np(this,t[1]||"",!0),this.s=ap(t[2]||""),this.g=ap(t[3]||"",!0),rp(this,t[4]),this.l=ap(t[5]||"",!0),ip(this,t[6]||"",!0),this.o=ap(t[7]||"")):(this.h=!1,this.i=new mp(null,this.h))}function tp(e){return new ep(e)}function np(e,t,n){e.j=n?ap(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ip(e,t,n){t instanceof mp?(e.i=t,function(e,t){t&&!e.j&&(gp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vp(this,t),bp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=lp(t,fp)),e.i=new mp(t,e.h))}function op(e,t,n){e.i.set(t,n)}function sp(e){return op(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ap(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ep.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lp(t,up,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(lp(t,up,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(lp(n,"/"==n.charAt(0)?hp:dp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lp(n,pp)),e.join("")};var up=/[#\/\?@]/g,dp=/[#\?:]/g,hp=/[#\?]/g,fp=/[#\?@]/g,pp=/#/g;function mp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vp(e,t){gp(e),t=wp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yp(e,t){return gp(e),t=wp(e,t),e.g.has(t)}function bp(e,t,n){vp(e,t),0<n.length&&(e.i=null,e.g.set(wp(e,t),Jd(n)),e.h+=n.length)}function wp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ld=mp.prototype).add=function(e,t){gp(this),this.i=null,e=wp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ld.forEach=function(e,t){gp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ld.ta=function(){gp(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ld.Z=function(e){gp(this);let t=[];if("string"===typeof e)yp(this,e)&&(t=t.concat(this.g.get(wp(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ld.set=function(e,t){return gp(this),this.i=null,yp(this,e=wp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ld.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ld.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var _p=class{constructor(e,t){this.g=e,this.map=t}};function Sp(e){this.l=e||xp,zd.PerformanceNavigationTiming?e=0<(e=zd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zd.g&&zd.g.Ka&&zd.g.Ka()&&zd.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xp=10;function Ep(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kp(e){return e.h?1:e.g?e.g.size:0}function Ip(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tp(e,t){e.g?e.g.add(t):e.h=t}function Cp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rp(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Jd(e.i)}Sp.prototype.cancel=function(){if(this.i=Rp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Pp=class{stringify(e){return zd.JSON.stringify(e,void 0)}parse(e){return zd.JSON.parse(e,void 0)}};function Ap(){this.g=new Pp}function Np(e,t,n){const r=n||"";try{Jf(e,(function(e,n){let i=e;Vd(e)&&(i=Gh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Op(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(j){}}function Dp(e){this.l=e.ec||null,this.j=e.ob||!1}function Mp(e,t){qh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Lp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qd(Dp,Cf),Dp.prototype.g=function(){return new Mp(this.l,this.j)},Dp.prototype.i=function(e){return function(){return e}}({}),Qd(Mp,qh);var Lp=0;function Fp(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function jp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Up(e)}function Up(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ld=Mp.prototype).open=function(e,t){if(this.readyState!=Lp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Up(this)},Ld.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ld.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jp(this)),this.readyState=Lp},Ld.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Up(this)),this.g&&(this.readyState=3,Up(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof zd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fp(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ld.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jp(this):Up(this),3==this.readyState&&Fp(this)}},Ld.Za=function(e){this.g&&(this.response=this.responseText=e,jp(this))},Ld.Ya=function(e){this.g&&(this.response=e,jp(this))},Ld.ka=function(){this.g&&jp(this)},Ld.setRequestHeader=function(e,t){this.v.append(e,t)},Ld.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ld.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zp=zd.JSON.parse;function Zp(e){qh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vp,this.L=this.M=!1}Qd(Zp,qh);var Vp="",Bp=/^https?$/i,Wp=["POST","PUT"];function qp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hp(e),Gp(e)}function Hp(e){e.F||(e.F=!0,Hh(e,"complete"),Hh(e,"error"))}function Kp(e){if(e.h&&"undefined"!=typeof Ud&&(!e.C[1]||4!=Xp(e)||2!=e.da()))if(e.v&&4==Xp(e))lf(e.La,0,e);else if(Hh(e,"readystatechange"),4==Xp(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match($f)[1]||null;!i&&zd.self&&zd.self.location&&(i=zd.self.location.protocol.slice(0,-1)),r=!Bp.test(i?i.toLowerCase():"")}n=r}if(n)Hh(e,"complete"),Hh(e,"success");else{e.m=6;try{var o=2<Xp(e)?e.g.statusText:""}catch(A){o=""}e.j=o+" ["+e.da()+"]",Hp(e)}}finally{Gp(e)}}}function Gp(e,t){if(e.g){Qp(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Hh(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Qp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zd.clearTimeout(e.A),e.A=null)}function Xp(e){return e.g?e.g.readyState:0}function Yp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Vp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(K){return null}}function Jp(e){let t="";return Ih(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function $p(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):op(e,t,n))}function em(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tm(e){this.Ga=0,this.j=[],this.l=new mf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=em("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=em("baseRetryDelayMs",5e3,e),this.hb=em("retryDelaySeedMs",1e4,e),this.eb=em("forwardChannelMaxRetries",2,e),this.xa=em("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Sp(e&&e.concurrentRequestLimit),this.Ja=new Ap,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nm(e){if(im(e),3==e.H){var t=e.W++,n=tp(e.I);if(op(n,"SID",e.K),op(n,"RID",t),op(n,"TYPE","terminate"),am(e,n),(t=new Lf(e,e.l,t)).L=2,t.A=sp(tp(n)),n=!1,zd.navigator&&zd.navigator.sendBeacon)try{n=zd.navigator.sendBeacon(t.A.toString(),"")}catch(W){}!n&&zd.Image&&((new Image).src=t.A,n=!0),n||(t.g=bm(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Hf(t)}vm(e)}function rm(e){e.g&&(dm(e),e.g.cancel(),e.g=null)}function im(e){rm(e),e.u&&(zd.clearTimeout(e.u),e.u=null),fm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&zd.clearTimeout(e.m),e.m=null)}function om(e){if(!Ep(e.i)&&!e.m){e.m=!0;var t=e.Na;ef||rf(),tf||(ef(),tf=!0),nf.add(t,e),e.C=0}}function sm(e,t){var n;n=t?t.m:e.W++;const r=tp(e.I);op(r,"SID",e.K),op(r,"RID",n),op(r,"AID",e.V),am(e,r),e.o&&e.s&&$p(r,e.o,e.s),n=new Lf(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=lm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Tp(e.i,n),Zf(n,r,t)}function am(e,t){e.na&&Ih(e.na,(function(e,n){op(t,n,e)})),e.h&&Jf({},(function(e,n){op(t,n,e)}))}function lm(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Kd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Np(a,e,"req"+n+"_")}catch(we){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function cm(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ef||rf(),tf||(ef(),tf=!0),nf.add(t,e),e.A=0}}function um(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=kf(Kd(e.Ma,e),mm(e,e.A)),e.A++,!0)}function dm(e){null!=e.B&&(zd.clearTimeout(e.B),e.B=null)}function hm(e){e.g=new Lf(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tp(e.wa);op(t,"RID","rpc"),op(t,"SID",e.K),op(t,"AID",e.V),op(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&op(t,"TO",e.qa),op(t,"TYPE","xmlhttp"),am(e,t),e.o&&e.s&&$p(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=sp(tp(t)),n.u=null,n.S=!0,Vf(n,e)}function fm(e){null!=e.v&&(zd.clearTimeout(e.v),e.v=null)}function pm(e,t){var n=null;if(e.g==t){fm(e),dm(e),e.g=null;var r=2}else{if(!Ip(e.i,t))return;n=t.F,Cp(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Hh(r=bf(),new Ef(r,n)),om(e)}else cm(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(kp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=kf(Kd(e.Na,e,t),mm(e,e.C)),e.C++,!0))}(e,t)||2==r&&um(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gm(e,5);break;case 4:gm(e,10);break;case 3:gm(e,6);break;default:gm(e,2)}}function mm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function gm(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Kd(e.pb,e);n||(n=new ep("//www.google.com/images/cleardot.gif"),zd.location&&"http"==zd.location.protocol||np(n,"https"),sp(n)),function(e,t){const n=new mf;if(zd.Image){const r=new Image;r.onload=Gd(Op,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gd(Op,n,r,"TestLoadImage: error",!1,t),r.onabort=Gd(Op,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gd(Op,n,r,"TestLoadImage: timeout",!1,t),zd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else xf(2);e.H=0,e.h&&e.h.za(t),vm(e),im(e)}function vm(e){if(e.H=0,e.ma=[],e.h){const t=Rp(e.i);0==t.length&&0==e.j.length||($d(e.ma,t),$d(e.ma,e.j),e.i.i.length=0,Jd(e.j),e.j.length=0),e.h.ya()}}function ym(e,t,n){var r=n instanceof ep?tp(n):new ep(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rp(r,r.m);else{var i=zd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ep(null);r&&np(o,r),t&&(o.g=t),i&&rp(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&op(r,n,t),op(r,"VER",e.ra),am(e,r),r}function bm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Zp(new Dp({ob:n})):new Zp(e.va)).Oa(e.J),t}function wm(){}function _m(){if(ch&&!(10<=Number(bh)))throw Error("Environmental error: no available transport.")}function Sm(e,t){qh.call(this),this.g=new tm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!nh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new km(this)}function xm(e){Of.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Em(){Df.call(this),this.status=1}function km(e){this.g=e}function Im(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Tm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Cm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Ld=Zp.prototype).Oa=function(e){this.M=e},Ld.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Af.g(),this.C=this.u?Rf(this.u):Rf(Af),this.g.onreadystatechange=Kd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(j){return void qp(this,j)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=zd.FormData&&e instanceof zd.FormData,!(0<=Yd(Wp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Qp(this),0<this.B&&((this.L=function(e){return ch&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kd(this.ua,this)):this.A=lf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(j){qp(this,j)}},Ld.ua=function(){"undefined"!=typeof Ud&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hh(this,"timeout"),this.abort(8))},Ld.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hh(this,"complete"),Hh(this,"abort"),Gp(this))},Ld.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gp(this,!0)),Zp.$.N.call(this)},Ld.La=function(){this.s||(this.G||this.v||this.l?Kp(this):this.kb())},Ld.kb=function(){Kp(this)},Ld.isActive=function(){return!!this.g},Ld.da=function(){try{return 2<Xp(this)?this.g.status:-1}catch(F){return-1}},Ld.ja=function(){try{return this.g?this.g.responseText:""}catch(F){return""}},Ld.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zp(t)}},Ld.Ia=function(){return this.m},Ld.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ld=tm.prototype).ra=8,Ld.H=1,Ld.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Lf(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Th(o),Rh(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=lm(this,i,t),op(n=tp(this.I),"RID",e),op(n,"CVER",22),this.F&&op(n,"X-HTTP-Session-Id",this.F),am(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Jp(o)))+"&"+t:this.o&&$p(n,this.o,o)),Tp(this.i,i),this.bb&&op(n,"TYPE","init"),this.P?(op(n,"$req",t),op(n,"SID","null"),i.aa=!0,Zf(i,n,null)):Zf(i,n,t),this.H=2}}else 3==this.H&&(e?sm(this,e):0==this.j.length||Ep(this.i)||sm(this))},Ld.Ma=function(){if(this.u=null,hm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=kf(Kd(this.jb,this),e)}},Ld.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xf(10),rm(this),hm(this))},Ld.ib=function(){null!=this.v&&(this.v=null,rm(this),um(this),xf(19))},Ld.pb=function(e){e?(this.l.info("Successfully pinged google.com"),xf(2)):(this.l.info("Failed to ping google.com"),xf(1))},Ld.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ld=wm.prototype).Ba=function(){},Ld.Aa=function(){},Ld.za=function(){},Ld.ya=function(){},Ld.isActive=function(){return!0},Ld.Va=function(){},_m.prototype.g=function(e,t){return new Sm(e,t)},Qd(Sm,qh),Sm.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;xf(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ym(e,null,e.Y),om(e)},Sm.prototype.close=function(){nm(this.g)},Sm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Gh(e),e=n);t.j.push(new _p(t.fb++,e)),3==t.H&&om(t)},Sm.prototype.N=function(){this.g.h=null,delete this.j,nm(this.g),delete this.g,Sm.$.N.call(this)},Qd(xm,Of),Qd(Em,Df),Qd(km,wm),km.prototype.Ba=function(){Hh(this.g,"a")},km.prototype.Aa=function(e){Hh(this.g,new xm(e))},km.prototype.za=function(e){Hh(this.g,new Em)},km.prototype.ya=function(){Hh(this.g,"b")},Qd(Im,(function(){this.blockSize=-1})),Im.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Im.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Tm(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Tm(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Tm(this,r),i=0;break}}this.h=i,this.i+=t},Im.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Rm={};function Pm(e){return-128<=e&&128>e?function(e,t){var n=Rm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Cm([0|e],0>e?-1:0)})):new Cm([0|e],0>e?-1:0)}function Am(e){if(isNaN(e)||!isFinite(e))return Om;if(0>e)return jm(Am(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Nm;return new Cm(t,0)}var Nm=4294967296,Om=Pm(0),Dm=Pm(1),Mm=Pm(16777216);function Lm(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fm(e){return-1==e.h}function jm(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Cm(n,~e.h).add(Dm)}function Um(e,t){return e.add(jm(t))}function zm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Zm(e,t){this.g=e,this.h=t}function Vm(e,t){if(Lm(t))throw Error("division by zero");if(Lm(e))return new Zm(Om,Om);if(Fm(e))return t=Vm(jm(e),t),new Zm(jm(t.g),jm(t.h));if(Fm(t))return t=Vm(e,jm(t)),new Zm(jm(t.g),t.h);if(30<e.g.length){if(Fm(e)||Fm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Dm,r=t;0>=r.X(e);)n=Bm(n),r=Bm(r);var i=Wm(n,1),o=Wm(r,1);for(r=Wm(r,2),n=Wm(n,2);!Lm(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Wm(r,1),n=Wm(n,1)}return t=Um(e,i.R(t)),new Zm(i,t)}for(i=Om;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Am(n)).R(t);Fm(s)||0<s.X(e);)s=(o=Am(n-=r)).R(t);Lm(o)&&(o=Dm),i=i.add(o),e=Um(e,s)}return new Zm(i,e)}function Bm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Cm(n,e.h)}function Wm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Cm(i,e.h)}(Ld=Cm.prototype).ea=function(){if(Fm(this))return-jm(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Nm+r)*t,t*=Nm}return e},Ld.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Lm(this))return"0";if(Fm(this))return"-"+jm(this).toString(e);for(var t=Am(Math.pow(e,6)),n=this,r="";;){var i=Vm(n,t).g,o=((0<(n=Um(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Lm(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ld.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ld.X=function(e){return Fm(e=Um(this,e))?-1:Lm(e)?0:1},Ld.abs=function(){return Fm(this)?jm(this):this},Ld.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Cm(n,-2147483648&n[n.length-1]?-1:0)},Ld.R=function(e){if(Lm(this)||Lm(e))return Om;if(Fm(this))return Fm(e)?jm(this).R(jm(e)):jm(jm(this).R(e));if(Fm(e))return jm(this.R(jm(e)));if(0>this.X(Mm)&&0>e.X(Mm))return Am(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,zm(n,2*r+2*i),n[2*r+2*i+1]+=o*l,zm(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,zm(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,zm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Cm(n,0)},Ld.gb=function(e){return Vm(this,e).h},Ld.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Cm(n,this.h&e.h)},Ld.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Cm(n,this.h|e.h)},Ld.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Cm(n,this.h^e.h)},_m.prototype.createWebChannel=_m.prototype.g,Sm.prototype.send=Sm.prototype.u,Sm.prototype.open=Sm.prototype.m,Sm.prototype.close=Sm.prototype.close,If.NO_ERROR=0,If.TIMEOUT=8,If.HTTP_ERROR=6,Tf.COMPLETE="complete",Pf.EventType=Nf,Nf.OPEN="a",Nf.CLOSE="b",Nf.ERROR="c",Nf.MESSAGE="d",qh.prototype.listen=qh.prototype.O,Zp.prototype.listenOnce=Zp.prototype.P,Zp.prototype.getLastError=Zp.prototype.Sa,Zp.prototype.getLastErrorCode=Zp.prototype.Ia,Zp.prototype.getStatus=Zp.prototype.da,Zp.prototype.getResponseJson=Zp.prototype.Wa,Zp.prototype.getResponseText=Zp.prototype.ja,Zp.prototype.send=Zp.prototype.ha,Zp.prototype.setWithCredentials=Zp.prototype.Oa,Im.prototype.digest=Im.prototype.l,Im.prototype.reset=Im.prototype.reset,Im.prototype.update=Im.prototype.j,Cm.prototype.add=Cm.prototype.add,Cm.prototype.multiply=Cm.prototype.R,Cm.prototype.modulo=Cm.prototype.gb,Cm.prototype.compare=Cm.prototype.X,Cm.prototype.toNumber=Cm.prototype.ea,Cm.prototype.toString=Cm.prototype.toString,Cm.prototype.getBits=Cm.prototype.D,Cm.fromNumber=Am,Cm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return jm(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Am(Math.pow(n,8)),i=Om,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Am(Math.pow(n,s)),i=i.R(s).add(Am(a))):i=(i=i.R(r)).add(Am(a))}return i};var qm=jd.createWebChannelTransport=function(){return new _m},Hm=jd.getStatEventTarget=function(){return bf()},Km=jd.ErrorCode=If,Gm=jd.EventType=Tf,Qm=jd.Event=vf,Xm=jd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ym=(jd.FetchXmlHttpFactory=Dp,jd.WebChannel=Pf),Jm=jd.XhrIo=Zp,$m=jd.Md5=Im,eg=jd.Integer=Cm;const tg="@firebase/firestore";class ng{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ng.UNAUTHENTICATED=new ng(null),ng.GOOGLE_CREDENTIALS=new ng("google-credentials-uid"),ng.FIRST_PARTY=new ng("first-party-uid"),ng.MOCK_USER=new ng("mock-user");let rg="10.7.0";const ig=new Mr("@firebase/firestore");function og(){return ig.logLevel}function sg(e){if(ig.logLevel<=Pr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cg);ig.debug("Firestore (".concat(rg,"): ").concat(e),...i)}}function ag(e){if(ig.logLevel<=Pr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cg);ig.error("Firestore (".concat(rg,"): ").concat(e),...i)}}function lg(e){if(ig.logLevel<=Pr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cg);ig.warn("Firestore (".concat(rg,"): ").concat(e),...i)}}function cg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(O){return e}}function ug(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(rg,") INTERNAL ASSERTION FAILED: ")+e;throw ag(t),new Error(t)}function dg(e,t){e||ug()}function hg(e,t){return e}const fg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pg extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class mg{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class gg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class vg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ng.UNAUTHENTICATED)))}shutdown(){}}class yg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bg{constructor(e){this.t=e,this.currentUser=ng.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new mg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mg,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{sg("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(sg("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mg)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(sg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(dg("string"==typeof t.accessToken),new gg(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dg(null===e||"string"==typeof e),new ng(e)}}class wg{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ng.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _g{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new wg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ng.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xg{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&sg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,sg("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{sg("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):sg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(dg("string"==typeof e.token),this.R=e.token,new Sg(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Eg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Eg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ig(e,t){return e<t?-1:e>t?1:0}function Tg(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Cg(e){return e+"\0"}class Rg{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pg(fg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pg(fg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pg(fg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pg(fg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rg.fromMillis(Date.now())}static fromDate(e){return Rg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Rg(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ig(this.nanoseconds,e.nanoseconds):Ig(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pg(e)}static min(){return new Pg(new Rg(0,0))}static max(){return new Pg(new Rg(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ag{constructor(e,t,n){void 0===t?t=0:t>e.length&&ug(),void 0===n?n=e.length-t:n>e.length-t&&ug(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ag.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ag?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ng extends Ag{construct(e,t,n){return new Ng(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new pg(fg.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ng(e)}static emptyPath(){return new Ng([])}}const Og=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dg extends Ag{construct(e,t,n){return new Dg(e,t,n)}static isValidIdentifier(e){return Og.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dg.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new pg(fg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new pg(fg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new pg(fg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new pg(fg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dg(t)}static emptyPath(){return new Dg([])}}class Mg{constructor(e){this.path=e}static fromPath(e){return new Mg(Ng.fromString(e))}static fromName(e){return new Mg(Ng.fromString(e).popFirst(5))}static empty(){return new Mg(Ng.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ng.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ng.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mg(new Ng(e.slice()))}}class Lg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Fg(e){return e.fields.find((e=>2===e.kind))}function jg(e){return e.fields.filter((e=>2!==e.kind))}Lg.UNKNOWN_ID=-1;class Ug{constructor(e,t){this.fieldPath=e,this.kind=t}}class zg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zg(0,Bg.min())}}function Zg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pg.fromTimestamp(1e9===r?new Rg(n+1,0):new Rg(n,r));return new Bg(i,Mg.empty(),t)}function Vg(e){return new Bg(e.readTime,e.key,-1)}class Bg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Bg(Pg.min(),Mg.empty(),-1)}static max(){return new Bg(Pg.max(),Mg.empty(),-1)}}function Wg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Mg.comparator(e.documentKey,t.documentKey),0!==n?n:Ig(e.largestBatchId,t.largestBatchId))}const qg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kg(e){if(e.code!==fg.FAILED_PRECONDITION||e.message!==qg)throw e;sg("LocalStore","Unexpectedly lost primary lease")}class Gg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ug(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gg?t:Gg.resolve(t)}catch(e){return Gg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gg.reject(t)}static resolve(e){return new Gg(((t,n)=>{t(e)}))}static reject(e){return new Gg(((t,n)=>{n(e)}))}static waitFor(e){return new Gg(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Gg.resolve(!1);for(const n of e)t=t.next((e=>e?Gg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gg(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Qg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new mg,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Jg(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=rv(t.target.error);this.V.reject(new Jg(e,n))}}static open(e,t,n,r){try{return new Qg(t,e.transaction(r,n))}catch(e){throw new Jg(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(sg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ev(t)}}class Xg{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Xg.S(or())&&ag("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sg("SimpleDb","Removing database:",e),tv(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ur())return!1;if(Xg.C())return!0;const e=or(),t=Xg.S(e),n=0<t&&t<10,r=Xg.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/social-app-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(sg("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Jg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new pg(fg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new pg(fg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Jg(e,r))},r.onupgradeneeded=e=>{sg("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{sg("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Qg.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Gg.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(sg("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Yg{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return tv(this.k.delete())}}class Jg extends pg{constructor(e,t){super(fg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function $g(e){return"IndexedDbTransactionError"===e.name}class ev{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(sg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(sg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tv(n)}add(e){return sg("SimpleDb","ADD",this.store.name,e,e),tv(this.store.add(e))}get(e){return tv(this.store.get(e)).next((t=>(void 0===t&&(t=null),sg("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return sg("SimpleDb","DELETE",this.store.name,e),tv(this.store.delete(e))}count(){return sg("SimpleDb","COUNT",this.store.name),tv(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Gg(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Gg(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){sg("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Gg(((n,r)=>{t.onerror=e=>{const t=rv(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Gg(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Yg(i),s=t(i.primaryKey,i.value,o);if(s instanceof Gg){const e=s.catch((e=>(o.done(),Gg.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Gg.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tv(e){return new Gg(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=rv(e.target.error);n(t)}}))}let nv=!1;function rv(e){const t=Xg.S(or());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new pg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nv||(nv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class iv{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){sg("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{sg("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){$g(e)?sg("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Kg(e)}await this.ee(6e4)}))}}class ov{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Gg.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return sg("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(sg("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Vg(t);Wg(r,n)>0&&(n=r)})),new Bg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class sv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function av(e){return null==e}function lv(e){return 0===e&&1/e==-1/0}function cv(e){return"number"==typeof e&&Number.isInteger(e)&&!lv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function uv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hv(t)),t=dv(e.get(n),t);return hv(t)}function dv(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function hv(e){return e+"\x01\x01"}function fv(e){const t=e.length;if(dg(t>=2),2===t)return dg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ng.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&ug(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:ug()}o=t+2}return new Ng(r)}sv._e=-1;const pv=["userId","batchId"];function mv(e,t){return[e,uv(t)]}function gv(e,t,n){return[e,uv(t),n]}const vv={},yv=["prefixPath","collectionGroup","readTime","documentId"],bv=["prefixPath","collectionGroup","documentId"],wv=["collectionGroup","readTime","prefixPath","documentId"],_v=["canonicalId","targetId"],Sv=["targetId","path"],xv=["path","targetId"],Ev=["collectionId","parent"],kv=["indexId","uid"],Iv=["uid","sequenceNumber"],Tv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cv=["indexId","uid","orderedDocumentKey"],Rv=["userId","collectionPath","documentId"],Pv=["userId","collectionPath","largestBatchId"],Av=["userId","collectionGroup","largestBatchId"],Nv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ov=[...Nv,"documentOverlays"],Dv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mv=Dv,Lv=[...Mv,"indexConfiguration","indexState","indexEntries"];class Fv extends Hg{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function jv(e,t){const n=hg(e);return Xg.M(n.ae,t)}function Uv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Vv{constructor(e,t){this.comparator=e,this.root=t||Wv.EMPTY}insert(e,t){return new Vv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wv.BLACK,null,null))}remove(e){return new Vv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bv(this.root,e,this.comparator,!0)}}class Bv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wv.RED,this.left=null!=r?r:Wv.EMPTY,this.right=null!=i?i:Wv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ug();if(this.right.isRed())throw ug();const e=this.left.check();if(e!==this.right.check())throw ug();return e+(this.isRed()?0:1)}}Wv.EMPTY=null,Wv.RED=!0,Wv.BLACK=!1,Wv.EMPTY=new class{constructor(){this.size=0}get key(){throw ug()}get value(){throw ug()}get color(){throw ug()}get left(){throw ug()}get right(){throw ug()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qv{constructor(e){this.comparator=e,this.data=new Vv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hv(this.data.getIterator())}getIteratorFrom(e){return new Hv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof qv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qv(this.comparator);return t.data=e,t}}class Hv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kv(e){return e.hasNext()?e.getNext():void 0}class Gv{constructor(e){this.fields=e,e.sort(Dg.comparator)}static empty(){return new Gv([])}unionWith(e){let t=new qv(Dg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Gv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tg(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Qv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Qv("Invalid base64 string: "+e):e}}(e);return new Xv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ig(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xv.EMPTY_BYTE_STRING=new Xv("");const Yv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jv(e){if(dg(!!e),"string"==typeof e){let t=0;const n=Yv.exec(e);if(dg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$v(e.seconds),nanos:$v(e.nanos)}}function $v(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ey(e){return"string"==typeof e?Xv.fromBase64String(e):Xv.fromUint8Array(e)}function ty(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ny(e){const t=e.mapValue.fields.__previous_value__;return ty(t)?ny(t):t}function ry(e){const t=Jv(e.mapValue.fields.__local_write_time__.timestampValue);return new Rg(t.seconds,t.nanos)}class iy{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class oy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oy&&e.projectId===this.projectId&&e.database===this.database}}const sy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ay={nullValue:"NULL_VALUE"};function ly(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ty(e)?4:Sy(e)?9007199254740991:10:ug()}function cy(e,t){if(e===t)return!0;const n=ly(e);if(n!==ly(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ry(e).isEqual(ry(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Jv(e.timestampValue),r=Jv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ey(e.bytesValue).isEqual(ey(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $v(e.geoPointValue.latitude)===$v(t.geoPointValue.latitude)&&$v(e.geoPointValue.longitude)===$v(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $v(e.integerValue)===$v(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=$v(e.doubleValue),r=$v(t.doubleValue);return n===r?lv(n)===lv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tg(e.arrayValue.values||[],t.arrayValue.values||[],cy);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Uv(n)!==Uv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cy(n[i],r[i])))return!1;return!0}(e,t);default:return ug()}}function uy(e,t){return void 0!==(e.values||[]).find((e=>cy(e,t)))}function dy(e,t){if(e===t)return 0;const n=ly(e),r=ly(t);if(n!==r)return Ig(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ig(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=$v(e.integerValue||e.doubleValue),r=$v(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hy(e.timestampValue,t.timestampValue);case 4:return hy(ry(e),ry(t));case 5:return Ig(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ey(e),r=ey(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ig(n[i],r[i]);if(0!==e)return e}return Ig(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ig($v(e.latitude),$v(t.latitude));return 0!==n?n:Ig($v(e.longitude),$v(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=dy(n[i],r[i]);if(e)return e}return Ig(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===sy.mapValue&&t===sy.mapValue)return 0;if(e===sy.mapValue)return 1;if(t===sy.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Ig(r[s],o[s]);if(0!==e)return e;const t=dy(n[r[s]],i[o[s]]);if(0!==t)return t}return Ig(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ug()}}function hy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ig(e,t);const n=Jv(e),r=Jv(t),i=Ig(n.seconds,r.seconds);return 0!==i?i:Ig(n.nanos,r.nanos)}function fy(e){return py(e)}function py(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Jv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ey(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Mg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=py(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(py(e.fields[i]));return n+"}"}(e.mapValue):ug()}function my(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gy(e){return!!e&&"integerValue"in e}function vy(e){return!!e&&"arrayValue"in e}function yy(e){return!!e&&"nullValue"in e}function by(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wy(e){return!!e&&"mapValue"in e}function _y(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=_y(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_y(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function xy(e){return"nullValue"in e?ay:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?my(oy.empty(),Mg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ug()}function Ey(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?my(oy.empty(),Mg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?sy:ug()}function ky(e,t){const n=dy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Iy(e,t){const n=dy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ty{constructor(e){this.value=e}static empty(){return new Ty({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_y(t)}setAll(e){let t=Dg.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=_y(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zv(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ty(_y(this.value))}}function Cy(e){const t=[];return zv(e.fields,((e,n)=>{const r=new Dg([e]);if(wy(n)){const e=Cy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Gv(t)}class Ry{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ry(e,0,Pg.min(),Pg.min(),Pg.min(),Ty.empty(),0)}static newFoundDocument(e,t,n,r){return new Ry(e,1,t,Pg.min(),n,r,0)}static newNoDocument(e,t){return new Ry(e,2,t,Pg.min(),Pg.min(),Ty.empty(),0)}static newUnknownDocument(e,t){return new Ry(e,3,t,Pg.min(),Pg.min(),Ty.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ty.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ty.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ry&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ry(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Py{constructor(e,t){this.position=e,this.inclusive=t}}function Ay(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Mg.comparator(Mg.fromName(s.referenceValue),n.key):dy(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ny(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cy(e.position[n],t.position[n]))return!1;return!0}class Oy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Dy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class My{}class Ly extends My{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Hy(e,t,n):"array-contains"===t?new Xy(e,n):"in"===t?new Yy(e,n):"not-in"===t?new Jy(e,n):"array-contains-any"===t?new $y(e,n):new Ly(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ky(e,n):new Gy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dy(t,this.value)):null!==t&&ly(this.value)===ly(t)&&this.matchesComparison(dy(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ug()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fy extends My{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Fy(e,t)}matches(e){return jy(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jy(e){return"and"===e.op}function Uy(e){return"or"===e.op}function zy(e){return Zy(e)&&jy(e)}function Zy(e){for(const t of e.filters)if(t instanceof Fy)return!1;return!0}function Vy(e){if(e instanceof Ly)return e.field.canonicalString()+e.op.toString()+fy(e.value);if(zy(e))return e.filters.map((e=>Vy(e))).join(",");{const t=e.filters.map((e=>Vy(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function By(e,t){return e instanceof Ly?function(e,t){return t instanceof Ly&&e.op===t.op&&e.field.isEqual(t.field)&&cy(e.value,t.value)}(e,t):e instanceof Fy?function(e,t){return t instanceof Fy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&By(n,t.filters[r])),!0)}(e,t):void ug()}function Wy(e,t){const n=e.filters.concat(t);return Fy.create(n,e.op)}function qy(e){return e instanceof Ly?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fy(e.value))}(e):e instanceof Fy?function(e){return e.op.toString()+" {"+e.getFilters().map(qy).join(" ,")+"}"}(e):"Filter"}class Hy extends Ly{constructor(e,t,n){super(e,t,n),this.key=Mg.fromName(n.referenceValue)}matches(e){const t=Mg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ky extends Ly{constructor(e,t){super(e,"in",t),this.keys=Qy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Gy extends Ly{constructor(e,t){super(e,"not-in",t),this.keys=Qy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Qy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Mg.fromName(e.referenceValue)))}class Xy extends Ly{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vy(t)&&uy(t.arrayValue,this.value)}}class Yy extends Ly{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uy(this.value.arrayValue,t)}}class Jy extends Ly{constructor(e,t){super(e,"not-in",t)}matches(e){if(uy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uy(this.value.arrayValue,t)}}class $y extends Ly{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>uy(this.value.arrayValue,e)))}}class eb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function tb(e){return new eb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function nb(e){const t=hg(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Vy(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),av(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>fy(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>fy(e))).join(",")),t.ce=e}return t.ce}function rb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Dy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!By(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ny(e.startAt,t.startAt)&&Ny(e.endAt,t.endAt)}function ib(e){return Mg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ob(e,t){return e.filters.filter((e=>e instanceof Ly&&e.field.isEqual(t)))}function sb(e,t,n){let r=ay,i=!0;for(const o of ob(e,t)){let e=ay,t=!0;switch(o.op){case"<":case"<=":e=xy(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=ay}ky({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ky({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ab(e,t,n){let r=sy,i=!0;for(const o of ob(e,t)){let e=sy,t=!0;switch(o.op){case">=":case">":e=Ey(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=sy}Iy({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Iy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class lb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cb(e,t,n,r,i,o,s,a){return new lb(e,t,n,r,i,o,s,a)}function ub(e){return new lb(e)}function db(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hb(e){return null!==e.collectionGroup}function fb(e){const t=hg(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new qv(Dg.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Oy(r,n))})),e.has(Dg.keyField().canonicalString())||t.le.push(new Oy(Dg.keyField(),n))}return t.le}function pb(e){const t=hg(e);return t.he||(t.he=mb(t,fb(e))),t.he}function mb(e,t){if("F"===e.limitType)return tb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Oy(e.field,t)}));const n=e.endAt?new Py(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Py(e.startAt.position,e.startAt.inclusive):null;return tb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function gb(e,t){const n=e.filters.concat([t]);return new lb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vb(e,t,n){return new lb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yb(e,t){return rb(pb(e),pb(t))&&e.limitType===t.limitType}function bb(e){return"".concat(nb(pb(e)),"|lt:").concat(e.limitType)}function wb(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>qy(e))).join(", "),"]")),av(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>fy(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>fy(e))).join(",")),"Target(".concat(t,")")}(pb(e)),"; limitType=").concat(e.limitType,")")}function _b(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ay(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fb(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ay(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fb(e),t))}(e,t)}function Sb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xb(e){return(t,n)=>{let r=!1;for(const i of fb(e)){const e=Eb(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Eb(e,t,n){const r=e.field.isKeyField()?Mg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dy(r,i):ug()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ug()}}class kb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zv(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Zv(this.inner)}size(){return this.innerSize}}const Ib=new Vv(Mg.comparator);function Tb(){return Ib}const Cb=new Vv(Mg.comparator);function Rb(){let e=Cb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Pb(e){let t=Cb;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ab(){return Ob()}function Nb(){return Ob()}function Ob(){return new kb((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Db=new Vv(Mg.comparator),Mb=new qv(Mg.comparator);function Lb(){let e=Mb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Fb=new qv(Ig);function jb(){return Fb}function Ub(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lv(t)?"-0":t}}function zb(e){return{integerValue:""+e}}function Zb(e,t){return cv(t)?zb(t):Ub(e,t)}class Vb{constructor(){this._=void 0}}function Bb(e,t,n){return e instanceof Hb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ty(t)&&(t=ny(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Kb?Gb(e,t):e instanceof Qb?Xb(e,t):function(e,t){const n=qb(e,t),r=Jb(n)+Jb(e.Ie);return gy(n)&&gy(e.Ie)?zb(r):Ub(e.serializer,r)}(e,t)}function Wb(e,t,n){return e instanceof Kb?Gb(e,t):e instanceof Qb?Xb(e,t):n}function qb(e,t){return e instanceof Yb?function(e){return gy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Hb extends Vb{}class Kb extends Vb{constructor(e){super(),this.elements=e}}function Gb(e,t){const n=$b(t);for(const r of e.elements)n.some((e=>cy(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Qb extends Vb{constructor(e){super(),this.elements=e}}function Xb(e,t){let n=$b(t);for(const r of e.elements)n=n.filter((e=>!cy(e,r)));return{arrayValue:{values:n}}}class Yb extends Vb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Jb(e){return $v(e.integerValue||e.doubleValue)}function $b(e){return vy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ew{constructor(e,t){this.field=e,this.transform=t}}class tw{constructor(e,t){this.version=e,this.transformResults=t}}class nw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nw}static exists(e){return new nw(void 0,e)}static updateTime(e){return new nw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class iw{}function ow(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mw(e.key,nw.none()):new uw(e.key,e.data,nw.none());{const n=e.data,r=Ty.empty();let i=new qv(Dg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new dw(e.key,r,new Gv(i.toArray()),nw.none())}}function sw(e,t,n){e instanceof uw?function(e,t,n){const r=e.value.clone(),i=fw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dw?function(e,t,n){if(!rw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=fw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function aw(e,t,n,r){return e instanceof uw?function(e,t,n,r){if(!rw(e.precondition,t))return n;const i=e.value.clone(),o=pw(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dw?function(e,t,n,r){if(!rw(e.precondition,t))return n;const i=pw(e.fieldTransforms,r,t),o=t.data;return o.setAll(hw(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return rw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=qb(r.transform,e||null);null!=i&&(null===n&&(n=Ty.empty()),n.set(r.field,i))}return n||null}function cw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tg(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Kb&&t instanceof Kb||e instanceof Qb&&t instanceof Qb?Tg(e.elements,t.elements,cy):e instanceof Yb&&t instanceof Yb?cy(e.Ie,t.Ie):e instanceof Hb&&t instanceof Hb}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uw extends iw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dw extends iw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function fw(e,t,n){const r=new Map;dg(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Wb(s,a,n[i]))}return r}function pw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Bb(e,o,t))}return r}class mw extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gw extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&sw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=aw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=aw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Nb();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=ow(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Pg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Lb())}isEqual(e){return this.batchId===e.batchId&&Tg(this.mutations,e.mutations,((e,t)=>cw(e,t)))&&Tg(this.baseMutations,e.baseMutations,((e,t)=>cw(e,t)))}}class yw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){dg(e.mutations.length===n.length);let r=Db;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new yw(e,t,n,r)}}class bw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ww{constructor(e,t){this.count=e,this.unchangedNames=t}}var _w,Sw;function xw(e){switch(e){default:return ug();case fg.CANCELLED:case fg.UNKNOWN:case fg.DEADLINE_EXCEEDED:case fg.RESOURCE_EXHAUSTED:case fg.INTERNAL:case fg.UNAVAILABLE:case fg.UNAUTHENTICATED:return!1;case fg.INVALID_ARGUMENT:case fg.NOT_FOUND:case fg.ALREADY_EXISTS:case fg.PERMISSION_DENIED:case fg.FAILED_PRECONDITION:case fg.ABORTED:case fg.OUT_OF_RANGE:case fg.UNIMPLEMENTED:case fg.DATA_LOSS:return!0}}function Ew(e){if(void 0===e)return ag("GRPC error has no .code"),fg.UNKNOWN;switch(e){case _w.OK:return fg.OK;case _w.CANCELLED:return fg.CANCELLED;case _w.UNKNOWN:return fg.UNKNOWN;case _w.DEADLINE_EXCEEDED:return fg.DEADLINE_EXCEEDED;case _w.RESOURCE_EXHAUSTED:return fg.RESOURCE_EXHAUSTED;case _w.INTERNAL:return fg.INTERNAL;case _w.UNAVAILABLE:return fg.UNAVAILABLE;case _w.UNAUTHENTICATED:return fg.UNAUTHENTICATED;case _w.INVALID_ARGUMENT:return fg.INVALID_ARGUMENT;case _w.NOT_FOUND:return fg.NOT_FOUND;case _w.ALREADY_EXISTS:return fg.ALREADY_EXISTS;case _w.PERMISSION_DENIED:return fg.PERMISSION_DENIED;case _w.FAILED_PRECONDITION:return fg.FAILED_PRECONDITION;case _w.ABORTED:return fg.ABORTED;case _w.OUT_OF_RANGE:return fg.OUT_OF_RANGE;case _w.UNIMPLEMENTED:return fg.UNIMPLEMENTED;case _w.DATA_LOSS:return fg.DATA_LOSS;default:return ug()}}(Sw=_w||(_w={}))[Sw.OK=0]="OK",Sw[Sw.CANCELLED=1]="CANCELLED",Sw[Sw.UNKNOWN=2]="UNKNOWN",Sw[Sw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sw[Sw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sw[Sw.NOT_FOUND=5]="NOT_FOUND",Sw[Sw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sw[Sw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sw[Sw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sw[Sw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sw[Sw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sw[Sw.ABORTED=10]="ABORTED",Sw[Sw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sw[Sw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sw[Sw.INTERNAL=13]="INTERNAL",Sw[Sw.UNAVAILABLE=14]="UNAVAILABLE",Sw[Sw.DATA_LOSS=15]="DATA_LOSS";let kw=null;function Iw(){return new TextEncoder}const Tw=new eg([4294967295,4294967295],0);function Cw(e){const t=Iw().encode(e),n=new $m;return n.update(t),new Uint8Array(n.digest())}function Rw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new eg([n,r],0),new eg([i,o],0)]}class Pw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Aw("Invalid padding: ".concat(t));if(n<0)throw new Aw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Aw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Aw("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=eg.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(eg.fromNumber(n)));return 1===r.compare(Tw)&&(r=new eg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Cw(e),[n,r]=Rw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Pw(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Cw(e),[n,r]=Rw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Aw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ow.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Nw(Pg.min(),r,new Vv(Ig),Tb(),Lb())}}class Ow{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ow(n,t,Lb(),Lb(),Lb())}}class Dw{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Mw{constructor(e,t){this.targetId=e,this.fe=t}}class Lw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fw{constructor(){this.ge=0,this.pe=zw(),this.ye=Xv.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Lb(),t=Lb(),n=Lb();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ug()}})),new Ow(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=zw()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,dg(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class jw{constructor(e){this.Le=e,this.ke=new Map,this.qe=Tb(),this.Qe=Uw(),this.Ke=new Vv(Ig)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:ug()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(ib(i))if(0===n){const e=new Mg(i.path);this.We(t,e,Ry.newNoDocument(e,Pg.min()))}else dg(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==kw||kw.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=ey(n).toUint8Array()}catch(e){if(e instanceof Qv)return lg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Pw(o,r,i)}catch(e){return lg(e instanceof Aw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ib(i.target)){const t=new Mg(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Ry.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Lb();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Nw(e,t,this.Ke,this.qe,n);return this.qe=Tb(),this.Qe=Uw(),this.Ke=new Vv(Ig),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Fw,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new qv(Ig),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||sg("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Fw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Uw(){return new Vv(Mg.comparator)}function zw(){return new Vv(Mg.comparator)}const Zw={asc:"ASCENDING",desc:"DESCENDING"},Vw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bw={and:"AND",or:"OR"};class Ww{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qw(e,t){return e.useProto3Json||av(t)?t:{value:t}}function Hw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gw(e,t){return Hw(e,t.toTimestamp())}function Qw(e){return dg(!!e),Pg.fromTimestamp(function(e){const t=Jv(e);return new Rg(t.seconds,t.nanos)}(e))}function Xw(e,t){return function(e){return new Ng(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Yw(e){const t=Ng.fromString(e);return dg(b_(t)),t}function Jw(e,t){return Xw(e.databaseId,t.path)}function $w(e,t){const n=Yw(t);if(n.get(1)!==e.databaseId.projectId)throw new pg(fg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pg(fg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mg(r_(n))}function e_(e,t){return Xw(e.databaseId,t)}function t_(e){const t=Yw(e);return 4===t.length?Ng.emptyPath():r_(t)}function n_(e){return new Ng(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function r_(e){return dg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function i_(e,t,n){return{name:Jw(e,t),fields:n.value.mapValue.fields}}function o_(e,t,n){const r=$w(e,t.name),i=Qw(t.updateTime),o=t.createTime?Qw(t.createTime):Pg.min(),s=new Ty({mapValue:{fields:t.fields}}),a=Ry.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function s_(e,t){let n;if(t instanceof uw)n={update:i_(e,t.key,t.value)};else if(t instanceof mw)n={delete:Jw(e,t.key)};else if(t instanceof dw)n={update:i_(e,t.key,t.data),updateMask:y_(t.fieldMask)};else{if(!(t instanceof gw))return ug();n={verify:Jw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Hb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yb)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ug()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ug()}(e,t.precondition)),n}function a_(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?nw.updateTime(Qw(e.updateTime)):void 0!==e.exists?nw.exists(e.exists):nw.none()}(t.currentDocument):nw.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)dg("REQUEST_TIME"===t.setToServerValue),n=new Hb;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Kb(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Qb(e)}else"increment"in t?n=new Yb(e,t.increment):ug();const r=Dg.fromServerFormat(t.fieldPath);return new ew(r,n)}(e,t))):[];if(t.update){t.update.name;const i=$w(e,t.update.name),o=new Ty({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Gv(t.map((e=>Dg.fromServerFormat(e))))}(t.updateMask);return new dw(i,o,e,n,r)}return new uw(i,o,n,r)}if(t.delete){const r=$w(e,t.delete);return new mw(r,n)}if(t.verify){const r=$w(e,t.verify);return new gw(r,n)}return ug()}function l_(e,t){return{documents:[e_(e,t.path)]}}function c_(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=e_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=e_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return v_(Fy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:m_(e.field),direction:h_(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=qw(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function u_(e){let t=t_(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dg(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=d_(e);return t instanceof Fy&&zy(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Oy(g_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,av(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Py(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Py(n,t)}(n.endAt)),cb(t,i,s,o,a,"F",l,c)}function d_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=g_(e.unaryFilter.field);return Ly.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=g_(e.unaryFilter.field);return Ly.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=g_(e.unaryFilter.field);return Ly.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=g_(e.unaryFilter.field);return Ly.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ug()}}(e):void 0!==e.fieldFilter?function(e){return Ly.create(g_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ug()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Fy.create(e.compositeFilter.filters.map((e=>d_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ug()}}(e.compositeFilter.op))}(e):ug()}function h_(e){return Zw[e]}function f_(e){return Vw[e]}function p_(e){return Bw[e]}function m_(e){return{fieldPath:e.canonicalString()}}function g_(e){return Dg.fromServerFormat(e.fieldPath)}function v_(e){return e instanceof Ly?function(e){if("=="===e.op){if(by(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NAN"}};if(yy(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(by(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NOT_NAN"}};if(yy(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:m_(e.field),op:f_(e.op),value:e.value}}}(e):e instanceof Fy?function(e){const t=e.getFilters().map((e=>v_(e)));return 1===t.length?t[0]:{compositeFilter:{op:p_(e.op),filters:t}}}(e):ug()}function y_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function b_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class w_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xv.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new w_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new w_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new w_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new w_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class __{constructor(e){this.ut=e}}function S_(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:x_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Jw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Hw(e,t.version.toTimestamp()),createTime:Hw(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:E_(t.version)};else{if(!t.isUnknownDocument())return ug();r.unknownDocument={path:n.path.toArray(),version:E_(t.version)}}return r}function x_(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function E_(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function k_(e){const t=new Rg(e.seconds,e.nanoseconds);return Pg.fromTimestamp(t)}function I_(e,t){const n=(t.baseMutations||[]).map((t=>a_(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>a_(e.ut,t))),i=Rg.fromMillis(t.localWriteTimeMs);return new vw(t.batchId,i,n,r)}function T_(e){const t=k_(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?k_(e.lastLimboFreeSnapshotVersion):Pg.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return dg(1===e.documents.length),pb(ub(t_(e.documents[0])))}(e.query):function(e){return pb(u_(e))}(e.query),new w_(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Xv.fromBase64String(e.resumeToken))}function C_(e,t){const n=E_(t.snapshotVersion),r=E_(t.lastLimboFreeSnapshotVersion);let i;i=ib(t.target)?l_(e.ut,t.target):c_(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nb(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function R_(e){const t=u_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vb(t,t.limit,"L"):t}function P_(e,t){return new bw(t.largestBatchId,a_(e.ut,t.overlayMutation))}function A_(e,t){const n=t.path.lastSegment();return[e,uv(t.path.popLast()),n]}function N_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:E_(r.readTime),documentKey:uv(r.documentKey.path),largestBatchId:r.largestBatchId}}class O_{getBundleMetadata(e,t){return D_(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:k_(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return D_(e).put(function(e){return{bundleId:e.id,createTime:E_(Qw(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return M_(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:R_(e.bundledQuery),readTime:k_(e.readTime)}}(e)}))}saveNamedQuery(e,t){return M_(e).put(function(e){return{name:e.name,readTime:E_(Qw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function D_(e){return jv(e,"bundles")}function M_(e){return jv(e,"namedQueries")}class L_{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new L_(e,n)}getOverlay(e,t){return F_(e).get(A_(this.userId,t)).next((e=>e?P_(this.serializer,e):null))}getOverlays(e,t){const n=Ab();return Gg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new bw(t,i);r.push(this.lt(e,o))})),Gg.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(uv(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(F_(e).H("collectionPathOverlayIndex",r))})),Gg.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Ab(),i=uv(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return F_(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=P_(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Ab();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return F_(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=P_(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return F_(e).put(function(e,t,n){const[r,i,o]=A_(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:s_(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function F_(e){return jv(e,"documentOverlays")}class j_{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et($v(e.integerValue));else if("doubleValue"in e){const n=$v(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),lv(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ey(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Sy(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):ug()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Mg.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function U_(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function z_(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=U_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}j_.St=new j_;class Z_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=z_(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=z_(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class V_{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class B_{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class W_{constructor(){this.Wt=new Z_,this.Gt=new V_(this.Wt),this.zt=new B_(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class q_{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new q_(this.indexId,this.documentKey,this.arrayValue,n)}}function H_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=K_(e.arrayValue,t.arrayValue),0!==n?n:(n=K_(e.directionalValue,t.directionalValue),0!==n?n:Mg.comparator(e.documentKey,t.documentKey)))}function K_(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class G_{constructor(e){this.Jt=new qv(((e,t)=>Dg.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(dg(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Fg(e);if(void 0!==t&&!this.tn(t))return!1;const n=jg(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new qv(Dg.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ug(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ug(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ug(n.field,"asc"===n.dir?0:1)));return new Lg(Lg.UNKNOWN_ID,this.collectionId,t,zg.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Q_(e){var t,n;if(dg(e instanceof Ly||e instanceof Fy),e instanceof Ly){if(e instanceof Yy){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ly.create(e.field,"==",t))))||[];return Fy.create(r,"or")}return e}const r=e.filters.map((e=>Q_(e)));return Fy.create(r,e.op)}function X_(e){if(0===e.getFilters().length)return[];const t=eS(Q_(e));return dg($_(t)),Y_(t)||J_(t)?[t]:t.getFilters()}function Y_(e){return e instanceof Ly}function J_(e){return e instanceof Fy&&zy(e)}function $_(e){return Y_(e)||J_(e)||function(e){if(e instanceof Fy&&Uy(e)){for(const t of e.getFilters())if(!Y_(t)&&!J_(t))return!1;return!0}return!1}(e)}function eS(e){if(dg(e instanceof Ly||e instanceof Fy),e instanceof Ly)return e;if(1===e.filters.length)return eS(e.filters[0]);const t=e.filters.map((e=>eS(e)));let n=Fy.create(t,e.op);return n=rS(n),$_(n)?n:(dg(n instanceof Fy),dg(jy(n)),dg(n.filters.length>1),n.filters.reduce(((e,t)=>tS(e,t))))}function tS(e,t){let n;return dg(e instanceof Ly||e instanceof Fy),dg(t instanceof Ly||t instanceof Fy),n=e instanceof Ly?t instanceof Ly?function(e,t){return Fy.create([e,t],"and")}(e,t):nS(e,t):t instanceof Ly?nS(t,e):function(e,t){if(dg(e.filters.length>0&&t.filters.length>0),jy(e)&&jy(t))return Wy(e,t.getFilters());const n=Uy(e)?e:t,r=Uy(e)?t:e,i=n.filters.map((e=>tS(e,r)));return Fy.create(i,"or")}(e,t),rS(n)}function nS(e,t){if(jy(t))return Wy(t,e.getFilters());{const n=t.filters.map((t=>tS(e,t)));return Fy.create(n,"or")}}function rS(e){if(dg(e instanceof Ly||e instanceof Fy),e instanceof Ly)return e;const t=e.getFilters();if(1===t.length)return rS(t[0]);if(Zy(e))return e;const n=t.map((e=>rS(e))),r=[];return n.forEach((t=>{t instanceof Ly?r.push(t):t instanceof Fy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Fy.create(r,e.op)}class iS{constructor(){this.on=new oS}addToCollectionParentIndex(e,t){return this.on.add(t),Gg.resolve()}getCollectionParents(e,t){return Gg.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Gg.resolve()}deleteFieldIndex(e,t){return Gg.resolve()}deleteAllFieldIndexes(e){return Gg.resolve()}createTargetIndexes(e,t){return Gg.resolve()}getDocumentsMatchingTarget(e,t){return Gg.resolve(null)}getIndexType(e,t){return Gg.resolve(0)}getFieldIndexes(e,t){return Gg.resolve([])}getNextCollectionGroupToUpdate(e){return Gg.resolve(null)}getMinOffset(e,t){return Gg.resolve(Bg.min())}getMinOffsetFromCollectionGroup(e,t){return Gg.resolve(Bg.min())}updateCollectionGroup(e,t,n){return Gg.resolve()}updateIndexEntries(e,t){return Gg.resolve()}}class oS{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qv(Ng.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new qv(Ng.comparator)).toArray()}}const sS=new Uint8Array(0);class aS{constructor(e,t){this.user=e,this.databaseId=t,this._n=new oS,this.an=new kb((e=>nb(e)),((e,t)=>rb(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:uv(r)};return lS(e).put(i)}return Gg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Cg(t),""],!1,!0);return lS(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(fv(r.parent))}return n}))}addFieldIndex(e,t){const n=uS(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=dS(e);return i.next((e=>{n.put(N_(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=uS(e),r=dS(e),i=cS(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=uS(e),n=cS(e),r=dS(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Gg.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new G_(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=cS(e);let r=!0;const i=new Map;return Gg.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Lb();const r=[];return Gg.forEach(i,((i,o)=>{sg("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(nb(t)));const s=function(e,t){const n=Fg(t);if(void 0===n)return null;for(const r of ob(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of jg(t))for(const t of ob(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of jg(t)){const t=0===i.kind?sb(e,i.fieldPath,e.startAt):ab(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Py(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of jg(t)){const t=0===i.kind?ab(e,i.fieldPath,e.endAt):sb(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Py(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Gg.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Mg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Gg.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:X_(Fy.create(e.filters,"and")).map((t=>tb(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):sS,d=this.Tn(e,a,n[u%l],r),h=this.En(e,a,i[u%l],o),f=s.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new q_(e,Mg.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new q_(e,Mg.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new G_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Gg.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new qv(Dg.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new W_;for(const r of jg(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);j_.St.ht(e,i)}return n.Ut()}In(e){const t=new W_;return j_.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new W_;return j_.St.ht(my(this.databaseId,t),n.jt(function(e){const t=jg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new W_);let i=0;for(const o of jg(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&vy(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);j_.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new W_;n.seed(e.Ut()),j_.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Ly&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=uS(e),r=dS(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Gg.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new zg(t.sequenceNumber,new Bg(k_(t.readTime),new Mg(fv(t.documentKey)),t.largestBatchId)):zg.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Ug(Dg.fromServerFormat(t),n)}));return new Lg(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ig(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=uS(e),i=dS(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Gg.forEach(t,(t=>i.put(N_(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Gg.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Gg.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Gg.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Gg.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return cS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return cS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=cS(e);let i=new qv(H_);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new q_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new qv(H_);const r=this.dn(t,e);if(null==r)return n;const i=Fg(t);if(null!=i){const o=e.data.field(i.fieldPath);if(vy(o))for(const i of o.arrayValue.values||[])n=n.add(new q_(t.indexId,e.key,this.In(i),r))}else n=n.add(new q_(t.indexId,e.key,sS,r));return n}yn(e,t,n,r,i){sg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Kv(o),l=Kv(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Kv(s)):t?(i(a),a=Kv(o)):(a=Kv(o),l=Kv(s))}}(r,i,H_,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),Gg.waitFor(o)}fn(e){let t=1;return dS(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>H_(e,t))).filter(((e,t,n)=>!t||0!==H_(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=H_(o,e),i=H_(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,sS,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,sS,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return H_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hS)}getMinOffset(e,t){return Gg.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||ug())))).next(hS)}}function lS(e){return jv(e,"collectionParents")}function cS(e){return jv(e,"indexEntries")}function uS(e){return jv(e,"indexConfiguration")}function dS(e){return jv(e,"indexState")}function hS(e){dg(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Wg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bg(t.readTime,t.documentKey,n)}const fS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pS{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new pS(e,pS.DEFAULT_COLLECTION_PERCENTILE,pS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mS(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{dg(1===a)})));const c=[];for(const u of n.mutations){const e=gv(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Gg.waitFor(o).next((()=>c))}function gS(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ug();t=e.noDocument}return JSON.stringify(t).length}pS.DEFAULT_COLLECTION_PERCENTILE=10,pS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pS.DEFAULT=new pS(41943040,pS.DEFAULT_COLLECTION_PERCENTILE,pS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pS.DISABLED=new pS(-1,0,0);class vS{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){dg(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new vS(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bS(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=wS(e),o=bS(e);return o.add({}).next((s=>{dg("number"==typeof s);const a=new vw(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>s_(e.ut,t))),i=n.mutations.map((t=>s_(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new qv(((e,t)=>Ig(e.canonicalString(),t.canonicalString())));for(const e of r){const t=gv(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,vv))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),Gg.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return bS(e).get(t).next((e=>e?(dg(e.userId===this.userId),I_(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Gg.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return bS(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(dg(t.batchId>=n),i=I_(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return bS(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bS(e).W("userMutationsIndex",t).next((e=>e.map((e=>I_(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=mv(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return wS(e).Y({range:r},((n,r,o)=>{const[s,a,l]=n,c=fv(a);if(s===this.userId&&t.path.isEqual(c))return bS(e).get(l).next((e=>{if(!e)throw ug();dg(e.userId===this.userId),i.push(I_(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qv(Ig);const r=[];return t.forEach((t=>{const i=mv(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=wS(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,l=fv(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Gg.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=mv(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new qv(Ig);return wS(e).Y({range:o},((e,t,i)=>{const[o,a,l]=e,c=fv(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(bS(e).get(t).next((e=>{if(null===e)throw ug();dg(e.userId===this.userId),n.push(I_(this.serializer,e))})))})),Gg.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return mS(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Gg.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Gg.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return wS(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=fv(e[1]);r.push(t)}else n.done()})).next((()=>{dg(0===r.length)}))}))}containsKey(e,t){return yS(e,this.userId,t)}Mn(e){return _S(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function yS(e,t,n){const r=mv(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return wS(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function bS(e){return jv(e,"mutations")}function wS(e){return jv(e,"documentMutations")}function _S(e){return jv(e,"mutationQueues")}class SS{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new SS(0)}static Nn(){return new SS(-1)}}class xS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new SS(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Pg.fromTimestamp(new Rg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ES(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(dg(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ES(e).Y(((o,s)=>{const a=T_(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Gg.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ES(e).Y(((e,n)=>{const r=T_(n);t(r)}))}Bn(e){return kS(e).get("targetGlobalKey").next((e=>(dg(null!==e),e)))}Ln(e,t){return kS(e).put("targetGlobalKey",t)}kn(e,t){return ES(e).put(C_(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=nb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ES(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=T_(n);rb(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=IS(e);return t.forEach((t=>{const o=uv(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Gg.waitFor(r)}removeMatchingKeys(e,t,n){const r=IS(e);return Gg.forEach(t,(t=>{const i=uv(t.path);return Gg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=IS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=IS(e);let i=Lb();return r.Y({range:n,J:!0},((e,t,n)=>{const r=fv(e[1]),o=new Mg(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=uv(t.path),r=IDBKeyRange.bound([n],[Cg(n)],!1,!0);let i=0;return IS(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return ES(e).get(t).next((e=>e?T_(e):null))}}function ES(e){return jv(e,"targets")}function kS(e){return jv(e,"targetGlobal")}function IS(e){return jv(e,"targetDocuments")}function TS(e,t){let[n,r]=e,[i,o]=t;const s=Ig(n,i);return 0===s?Ig(r,o):s}class CS{constructor(e){this.Qn=e,this.buffer=new qv(TS),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();TS(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RS{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){sg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$g(e)?sg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Kg(e)}await this.Gn(3e5)}))}}class PS{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Gg.resolve(sv._e);const n=new CS(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(sg("LruGarbageCollector","Garbage collection skipped; disabled"),Gg.resolve(fS)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(sg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),fS):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(sg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),og()<=Pr.DEBUG&&sg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Gg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function AS(e,t){return new PS(e,t)}class NS{constructor(e,t){this.db=e,this.garbageCollector=AS(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return OS(e,n)}removeReference(e,t,n){return OS(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return OS(e,t)}Xn(e,t){return function(e,t){let n=!1;return _S(e).Z((r=>yS(e,r,t).next((e=>(e&&(n=!0),Gg.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Pg.min()),IS(e).delete(function(e){return[0,uv(e.path)]}(o)))))}));r.push(t)}})).next((()=>Gg.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return OS(e,t)}Zn(e,t){const n=IS(e);let r,i=sv._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==sv._e&&t(new Mg(fv(r)),i),i=l,r=a):i=sv._e})).next((()=>{i!==sv._e&&t(new Mg(fv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OS(e,t){return IS(e).put(function(e,t){return{targetId:0,path:uv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class DS{constructor(){this.changes=new kb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ry.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MS{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return US(e).put(n)}removeEntry(e,t,n){return US(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],x_(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=Ry.newInvalidDocument(t);return US(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(zS(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:Ry.newInvalidDocument(t)};return US(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(zS(t))},((e,r)=>{n={document:this.tr(t,r),size:gS(r)}})).next((()=>n))}getEntries(e,t){let n=Tb();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Tb(),r=new Vv(Mg.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,gS(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Gg.resolve();let r=new qv(VS);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(zS(r.first()),zS(r.last())),o=r.getIterator();let s=o.getNext();return US(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Mg.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&VS(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(zS(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),x_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return US(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Tb();for(const i of e){const e=this.tr(Mg.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(_b(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Tb();const o=ZS(t,n),s=ZS(t,Bg.max());return US(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(Mg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new FS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return jS(e).get("remoteDocumentGlobalKey").next((e=>(dg(!!e),e)))}er(e,t){return jS(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=o_(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Mg.fromSegments(t.noDocument.path),r=k_(t.noDocument.readTime);n=Ry.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ug();{const e=Mg.fromSegments(t.unknownDocument.path),r=k_(t.unknownDocument.version);n=Ry.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Rg(e[0],e[1]);return Pg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Pg.min()))return e}return Ry.newInvalidDocument(e)}}function LS(e){return new MS(e)}class FS extends DS{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new kb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new qv(((e,t)=>Ig(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=S_(this._r.serializer,o);r=r.add(i.path.popLast());const l=gS(a);n+=l-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=S_(this._r.serializer,o.convertToNoDocument(Pg.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Gg.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function jS(e){return jv(e,"remoteDocumentGlobal")}function US(e){return jv(e,"remoteDocumentsV14")}function zS(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ZS(e,t){const n=t.documentKey.path.toArray();return[e,x_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function VS(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ig(n[o],r[o]),i)return i;return i=Ig(n.length,r.length),i||(i=Ig(n[n.length-2],r[r.length-2]),i||Ig(n[n.length-1],r[r.length-1]))}class BS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WS{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&aw(n.mutation,e,Gv.empty(),Rg.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Lb()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lb();const r=Ab();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Rb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ab();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Lb())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Tb();const o=Ob(),s=Ob();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof dw)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),aw(s.mutation,t,s.mutation.getFieldMask(),Rg.now())):o.set(t.key,Gv.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new BS(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ob();let r=new Vv(((e,t)=>e-t)),i=Lb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Gv.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Lb()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Nb();l.forEach((e=>{if(!i.has(e)){const r=ow(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Gg.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Mg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gg.resolve(Ab());let s=-1,a=i;return o.next((t=>Gg.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Gg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Lb()))).next((e=>({batchId:s,changes:Pb(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mg(t)).next((e=>{let t=Rb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Rb();return this.indexManager.getCollectionParents(e,i).next((s=>Gg.forEach(s,(s=>{const a=function(e,t){return new lb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ry.newInvalidDocument(r)))}));let n=Rb();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&aw(o.mutation,r,Gv.empty(),Rg.now()),_b(t,r)&&(n=n.insert(e,r))})),n}))}}class qS{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Gg.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Qw(e.createTime)}}(t)),Gg.resolve()}getNamedQuery(e,t){return Gg.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:R_(e.bundledQuery),readTime:Qw(e.readTime)}}(t)),Gg.resolve()}}class HS{constructor(){this.overlays=new Vv(Mg.comparator),this.lr=new Map}getOverlay(e,t){return Gg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ab();return Gg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Gg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Gg.resolve()}getOverlaysForCollection(e,t,n){const r=Ab(),i=t.length+1,o=new Mg(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Vv(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ab(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Ab(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Gg.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new bw(t,n));let i=this.lr.get(t);void 0===i&&(i=Lb(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class KS{constructor(){this.hr=new qv(GS.Pr),this.Ir=new qv(GS.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new GS(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new GS(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Mg(new Ng([])),n=new GS(t,e),r=new GS(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Mg(new Ng([])),n=new GS(t,e),r=new GS(t,e+1);let i=Lb();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new GS(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class GS{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Mg.comparator(e.key,t.key)||Ig(e.gr,t.gr)}static Tr(e,t){return Ig(e.gr,t.gr)||Mg.comparator(e.key,t.key)}}class QS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new qv(GS.Pr)}checkEmpty(e){return Gg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vw(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new GS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Gg.resolve(o)}lookupMutationBatch(e,t){return Gg.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Gg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gg.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Gg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new GS(t,0),r=new GS(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Gg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qv(Ig);return t.forEach((e=>{const t=new GS(e,0),r=new GS(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Gg.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Mg.isDocumentKey(i)||(i=i.child(""));const o=new GS(new Mg(i),0);let s=new qv(Ig);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),Gg.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){dg(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Gg.forEach(t.mutations,(r=>{const i=new GS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new GS(t,0),r=this.yr.firstAfterOrEqual(n);return Gg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gg.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class XS{constructor(e){this.Cr=e,this.docs=new Vv(Mg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gg.resolve(n?n.document.mutableCopy():Ry.newInvalidDocument(t))}getEntries(e,t){let n=Tb();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ry.newInvalidDocument(e))})),Gg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Tb();const o=t.path,s=new Mg(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Wg(Vg(s),n)<=0||(r.has(s.key)||_b(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Gg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ug()}vr(e,t){return Gg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new YS(this)}getSize(e){return Gg.resolve(this.size)}}class YS extends DS{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Gg.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class JS{constructor(e){this.persistence=e,this.Fr=new kb((e=>nb(e)),rb),this.lastRemoteSnapshotVersion=Pg.min(),this.highestTargetId=0,this.Mr=0,this.Or=new KS,this.targetCount=0,this.Nr=SS.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Gg.resolve()}getLastRemoteSnapshotVersion(e){return Gg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gg.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Gg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Gg.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new SS(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Gg.resolve()}updateTargetData(e,t){return this.kn(t),Gg.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Gg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Gg.waitFor(i).next((()=>r))}getTargetCount(e){return Gg.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Gg.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Gg.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Gg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Gg.resolve(n)}containsKey(e,t){return Gg.resolve(this.Or.containsKey(t))}}class $S{constructor(e,t){this.Br={},this.overlays={},this.Lr=new sv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new JS(this),this.indexManager=new iS,this.remoteDocumentCache=function(e){return new XS(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new __(t),this.Kr=new qS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new QS(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){sg("MemoryPersistence","Starting transaction:",e);const r=new ex(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Gg.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class ex extends Hg{constructor(e){super(),this.currentSequenceNumber=e}}class tx{constructor(e){this.persistence=e,this.Gr=new KS,this.zr=null}static jr(e){return new tx(e)}get Hr(){if(this.zr)return this.zr;throw ug()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Gg.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Gg.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Gg.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gg.forEach(this.Hr,(n=>{const r=Mg.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Pg.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Gg.or([()=>Gg.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class nx{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Qg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pv,{unique:!0}),e.createObjectStore("documentMutations")}(e),rx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Gg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),rx(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pv,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Gg.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Rv});t.createIndex("collectionPathOverlayIndex",Pv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Av,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:yv});t.createIndex("documentKeyIndex",bv),t.createIndex("collectionGroupIndex",wv)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:kv}).createIndex("sequenceNumberIndex",Iv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Tv}).createIndex("documentKeyIndex",Cv,{unique:!1})}(e)))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=gS(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Gg.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Gg.forEach(n,(n=>{dg(n.userId===t.userId);const r=I_(this.serializer,n);return mS(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Ng(n),s=function(e){return[0,uv(e)]}(o);r.push(t.get(s).next((n=>n?Gg.resolve():(n=>t.put({targetId:0,path:uv(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Gg.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Ev});const n=t.store("collectionParents"),r=new oS,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:uv(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Ng(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=fv(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=T_(n),i=C_(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Mg(Ng.fromString(e.document.name).popFirst(5)):e.noDocument?Mg.fromSegments(e.noDocument.path):e.unknownDocument?Mg.fromSegments(e.unknownDocument.path):ug()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Gg.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=LS(this.serializer),i=new $S(tx.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Lb();I_(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Gg.forEach(n,((e,n)=>{const o=new ng(n),s=L_.ct(this.serializer,o),a=i.getIndexManager(o),l=vS.ct(o,this.serializer,a,i.referenceDelegate);return new WS(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Fv(t,sv._e),e).next()}))}))}}function rx(e){e.createObjectStore("targetDocuments",{keyPath:Sv}).createIndex("documentTargetsIndex",xv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_v,{unique:!0}),e.createObjectStore("targetGlobal")}const ix="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ox{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!ox.D())throw new pg(fg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NS(this,r),this.Ii=t+"main",this.serializer=new __(a),this.Ti=new Xg(this.Ii,this.ai,new nx(this.serializer)),this.qr=new xS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LS(this.serializer),this.Kr=new O_,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&ag("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pg(fg.FAILED_PRECONDITION,ix);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new sv(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ax(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if($g(e))return sg("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return sx(e).get("owner").next((e=>Gg.resolve(this.wi(e))))}Si(e){return ax(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=jv(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Gg.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Gg.resolve(!0):sx(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new pg(fg.FAILED_PRECONDITION,ix);return!1}}return!(!this.networkEnabled||!this.inForeground)||ax(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&sg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Fv(e,sv._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>ax(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return vS.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new aS(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return L_.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){sg("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Lv:14===e?Mv:13===e?Dv:12===e?Ov:11===e?Nv:void ug()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new Fv(r,this.Lr?this.Lr.next():sv._e),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw ag("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new pg(fg.FAILED_PRECONDITION,qg);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Li(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Li(e){return sx(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new pg(fg.FAILED_PRECONDITION,ix)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sx(e).put("owner",t)}static D(){return Xg.D()}pi(e){const t=sx(e);return t.get("owner").next((e=>this.wi(e)?(sg("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Gg.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ag("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!sr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return sg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ag("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ag("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function sx(e){return jv(e,"owner")}function ax(e){return jv(e,"clientMetadata")}function lx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class cx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Lb(),r=Lb();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new cx(e,t.fromCache,n,r)}}class ux{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dx{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ux;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(og()<=Pr.DEBUG&&sg("QueryEngine","SDK will not create cache indexes for query:",wb(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Gg.resolve()):(og()<=Pr.DEBUG&&sg("QueryEngine","Query:",wb(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(og()<=Pr.DEBUG&&sg("QueryEngine","The SDK decides to create cache indexes for query:",wb(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pb(t))):Gg.resolve())}zi(e,t){if(db(t))return Gg.resolve(null);let n=pb(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=vb(t,null,"F"),n=pb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Lb(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,vb(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return db(t)||r.isEqual(Pg.min())?Gg.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Gg.resolve(null):(og()<=Pr.DEBUG&&sg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wb(t)),this.Xi(e,o,t,Zg(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new qv(xb(e));return t.forEach(((t,r)=>{_b(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return og()<=Pr.DEBUG&&sg("QueryEngine","Using full collection scan to execute query:",wb(t)),this.Gi.getDocumentsMatchingQuery(e,t,Bg.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class hx{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Vv(Ig),this.ns=new kb((e=>nb(e)),rb),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function fx(e,t,n,r){return new hx(e,t,n,r)}async function px(e,t){const n=hg(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Lb();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function mx(e){const t=hg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function gx(e,t,n){let r=Lb(),i=Lb();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Tb();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Pg.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):sg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function vx(e,t){const n=hg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function yx(e,t){const n=hg(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Gg.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new w_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function bx(e,t,n){const r=hg(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!$g(e))throw e;sg("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function wx(e,t,n){const r=hg(e);let i=Pg.min(),o=Lb();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=hg(e),i=r.ns.get(n);return void 0!==i?Gg.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,pb(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Pg.min(),n?o:Lb()))).next((e=>(xx(r,Sb(t),e),{documents:e,ls:o})))))}function _x(e,t){const n=hg(e),r=hg(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Sx(e,t){const n=hg(e),r=n.rs.get(t)||Pg.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Zg(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(xx(n,t,e),e)))}function xx(e,t,n){let r=e.rs.get(t)||Pg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function Ex(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lb();const r=await yx(e,pb(R_(t.bundledQuery))),i=hg(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Qw(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(Xv.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function kx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ix(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Tx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Cx{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new pg(r.error.code,r.error.message))),o?new Cx(e,t,r.state,i):(ag("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rx{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new pg(n.error.code,n.error.message))),i?new Rx(e,n.state,r):(ag("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Px{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=jb();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=cv(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Px(e,i):(ag("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Ax{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ax(t.clientId,t.onlineState):(ag("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Nx{constructor(){this.activeTargetIds=jb()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ox{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Vv(Ig),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=kx(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Nx),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(kx(this.persistenceKey,n));if(e){const t=Px.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Tx(this.persistenceKey,e));if(n){const r=Rx.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tx(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return sg("SharedClientState","READ",e,t),t}setItem(e,t){sg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){sg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(sg("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void ag("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=sv._e;if(null!=e)try{const n=JSON.parse(e);dg("number"==typeof n),t=n}catch(e){ag("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==sv._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new Cx(this.currentUser,e,t,n),i=Ix(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=Ix(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=Tx(this.persistenceKey,e),i=new Rx(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return Px.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Cx.Ts(new ng(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return Rx.Ts(r,t)}Ms(e){return Ax.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);sg("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=jb();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Dx{constructor(){this.eo=new Nx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Nx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mx{ro(e){}shutdown(){}}class Lx{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){sg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){sg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fx=null;function jx(){return null===Fx?Fx=268435456+Math.round(2147483648*Math.random()):Fx++,"0x"+Fx.toString(16)}const Ux={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zx{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Zx="WebChannelConnection";class Vx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=jx(),s=this.So(e,t);sg("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then((t=>(sg("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw lg("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Ux[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=jx();return new Promise(((o,s)=>{const a=new Jm;a.setWithCredentials(!0),a.listenOnce(Gm.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Km.NO_ERROR:const t=a.getResponseJson();sg(Zx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Km.TIMEOUT:sg(Zx,"RPC '".concat(e,"' ").concat(i," timed out")),s(new pg(fg.DEADLINE_EXCEEDED,"Request time out"));break;case Km.HTTP_ERROR:const n=a.getStatus();if(sg(Zx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fg).indexOf(t)>=0?t:fg.UNKNOWN}(t.status);s(new pg(e,t.message))}else s(new pg(fg.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new pg(fg.UNAVAILABLE,"Connection failed."));break;default:ug()}}finally{sg(Zx,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);sg(Zx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=jx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qm(),s=Hm(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");sg(Zx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new zx({co:t=>{h?sg(Zx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(sg(Zx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),sg(Zx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ym.EventType.OPEN,(()=>{h||sg(Zx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Ym.EventType.CLOSE,(()=>{h||(h=!0,sg(Zx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Ym.EventType.ERROR,(t=>{h||(h=!0,lg(Zx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new pg(fg.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ym.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];dg(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){sg(Zx,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=_w[e];if(void 0!==t)return Ew(t)}(t),i=s.message;void 0===n&&(n=fg.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Ro(new pg(n,i)),u.close()}else sg(Zx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(s,Qm.STAT_EVENT,(t=>{t.stat===Xm.PROXY?sg(Zx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xm.NOPROXY&&sg(Zx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Bx(){return"undefined"!=typeof window?window:null}function Wx(){return"undefined"!=typeof document?document:null}function qx(e){return new Ww(e,!0)}class Hx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&sg("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Kx{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Hx(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===fg.RESOURCE_EXHAUSTED?(ag(t.toString()),ag("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===fg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new pg(fg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return sg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(sg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gx extends Kx{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ug()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(dg(void 0===t||"string"==typeof t),Xv.fromBase64String(t||"")):(dg(void 0===t||t instanceof Uint8Array),Xv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?fg.UNKNOWN:Ew(e.code);return new pg(t,e.message||"")}(s);n=new Lw(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$w(e,r.document.name),o=Qw(r.document.updateTime),s=r.document.createTime?Qw(r.document.createTime):Pg.min(),a=new Ty({mapValue:{fields:r.document.fields}}),l=Ry.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Dw(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$w(e,r.document),o=r.readTime?Qw(r.readTime):Pg.min(),s=Ry.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Dw([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$w(e,r.document),o=r.removedTargetIds||[];n=new Dw([],o,i,null)}else{if(!("filter"in t))return ug();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new ww(r,i),s=e.targetId;n=new Mw(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Pg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Pg.min():t.readTime?Qw(t.readTime):Pg.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=n_(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ib(r)?{documents:l_(e,r)}:{query:c_(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Kw(e,t.resumeToken);const r=qw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Pg.min())>0){n.readTime=Hw(e,t.snapshotVersion.toTimestamp());const r=qw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ug()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=n_(this.serializer),t.removeTarget=e,this.e_(t)}}class Qx extends Kx{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(dg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(dg(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Qw(e.updateTime):Qw(t);return n.isEqual(Pg.min())&&(n=Qw(t)),new tw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Qw(e.commitTime);return this.listener.I_(n,t)}return dg(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=n_(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>s_(this.serializer,e)))};this.e_(t)}}class Xx extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new pg(fg.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pg(fg.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new pg(fg.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Yx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(ag(t),this.f_=!1):sg("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Jx{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{aE(this)&&(sg("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=hg(e);t.C_.add(4),await eE(t),t.M_.set("Unknown"),t.C_.delete(4),await $x(t)}(this))}))})),this.M_=new Yx(n,r)}}async function $x(e){if(aE(e))for(const t of e.v_)await t(!0)}async function eE(e){for(const t of e.v_)await t(!1)}function tE(e,t){const n=hg(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),sE(n)?oE(n):kE(n).Ho()&&rE(n,t))}function nE(e,t){const n=hg(e),r=kE(n);n.D_.delete(t),r.Ho()&&iE(n,t),0===n.D_.size&&(r.Ho()?r.Zo():aE(n)&&n.M_.set("Unknown"))}function rE(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kE(e).u_(t)}function iE(e,t){e.x_.Oe(t),kE(e).c_(t)}function oE(e){e.x_=new jw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),kE(e).start(),e.M_.g_()}function sE(e){return aE(e)&&!kE(e).jo()&&e.D_.size>0}function aE(e){return 0===hg(e).C_.size}function lE(e){e.x_=void 0}async function cE(e){e.D_.forEach(((t,n)=>{rE(e,t)}))}async function uE(e,t){lE(e),sE(e)?(e.M_.w_(t),oE(e)):e.M_.set("Unknown")}async function dE(e,t,n){if(e.M_.set("Online"),t instanceof Lw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){sg("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hE(e,n)}else if(t instanceof Dw?e.x_.$e(t):t instanceof Mw?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Pg.min()))try{const t=await mx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(Xv.EMPTY_BYTE_STRING,r.snapshotVersion)),iE(e,t);const i=new w_(r.target,t,n,r.sequenceNumber);rE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){sg("RemoteStore","Failed to raise snapshot:",t),await hE(e,t)}}async function hE(e,t,n){if(!$g(t))throw t;e.C_.add(1),await eE(e),e.M_.set("Offline"),n||(n=()=>mx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{sg("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await $x(e)}))}function fE(e,t){return t().catch((n=>hE(e,n,t)))}async function pE(e){const t=hg(e),n=IE(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;mE(t);)try{const e=await vx(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,gE(t,e)}catch(e){await hE(t,e)}vE(t)&&yE(t)}function mE(e){return aE(e)&&e.b_.length<10}function gE(e,t){e.b_.push(t);const n=IE(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function vE(e){return aE(e)&&!IE(e).jo()&&e.b_.length>0}function yE(e){IE(e).start()}async function bE(e){IE(e).E_()}async function wE(e){const t=IE(e);for(const n of e.b_)t.P_(n.mutations)}async function _E(e,t,n){const r=e.b_.shift(),i=yw.from(r,t,n);await fE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await pE(e)}async function SE(e,t){t&&IE(e).h_&&await async function(e,t){if(function(e){return xw(e)&&e!==fg.ABORTED}(t.code)){const n=e.b_.shift();IE(e).Yo(),await fE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await pE(e)}}(e,t),vE(e)&&yE(e)}async function xE(e,t){const n=hg(e);n.asyncQueue.verifyOperationInProgress(),sg("RemoteStore","RemoteStore received new credentials");const r=aE(n);n.C_.add(3),await eE(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await $x(n)}async function EE(e,t){const n=hg(e);t?(n.C_.delete(2),await $x(n)):t||(n.C_.add(2),await eE(n),n.M_.set("Unknown"))}function kE(e){return e.O_||(e.O_=function(e,t,n){const r=hg(e);return r.A_(),new Gx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:cE.bind(null,e),Io:uE.bind(null,e),a_:dE.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),sE(e)?oE(e):e.M_.set("Unknown")):(await e.O_.stop(),lE(e))}))),e.O_}function IE(e){return e.N_||(e.N_=function(e,t,n){const r=hg(e);return r.A_(),new Qx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:bE.bind(null,e),Io:SE.bind(null,e),T_:wE.bind(null,e),I_:_E.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await pE(e)):(await e.N_.stop(),e.b_.length>0&&(sg("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class TE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new mg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new TE(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pg(fg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CE(e,t){if(ag("AsyncQueue","".concat(t,": ").concat(e)),$g(e))return new pg(fg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class RE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Mg.comparator(t.key,n.key):(e,t)=>Mg.comparator(e.key,t.key),this.keyedMap=Rb(),this.sortedSet=new Vv(this.comparator)}static emptySet(e){return new RE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof RE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new RE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class PE{constructor(){this.B_=new Vv(Mg.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):ug():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class AE{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new AE(e,t,RE.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class NE{constructor(){this.k_=void 0,this.listeners=[]}}class OE{constructor(){this.queries=new kb((e=>bb(e)),yb),this.onlineState="Unknown",this.q_=new Set}}async function DE(e,t){const n=hg(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new NE),i)try{o.k_=await n.onListen(r)}catch(e){const n=CE(e,"Initialization of query '".concat(wb(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&jE(n)}async function ME(e,t){const n=hg(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function LE(e,t){const n=hg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&jE(n)}function FE(e,t,n){const r=hg(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function jE(e){e.q_.forEach((e=>{e.next()}))}class UE{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new AE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=AE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class zE{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class ZE{constructor(e){this.serializer=e}hs(e){return $w(this.serializer,e)}Ps(e){return e.metadata.exists?o_(this.serializer,e.document,!1):Ry.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Qw(e)}}class VE{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BE(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Ng.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new ZE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Lb()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=hg(e);let o=Lb(),s=Tb();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await yx(i,function(e){return pb(ub(Ng.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>gx(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new ZE(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await Ex(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function BE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class WE{constructor(e){this.key=e}}class qE{constructor(e){this.key=e}}class HE{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Lb(),this.mutatedKeys=Lb(),this._a=xb(e),this.aa=new RE(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new PE,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=_b(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ug()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const s=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new AE(this.query,e.aa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new PE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Lb(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new qE(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new WE(n))})),t}da(e){this.ia=e.ls,this.oa=Lb();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return AE.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class KE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class GE{constructor(e){this.key=e,this.Ra=!1}}class QE{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new kb((e=>bb(e)),yb),this.fa=new Map,this.ga=new Set,this.pa=new Vv(Mg.comparator),this.ya=new Map,this.wa=new KS,this.Sa={},this.ba=new Map,this.Da=SS.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function XE(e,t){const n=Sk(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await yx(n.localStore,pb(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await YE(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&tE(n.remoteStore,e)}return i}async function YE(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await wx(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return lk(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const o=await wx(e.localStore,t,!0),s=new HE(t,o.ls),a=s.ca(o.documents),l=Ow.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);lk(e,n,c.Ta);const u=new KE(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function JE(e,t){const n=hg(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!yb(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bx(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),nE(n.remoteStore,r.targetId),sk(n,r.targetId)})).catch(Kg)):(sk(n,r.targetId),await bx(n.localStore,r.targetId,!0))}async function $E(e,t){const n=hg(e);try{const e=await function(e,t){const n=hg(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Xv.EMPTY_BYTE_STRING,Pg.min()).withLastLimboFreeSnapshotVersion(Pg.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=Tb(),l=Lb();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(gx(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(Pg.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Gg.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(dg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?dg(r.Ra):e.removedDocuments.size>0&&(dg(r.Ra),r.Ra=!1))})),await dk(n,e,t)}catch(e){await Kg(e)}}function ek(e,t,n){const r=hg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=hg(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&jE(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tk(e,t,n){const r=hg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new Vv(Mg.comparator);e=e.insert(o,Ry.newNoDocument(o,Pg.min()));const n=Lb().add(o),i=new Nw(Pg.min(),new Map,new Vv(Ig),e,n);await $E(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),uk(r)}else await bx(r.localStore,t,!1).then((()=>sk(r,t,n))).catch(Kg)}async function nk(e,t){const n=hg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=hg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Gg.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);dg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Lb();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ok(n,r,null),ik(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dk(n,e)}catch(e){await Kg(e)}}async function rk(e,t,n){const r=hg(e);try{const e=await function(e,t){const n=hg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(dg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ok(r,t,n),ik(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await dk(r,e)}catch(n){await Kg(n)}}function ik(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function ok(e,t,n){const r=hg(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function sk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||ak(e,t)}))}function ak(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(nE(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),uk(e))}function lk(e,t,n){for(const r of n)r instanceof WE?(e.wa.addReference(r.key,t),ck(e,r)):r instanceof qE?(sg("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||ak(e,r.key)):ug()}function ck(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(sg("SyncEngine","New document in limbo: "+n),e.ga.add(r),uk(e))}function uk(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Mg(Ng.fromString(t)),r=e.Da.next();e.ya.set(r,new GE(n)),e.pa=e.pa.insert(n,r),tE(e.remoteStore,new w_(pb(ub(n.path)),r,"TargetPurposeLimboResolution",sv._e))}}async function dk(e,t,n){const r=hg(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{s.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=cx.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=hg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gg.forEach(t,(t=>Gg.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gg.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!$g(e))throw e;sg("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function hk(e,t){const n=hg(e);if(!n.currentUser.isEqual(t)){sg("SyncEngine","User change. New user:",t.toKey());const e=await px(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new pg(fg.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await dk(n,e._s)}}function fk(e,t){const n=hg(e),r=n.ya.get(t);if(r&&r.Ra)return Lb().add(r.key);{let e=Lb();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function pk(e,t){const n=hg(e),r=await wx(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&lk(n,t.targetId,i.Ta),i}async function mk(e,t){const n=hg(e);return Sx(n.localStore,t).then((e=>dk(n,e)))}async function gk(e,t,n,r){const i=hg(e),o=await function(e,t){const n=hg(e),r=hg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Gg.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await pE(i.remoteStore):"acknowledged"===n||"rejected"===n?(ok(i,t,r||null),ik(i,t),function(e,t){hg(hg(e).mutationQueue).Fn(t)}(i.localStore,t)):ug(),await dk(i,o)):sg("SyncEngine","Cannot apply mutation batch with id: "+t)}async function vk(e,t,n){const r=hg(e),i=[],o=[];for(const s of t){let e;const t=r.fa.get(s);if(t&&0!==t.length){e=await yx(r.localStore,pb(t[0]));for(const e of t){const t=r.ma.get(e),n=await pk(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await _x(r.localStore,s);e=await yx(r.localStore,t),await YE(r,yk(t),s,!1,e.resumeToken)}i.push(e)}return r.Va.a_(o),i}function yk(e){return cb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function bk(e){return function(e){return hg(hg(e).persistence).Bi()}(hg(e).localStore)}async function wk(e,t,n,r){const i=hg(e);if(i.Ca)return void sg("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Sx(i.localStore,Sb(o[0])),r=Nw.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Xv.EMPTY_BYTE_STRING);await dk(i,e,r);break}case"rejected":await bx(i.localStore,t,!0),sk(i,t,r);break;default:ug()}}async function _k(e,t,n){const r=Sk(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){sg("SyncEngine","Adding an already active target "+e);continue}const t=await _x(r.localStore,e),n=await yx(r.localStore,t);await YE(r,yk(t),n.targetId,!1,n.resumeToken),tE(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await bx(r.localStore,e,!1).then((()=>{nE(r.remoteStore,e),sk(r,e)})).catch(Kg)}}function Sk(e){const t=hg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tk.bind(null,t),t.Va.a_=LE.bind(null,t.eventManager),t.Va.Fa=FE.bind(null,t.eventManager),t}function xk(e){const t=hg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rk.bind(null,t),t}class Ek{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qx(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return fx(this.persistence,new dx,e.initialUser,this.serializer)}createPersistence(e){return new $S(tx.jr,this.serializer)}createSharedClientState(e){return new Dx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kk extends Ek{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await xk(this.xa.syncEngine),await pE(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return fx(this.persistence,new dx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new RS(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new ov(t,this.persistence);return new iv(e.asyncQueue,n)}createPersistence(e){const t=lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?pS.withCacheSize(this.cacheSizeBytes):pS.DEFAULT;return new ox(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Bx(),Wx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Dx}}class Ik extends kk{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof Ox&&(this.sharedClientState.syncEngine={Ys:gk.bind(null,t),Zs:wk.bind(null,t),Xs:_k.bind(null,t),Bi:bk.bind(null,t),Js:mk.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=hg(e);if(Sk(n),xk(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await vk(n,e.toArray());n.Ca=!0,await EE(n.remoteStore,!0);for(const r of t)tE(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(sk(n,i),bx(n.localStore,i,!0)))),nE(n.remoteStore,i)})),await t,await vk(n,e),function(e){const t=hg(e);t.ya.forEach(((e,n)=>{nE(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Vv(Mg.comparator)}(n),n.Ca=!1,await EE(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Bx();if(!Ox.D(t))throw new pg(fg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ox(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Tk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ek(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,this.syncEngine),await EE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new OE}createDatastore(e){const t=qx(e.databaseInfo.databaseId),n=function(e){return new Vx(e)}(e.databaseInfo);return function(e,t,n,r){return new Xx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Jx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ek(this.syncEngine,e,0)),Lx.D()?new Lx:new Mx)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new QE(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=hg(e);sg("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await eE(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function Ck(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Rk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ag("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Pk{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new mg,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new zE(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Ak{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pg(fg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=hg(e),r=n_(n.serializer)+"/documents",i={documents:t.map((e=>Jw(n.serializer,e)))},o=await n.Co("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){dg(!!t.found),t.found.name,t.found.updateTime;const n=$w(e,t.found.name),r=Qw(t.found.updateTime),i=t.found.createTime?Qw(t.found.createTime):Pg.min(),o=new Ty({mapValue:{fields:t.found.fields}});return Ry.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){dg(!!t.missing),dg(!!t.readTime);const n=$w(e,t.missing),r=Qw(t.readTime);return Ry.newNoDocument(n,r)}(e,t):ug()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());dg(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new mw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Mg.fromPath(t);this.mutations.push(new gw(n,this.precondition(n)))})),await async function(e,t){const n=hg(e),r=n_(n.serializer)+"/documents",i={writes:t.map((e=>s_(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ug();t=Pg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pg(fg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pg.min())?nw.exists(!1):nw.updateTime(t):nw.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pg.min()))throw new pg(fg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nw.updateTime(t)}return nw.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nk{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new Hx(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new Ak(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!av(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xw(t)}return!1}}class Ok{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ng.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{sg("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(sg("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pg(fg.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(O){const n=CE(O,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Dk(e,t){e.asyncQueue.verifyOperationInProgress(),sg("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await px(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Mk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Fk(e);sg("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>xE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>xE(t.remoteStore,n))),e._onlineComponents=t}function Lk(e){return"FirebaseError"===e.name?e.code===fg.FAILED_PRECONDITION||e.code===fg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Fk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sg("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dk(e,e._uninitializedComponentsProvider._offline)}catch(O){const n=O;if(!Lk(n))throw n;lg("Error using user provided cache. Falling back to memory cache: "+n),await Dk(e,new Ek)}}else sg("FirestoreClient","Using default OfflineComponentProvider"),await Dk(e,new Ek);return e._offlineComponents}async function jk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sg("FirestoreClient","Using user provided OnlineComponentProvider"),await Mk(e,e._uninitializedComponentsProvider._online)):(sg("FirestoreClient","Using default OnlineComponentProvider"),await Mk(e,new Tk))),e._onlineComponents}function Uk(e){return Fk(e).then((e=>e.persistence))}function zk(e){return Fk(e).then((e=>e.localStore))}function Zk(e){return jk(e).then((e=>e.remoteStore))}function Vk(e){return jk(e).then((e=>e.syncEngine))}function Bk(e){return jk(e).then((e=>e.datastore))}async function Wk(e){const t=await jk(e),n=t.eventManager;return n.onListen=XE.bind(null,t.syncEngine),n.onUnlisten=JE.bind(null,t.syncEngine),n}function qk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new mg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Rk({next:o=>{t.enqueueAndForget((()=>ME(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new pg(fg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new pg(fg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new UE(ub(n.path),o,{includeMetadataChanges:!0,J_:!0});return DE(e,s)}(await Wk(e),e.asyncQueue,t,n,r))),r.promise}function Hk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new mg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Rk({next:n=>{t.enqueueAndForget((()=>ME(e,s))),n.fromCache&&"server"===r.source?i.reject(new pg(fg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new UE(n,o,{includeMetadataChanges:!0,J_:!0});return DE(e,s)}(await Wk(e),e.asyncQueue,t,n,r))),r.promise}function Kk(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Iw().encode(e):e,function(e,t){return new Pk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ck(e,t);if(e instanceof ArrayBuffer)return Ck(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,qx(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=hg(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=hg(e),r=Qw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(BE(r));const i=new VE(r,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await i.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const s=await i.complete();return await dk(e,s.ra,void 0),await function(e,t){const n=hg(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.na)}catch(e){return lg("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Vk(e),i,r)}))}function Gk(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Qk=new Map;function Xk(e,t,n){if(!n)throw new pg(fg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Yk(e,t,n,r){if(!0===t&&!0===r)throw new pg(fg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Jk(e){if(!Mg.isDocumentKey(e))throw new pg(fg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $k(e){if(Mg.isDocumentKey(e))throw new pg(fg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function eI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ug()}function tI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pg(fg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eI(e);throw new pg(fg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function nI(e,t){if(t<=0)throw new pg(fg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class rI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new pg(fg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pg(fg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gk(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new pg(fg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new pg(fg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new pg(fg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pg(fg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pg(fg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vg;switch(e.type){case"firstParty":return new _g(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pg(fg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qk.get(e);t&&(sg("ComponentProvider","Removing Datastore"),Qk.delete(e),t.terminate())}(this),Promise.resolve()}}function oI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=tI(e,iI))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&lg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ng.MOCK_USER;else{t=ir(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new pg(fg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ng(o)}e._authCredentials=new yg(new gg(t,n))}}class sI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sI(this.firestore,e,this._query)}}class aI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new aI(this.firestore,e,this._key)}}class lI extends sI{constructor(e,t,n){super(e,t,ub(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new aI(this.firestore,null,new Mg(e))}withConverter(e){return new lI(this.firestore,e,this._path)}}function cI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xr(e),Xk("collection","path",t),e instanceof iI){const n=Ng.fromString(t,...r);return $k(n),new lI(e,null,n)}{if(!(e instanceof aI||e instanceof lI))throw new pg(fg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ng.fromString(t,...r));return $k(n),new lI(e.firestore,null,n)}}function uI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xr(e),1===arguments.length&&(t=kg.newId()),Xk("doc","path",t),e instanceof iI){const n=Ng.fromString(t,...r);return Jk(n),new aI(e,null,new Mg(n))}{if(!(e instanceof aI||e instanceof lI))throw new pg(fg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ng.fromString(t,...r));return Jk(n),new aI(e.firestore,e instanceof lI?e.converter:null,new Mg(n))}}function dI(e,t){return e=xr(e),t=xr(t),(e instanceof aI||e instanceof lI)&&(t instanceof aI||t instanceof lI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hI(e,t){return e=xr(e),t=xr(t),e instanceof sI&&t instanceof sI&&e.firestore===t.firestore&&yb(e._query,t._query)&&e.converter===t.converter}class fI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Hx(this,"async_queue_retry"),this.iu=()=>{const e=Wx();e&&sg("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Wx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Wx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new mg;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!$g(e))throw e;sg("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ag("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=TE.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&ug()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function pI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class mI{constructor(){this._progressObserver={},this._taskCompletionResolver=new mg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gI extends iI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yI(this),this._firestoreClient.terminate()}}function vI(e){return e._firestoreClient||yI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yI(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new iy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Gk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ok(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function bI(e,t,n){const r=new mg;return e.asyncQueue.enqueue((async()=>{try{await Dk(e,n),await Mk(e,t),r.resolve()}catch(e){const n=e;if(!Lk(n))throw n;lg("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function wI(e){return function(e){const t=new mg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=hg(e);aE(n.remoteStore)||sg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=hg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=CE(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Vk(e),t))),t.promise}(vI(e=tI(e,gI)))}function _I(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Uk(e),n=await Zk(e);return t.setNetworkEnabled(!0),function(e){const t=hg(e);return t.C_.delete(0),$x(t)}(n)}))}(vI(e=tI(e,gI)))}function SI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Uk(e),n=await Zk(e);return t.setNetworkEnabled(!1),async function(e){const t=hg(e);t.C_.add(0),await eE(t),t.M_.set("Offline")}(n)}))}(vI(e=tI(e,gI)))}function xI(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=hg(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await zk(e),t)))}(vI(e=tI(e,gI)),t).then((t=>t?new sI(e,null,t.query):null))}function EI(e){if(e._initialized||e._terminated)throw new pg(fg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kI(Xv.fromBase64String(e))}catch(e){throw new pg(fg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new kI(Xv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class II{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new pg(fg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class TI{constructor(e){this._methodName=e}}class CI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pg(fg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pg(fg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ig(this._lat,e._lat)||Ig(this._long,e._long)}}const RI=/^__.*__$/;class PI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new dw(e,this.data,this.fieldMask,t,this.fieldTransforms):new uw(e,this.data,t,this.fieldTransforms)}}class AI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new dw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ug()}}class OI{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new OI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return $I(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(NI(this.Iu)&&RI.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class DI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||qx(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new OI({Iu:e,methodName:t,gu:n,path:Dg.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MI(e){const t=e._freezeSettings(),n=qx(e._databaseId);return new DI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LI(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);QI("Data must be an object, but it was:",s,r);const a=KI(r,s);let l,c;if(o.merge)l=new Gv(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=XI(t,r,n);if(!s.contains(i))throw new pg(fg.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));eT(e,i)||e.push(i)}l=new Gv(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new PI(new Ty(a),l,c)}class FI extends TI{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof FI}}function jI(e,t,n){return new OI({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class UI extends TI{_toFieldTransform(e){return new ew(e.path,new Hb)}isEqual(e){return e instanceof UI}}class zI extends TI{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=jI(this,e,!0),n=this.yu.map((e=>HI(e,t))),r=new Kb(n);return new ew(e.path,r)}isEqual(e){return this===e}}class ZI extends TI{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=jI(this,e,!0),n=this.yu.map((e=>HI(e,t))),r=new Qb(n);return new ew(e.path,r)}isEqual(e){return this===e}}class VI extends TI{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Yb(e.serializer,Zb(e.serializer,this.wu));return new ew(e.path,t)}isEqual(e){return this===e}}function BI(e,t,n,r){const i=e.pu(1,t,n);QI("Data must be an object, but it was:",i,r);const o=[],s=Ty.empty();zv(r,((e,r)=>{const a=JI(t,e,n);r=xr(r);const l=i.Ru(a);if(r instanceof FI)o.push(a);else{const e=HI(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Gv(o);return new AI(s,a,i.fieldTransforms)}function WI(e,t,n,r,i,o){const s=e.pu(1,t,n),a=[XI(t,r,n)],l=[i];if(o.length%2!=0)throw new pg(fg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(XI(t,o[h])),l.push(o[h+1]);const c=[],u=Ty.empty();for(let h=a.length-1;h>=0;--h)if(!eT(c,a[h])){const e=a[h];let t=l[h];t=xr(t);const n=s.Ru(e);if(t instanceof FI)c.push(e);else{const r=HI(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Gv(c);return new AI(u,d,s.fieldTransforms)}function qI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return HI(n,e.pu(r?4:3,t))}function HI(e,t){if(GI(e=xr(e)))return QI("Unsupported field value:",t,e),KI(e,t);if(e instanceof TI)return function(e,t){if(!NI(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=HI(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=xr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Rg.fromDate(e);return{timestampValue:Hw(t.serializer,n)}}if(e instanceof Rg){const n=new Rg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hw(t.serializer,n)}}if(e instanceof CI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kI)return{bytesValue:Kw(t.serializer,e._byteString)};if(e instanceof aI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Xw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(eI(e)))}(e,t)}function KI(e,t){const n={};return Zv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zv(e,((e,r)=>{const i=HI(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function GI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rg||e instanceof CI||e instanceof kI||e instanceof aI||e instanceof TI)}function QI(e,t,n){if(!GI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=eI(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function XI(e,t,n){if((t=xr(t))instanceof II)return t._internalPath;if("string"==typeof t)return JI(e,t);throw $I("Field path arguments must be of type string or ",e,!1,void 0,n)}const YI=new RegExp("[~\\*/\\[\\]]");function JI(e,t,n){if(t.search(YI)>=0)throw $I("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new II(...t.split("."))._internalPath}catch(N){throw $I("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $I(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new pg(fg.INVALID_ARGUMENT,a+e+l)}function eT(e,t){return e.some((e=>e.isEqual(t)))}class tT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new aI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nT extends tT{data(){return super.data()}}function rT(e,t){return"string"==typeof t?JI(e,t):t instanceof II?t._internalPath:t._delegate._internalPath}function iT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pg(fg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oT{}class sT extends oT{}function aT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof oT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof cT)).length,n=e.filter((e=>e instanceof lT)).length;if(t>1||t>0&&n>0)throw new pg(fg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class lT extends sT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new lT(e,t,n)}_apply(e){const t=this._parse(e);return vT(e._query,t),new sI(e.firestore,e.converter,gb(e._query,t))}_parse(e){const t=MI(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new pg(fg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){gT(s,o);const t=[];for(const n of s)t.push(mT(r,e,n));a={arrayValue:{values:t}}}else a=mT(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gT(s,o),a=qI(n,t,s,"in"===o||"not-in"===o);return Ly.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class cT extends oT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Fy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)vT(n,i),n=gb(n,i)}(e._query,t),new sI(e.firestore,e.converter,gb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class uT extends sT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new uT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oy(t,n)}(e._query,this._field,this._direction);return new sI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new lb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class dT extends sT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new dT(e,t,n)}_apply(e){return new sI(e.firestore,e.converter,vb(e._query,this._limit,this._limitType))}}class hT extends sT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new hT(e,t,n)}_apply(e){const t=pT(e,this.type,this._docOrFields,this._inclusive);return new sI(e.firestore,e.converter,function(e,t){return new lb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class fT extends sT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new fT(e,t,n)}_apply(e){const t=pT(e,this.type,this._docOrFields,this._inclusive);return new sI(e.firestore,e.converter,function(e,t){return new lb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function pT(e,t,n,r){if(n[0]=xr(n[0]),n[0]instanceof tT)return function(e,t,n,r,i){if(!r)throw new pg(fg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of fb(e))if(s.field.isKeyField())o.push(my(t,r.key));else{const e=r.data.field(s.field);if(ty(e))throw new pg(fg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new pg(fg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Py(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=MI(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new pg(fg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!hb(e)&&-1!==o.indexOf("/"))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Ng.fromString(o));if(!Mg.isDocumentKey(n))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Mg(n);a.push(my(t,i))}else{const e=qI(n,r,o);a.push(e)}}return new Py(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function mT(e,t,n){if("string"==typeof(n=xr(n))){if(""===n)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hb(t)&&-1!==n.indexOf("/"))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ng.fromString(n));if(!Mg.isDocumentKey(r))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return my(e,new Mg(r))}if(n instanceof aI)return my(e,n._key);throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(eI(n),"."))}function gT(e,t){if(!Array.isArray(e)||0===e.length)throw new pg(fg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function vT(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new pg(fg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pg(fg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class yT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ly(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $v(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ey(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ug()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new CI($v(e.latitude),$v(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ny(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ry(e));default:return null}}convertTimestamp(e){const t=Jv(e);return new Rg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ng.fromString(e);dg(b_(n));const r=new oy(n.get(1),n.get(3)),i=new Mg(n.popFirst(5));return r.isEqual(t)||ag("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function bT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wT extends yT{constructor(e){super(),this.firestore=e}convertBytes(e){return new kI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aI(this.firestore,null,t)}}class _T{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ST extends tT{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new xT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(rT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class xT extends ST{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ET{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new _T(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new xT(this._firestore,this._userDataWriter,n.key,n,new _T(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pg(fg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new xT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new _T(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new xT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _T(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:kT(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function kT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ug()}}function IT(e,t){return e instanceof ST&&t instanceof ST?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ET&&t instanceof ET&&e._firestore===t._firestore&&hI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function TT(e){e=tI(e,aI);const t=tI(e.firestore,gI);return qk(vI(t),e._key).then((n=>LT(t,e,n)))}class CT extends yT{constructor(e){super(),this.firestore=e}convertBytes(e){return new kI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aI(this.firestore,null,t)}}function RT(e){e=tI(e,aI);const t=tI(e.firestore,gI),n=vI(t),r=new CT(t);return function(e,t){const n=new mg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=hg(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new pg(fg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=CE(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await zk(e),t,n))),n.promise}(n,e._key).then((n=>new ST(t,r,e._key,n,new _T(null!==n&&n.hasLocalMutations,!0),e.converter)))}function PT(e){e=tI(e,sI);const t=tI(e.firestore,gI),n=vI(t),r=new CT(t);return function(e,t){const n=new mg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await wx(e,t,!0),i=new HE(t,r.ls),o=i.ca(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=CE(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await zk(e),t,n))),n.promise}(n,e._query).then((n=>new ET(t,r,e,n)))}function AT(e,t,n){e=tI(e,aI);const r=tI(e.firestore,gI),i=bT(e.converter,t,n);return MT(r,[LI(MI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nw.none())])}function NT(e,t,n){e=tI(e,aI);const r=tI(e.firestore,gI),i=MI(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=xr(t))||t instanceof II?WI(i,"updateDoc",e._key,t,n,a):BI(i,"updateDoc",e._key,t),MT(r,[o.toMutation(e._key,nw.exists(!0))])}function OT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=xr(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||pI(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(pI(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof aI)d=tI(e.firestore,gI),h=ub(e._key.path),u={next:t=>{n[l]&&n[l](LT(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=tI(e,sI);d=tI(t.firestore,gI),h=t._query;const r=new CT(d);u={next:e=>{n[l]&&n[l](new ET(d,r,t,e))},error:n[l+1],complete:n[l+2]},iT(e._query)}return function(e,t,n,r){const i=new Rk(r),o=new UE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>DE(await Wk(e),o))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>ME(await Wk(e),o)))}}(vI(d),h,c,u)}function DT(e,t){return function(e,t){const n=new Rk(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){hg(e).q_.add(t),t.next()}(await Wk(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){hg(e).q_.delete(t)}(await Wk(e),n)))}}(vI(e=tI(e,gI)),pI(t)?t:{next:t})}function MT(e,t){return function(e,t){const n=new mg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=xk(e);try{const e=await function(e,t){const n=hg(e),r=Rg.now(),i=t.reduce(((e,t)=>e.add(t.key)),Lb());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Tb(),l=Lb();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=lw(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new dw(e.key,t,Cy(t.value.mapValue),nw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Pb(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Vv(Ig)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await dk(r,e.changes),await pE(r.remoteStore)}catch(e){const t=CE(e,"Failed to persist write");n.reject(t)}}(await Vk(e),t,n))),n.promise}(vI(e),t)}function LT(e,t,n){const r=n.docs.get(t._key),i=new CT(e);return new ST(e,i,t._key,r,new _T(n.hasPendingWrites,n.fromCache),t.converter)}const FT={maxAttempts:5};class jT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=MI(e)}set(e,t,n){this._verifyNotCommitted();const r=UT(e,this._firestore),i=bT(r.converter,t,n),o=LI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,nw.none())),this}update(e,t,n){this._verifyNotCommitted();const r=UT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=xr(t))||t instanceof II?WI(this._dataReader,"WriteBatch.update",r._key,t,n,s):BI(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,nw.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=UT(e,this._firestore);return this._mutations=this._mutations.concat(new mw(t._key,nw.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pg(fg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function UT(e,t){if((e=xr(e)).firestore!==t)throw new pg(fg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class zT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=MI(e)}get(e){const t=UT(e,this._firestore),n=new wT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return ug();const r=e[0];if(r.isFoundDocument())return new tT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new tT(this._firestore,n,t._key,null,t.converter);throw ug()}))}set(e,t,n){const r=UT(e,this._firestore),i=bT(r.converter,t,n),o=LI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=UT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=xr(t))||t instanceof II?WI(this._dataReader,"Transaction.update",r._key,t,n,s):BI(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=UT(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=UT(e,this._firestore),n=new CT(this._firestore);return super.get(e).then((e=>new ST(this._firestore,n,t._key,e._document,new _T(!1,!1),t.converter)))}}function ZT(){return new UI("serverTimestamp")}function VT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zI("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rg=e}(mi),ci(new Er("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new gI(new bg(e.getProvider("auth-internal")),new xg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pg(fg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oy(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),wi(tg,"4.4.0",e),wi(tg,"4.4.0","esm2017")}();function BT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function WT(){if("undefined"===typeof Uint8Array)throw new pg("unimplemented","Uint8Arrays are not available in this environment.")}function qT(){if("undefined"==typeof atob)throw new pg("unimplemented","Blobs are unavailable in Firestore in this environment.")}class HT{constructor(e){this._delegate=e}static fromBase64String(e){return qT(),new HT(kI.fromBase64String(e))}static fromUint8Array(e){return WT(),new HT(kI.fromUint8Array(e))}toBase64(){return qT(),this._delegate.toBase64()}toUint8Array(){return WT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class GT{enableIndexedDbPersistence(e,t){return function(e,t){EI(e=tI(e,gI));const n=vI(e);if(n._uninitializedComponentsProvider)throw new pg(fg.FAILED_PRECONDITION,"SDK cache is already specified.");lg("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Tk;return bI(n,i,new kk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){EI(e=tI(e,gI));const t=vI(e);if(t._uninitializedComponentsProvider)throw new pg(fg.FAILED_PRECONDITION,"SDK cache is already specified.");lg("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Tk;return bI(t,r,new Ik(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new pg(fg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new mg;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Xg.D())return Promise.resolve();const t=e+"main";await Xg.delete(t)}(lx(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class QT{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof oy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||lg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};oI(this._delegate,e,t,n)}enableNetwork(){return _I(this._delegate)}disableNetwork(){return SI(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Yk("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return wI(this._delegate)}onSnapshotsInSync(e){return DT(this._delegate,e)}get app(){if(!this._appCompat)throw new pg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cC(this,cI(this._delegate,e))}catch(t){throw tC(t,"collection()","Firestore.collection()")}}doc(e){try{return new eC(this,uI(this._delegate,e))}catch(t){throw tC(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new sC(this,function(e,t){if(e=tI(e,iI),Xk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pg(fg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new sI(e,null,function(e){return new lb(Ng.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tC(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=tI(e,gI);const r=Object.assign(Object.assign({},FT),n);return function(e){if(e.maxAttempts<1)throw new pg(fg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new mg;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Bk(e);new Nk(e.asyncQueue,i,n,t,r).run()})),r.promise}(vI(e),(n=>t(new zT(e,n))),r)}(this._delegate,(t=>e(new YT(this,t))))}batch(){return vI(this._delegate),new JT(new jT(this._delegate,(e=>MT(this._delegate,e))))}loadBundle(e){return function(e,t){const n=vI(e=tI(e,gI)),r=new mI;return Kk(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return xI(this._delegate,e).then((e=>e?new sC(this,e):null))}}class XT extends yT{constructor(e){super(),this.firestore=e}convertBytes(e){return new HT(new kI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return eC.forKey(t,this.firestore,null)}}class YT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new XT(e)}get(e){const t=uC(e);return this._delegate.get(t).then((e=>new iC(this._firestore,new ST(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=uC(e);return n?(BT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=uC(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=uC(e);return this._delegate.delete(t),this}}class JT{constructor(e){this._delegate=e}set(e,t,n){const r=uC(e);return n?(BT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=uC(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=uC(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $T{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new xT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oC(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=$T.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new $T(e,new XT(e),t),r.set(t,i)),i}}$T.INSTANCES=new WeakMap;class eC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XT(e)}static forPath(e,t,n){if(e.length%2!==0)throw new pg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new eC(t,new aI(t._delegate,n,new Mg(e)))}static forKey(e,t,n){return new eC(t,new aI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new cC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cC(this.firestore,cI(this._delegate,e))}catch(t){throw tC(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=xr(e))instanceof aI&&dI(this._delegate,e)}set(e,t){t=BT("DocumentReference.set",t);try{return t?AT(this._delegate,e,t):AT(this._delegate,e)}catch(n){throw tC(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?NT(this._delegate,e):NT(this._delegate,e,t,...r)}catch(o){throw tC(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return MT(tI(e.firestore,gI),[new mw(e._key,nw.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=nC(t),i=rC(t,(e=>new iC(this.firestore,new ST(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return OT(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?RT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tI(e,aI);const t=tI(e.firestore,gI);return qk(vI(t),e._key,{source:"server"}).then((n=>LT(t,e,n)))}(this._delegate):TT(this._delegate),t.then((e=>new iC(this.firestore,new ST(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new eC(this.firestore,e?this._delegate.withConverter($T.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tC(e,t,n){return e.message=e.message.replace(t,n),e}function nC(e){for(const t of e)if("object"===typeof t&&!KT(t))return t;return{}}function rC(e,t){var n,r;let i;return i=KT(e[0])?e[0]:KT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class iC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new eC(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return IT(this._delegate,e._delegate)}}class oC extends iC{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||ug()}(void 0!==t),t}}class sC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XT(e)}where(e,t,n){try{return new sC(this.firestore,aT(this._delegate,function(e,t,n){const r=t,i=rT("where",e);return lT._create(i,r,n)}(e,t,n)))}catch(r){throw tC(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new sC(this.firestore,aT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=rT("orderBy",e);return uT._create(n,t)}(e,t)))}catch(n){throw tC(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sC(this.firestore,aT(this._delegate,function(e){return nI("limit",e),dT._create("limit",e,"F")}(e)))}catch(t){throw tC(t,"limit()","Query.limit()")}}limitToLast(e){try{return new sC(this.firestore,aT(this._delegate,function(e){return nI("limitToLast",e),dT._create("limitToLast",e,"L")}(e)))}catch(t){throw tC(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new sC(this.firestore,aT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hT._create("startAt",t,!0)}(...arguments)))}catch(e){throw tC(e,"startAt()","Query.startAt()")}}startAfter(){try{return new sC(this.firestore,aT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hT._create("startAfter",t,!1)}(...arguments)))}catch(e){throw tC(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new sC(this.firestore,aT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fT._create("endBefore",t,!1)}(...arguments)))}catch(e){throw tC(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new sC(this.firestore,aT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fT._create("endAt",t,!0)}(...arguments)))}catch(e){throw tC(e,"endAt()","Query.endAt()")}}isEqual(e){return hI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?PT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tI(e,sI);const t=tI(e.firestore,gI),n=vI(t),r=new CT(t);return Hk(n,e._query,{source:"server"}).then((n=>new ET(t,r,e,n)))}(this._delegate):function(e){e=tI(e,sI);const t=tI(e.firestore,gI),n=vI(t),r=new CT(t);return iT(e._query),Hk(n,e._query).then((n=>new ET(t,r,e,n)))}(this._delegate),t.then((e=>new lC(this.firestore,new ET(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=nC(t),i=rC(t,(e=>new lC(this.firestore,new ET(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return OT(this._delegate,r,i)}withConverter(e){return new sC(this.firestore,e?this._delegate.withConverter($T.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class aC{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new oC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new sC(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new oC(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new aC(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new oC(this._firestore,n))}))}isEqual(e){return IT(this._delegate,e._delegate)}}class cC extends sC{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new eC(this.firestore,e):null}doc(e){try{return new eC(this.firestore,void 0===e?uI(this._delegate):uI(this._delegate,e))}catch(t){throw tC(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=tI(e.firestore,gI),r=uI(e),i=bT(e.converter,t);return MT(n,[LI(MI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nw.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new eC(this.firestore,e)))}isEqual(e){return dI(this._delegate,e._delegate)}withConverter(e){return new cC(this.firestore,e?this._delegate.withConverter($T.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function uC(e){return tI(e,aI)}class dC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new II(...t)}static documentId(){return new dC(Dg.keyField().canonicalString())}isEqual(e){return(e=xr(e))instanceof II&&this._delegate._internalPath.isEqual(e._internalPath)}}class hC{constructor(e){this._delegate=e}static serverTimestamp(){const e=ZT();return e._methodName="FieldValue.serverTimestamp",new hC(e)}static delete(){const e=new FI("deleteField");return e._methodName="FieldValue.delete",new hC(e)}static arrayUnion(){const e=VT(...arguments);return e._methodName="FieldValue.arrayUnion",new hC(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new hC(e)}static increment(e){const t=function(e){return new VI("increment",e)}(e);return t._methodName="FieldValue.increment",new hC(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fC={Firestore:QT,GeoPoint:CI,Timestamp:Rg,Blob:HT,Transaction:YT,WriteBatch:JT,DocumentReference:eC,DocumentSnapshot:iC,Query:sC,QueryDocumentSnapshot:oC,QuerySnapshot:lC,CollectionReference:cC,FieldPath:dC,FieldValue:hC,setLogLevel:function(e){!function(e){ig.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Er("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},fC)))}(e,((e,t)=>new QT(e,t,new GT))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(Ui);Ui.registerVersion("firebase","10.7.0","app-compat");const pC=Ui.initializeApp({apiKey:"AIzaSyCWu39i99LppMLzKVHX_GGkt8vEASbHaXE",authDomain:"social-media-27267.firebaseapp.com",projectId:"social-media-27267",storageBucket:"social-media-27267.appspot.com",messagingSenderId:"940323635932",appId:"1:940323635932:web:795f0adbe7aab3b6c92a19",measurementId:"G-KW9X06J0CV"}),mC=Ui.auth(),gC=Ui.storage(),vC=pC.firestore(),yC=new Os;yC.setCustomParameters({prompt:"select_account"});var bC=n(7462),wC=n(3366),_C=n(3733),SC=n(2421),xC=n(104),EC=n(2466),kC=n(7416);const IC=["sx"],TC=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:kC.Z;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function CC(e){const{sx:t}=e,n=(0,wC.Z)(e,IC),{systemProps:r,otherProps:i}=TC(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,EC.P)(e)?(0,bC.Z)({},r,e):r}:(0,bC.Z)({},r,t),(0,bC.Z)({},i,{sx:o})}var RC=n(418),PC=n(184);const AC=["className","component"];var NC=n(5902),OC=n(7107),DC=n(988),MC=n(5878);const LC=(0,MC.Z)("MuiBox",["root"]),FC=(0,OC.Z)(),jC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,s=(0,SC.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(xC.Z),a=t.forwardRef((function(e,t){const a=(0,RC.Z)(r),l=CC(e),{className:c,component:u="div"}=l,d=(0,wC.Z)(l,AC);return(0,PC.jsx)(s,(0,bC.Z)({as:u,ref:t,className:(0,_C.Z)(c,o?o(i):i),theme:n&&a[n]||a},d))}));return a}({themeId:DC.Z,defaultTheme:FC,defaultClassName:LC.root,generateClassName:NC.Z.generate}),UC=jC,zC=()=>(0,PC.jsx)(PC.Fragment,{children:(0,PC.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"24px"},children:"Loading..."})});var ZC=n(4419),VC=n(7630),BC=n(1046),WC=n(2065);const qC=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var HC=n(1217);function KC(e){return(0,HC.Z)("MuiPaper",e)}(0,MC.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const GC=["className","component","elevation","square","variant"],QC=(0,VC.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,bC.Z)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,bC.Z)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,WC.Fq)("#fff",qC(n.elevation)),", ").concat((0,WC.Fq)("#fff",qC(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),XC=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=(0,wC.Z)(n,GC),c=(0,bC.Z)({},n,{component:i,elevation:o,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,ZC.Z)(o,KC,i)})(c);return(0,PC.jsx)(QC,(0,bC.Z)({as:i,ownerState:c,className:(0,_C.Z)(u.root,r),ref:t},l))})),YC=XC;function JC(e){return(0,HC.Z)("MuiCard",e)}(0,MC.Z)("MuiCard",["root"]);const $C=["className","raised"],eR=(0,VC.ZP)(YC,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),tR=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=(0,wC.Z)(n,$C),s=(0,bC.Z)({},n,{raised:i}),a=(e=>{const{classes:t}=e;return(0,ZC.Z)({root:["root"]},JC,t)})(s);return(0,PC.jsx)(eR,(0,bC.Z)({className:(0,_C.Z)(a.root,r),elevation:i?8:void 0,ref:t,ownerState:s},o))})),nR=tR;var rR=n(9201);const iR=(0,rR.Z)((0,PC.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function oR(e){return(0,HC.Z)("MuiAvatar",e)}(0,MC.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const sR=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],aR=(0,VC.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,bC.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),lR=(0,VC.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),cR=(0,VC.ZP)(iR,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const uR=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:h="circular"}=r,f=(0,wC.Z)(r,sR);let p=null;const m=function(e){let{crossOrigin:n,referrerPolicy:r,src:i,srcSet:o}=e;const[s,a]=t.useState(!1);return t.useEffect((()=>{if(!i&&!o)return;a(!1);let e=!0;const t=new Image;return t.onload=()=>{e&&a("loaded")},t.onerror=()=>{e&&a("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,o&&(t.srcset=o),()=>{e=!1}}),[n,r,i,o]),s}((0,bC.Z)({},l,{src:u,srcSet:d})),g=u||d,v=g&&"error"!==m,y=(0,bC.Z)({},r,{colorDefault:!v,component:a,variant:h}),b=(e=>{const{classes:t,variant:n,colorDefault:r}=e,i={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,ZC.Z)(i,oR,t)})(y);return p=v?(0,PC.jsx)(lR,(0,bC.Z)({alt:i,srcSet:d,src:u,sizes:c,ownerState:y,className:b.img},l)):null!=o?o:g&&i?i[0]:(0,PC.jsx)(cR,{ownerState:y,className:b.fallback}),(0,PC.jsx)(aR,(0,bC.Z)({as:a,ownerState:y,className:(0,_C.Z)(b.root,s),ref:n},f,{children:p}))})),dR=uR;function hR(e){return(0,HC.Z)("MuiCardContent",e)}(0,MC.Z)("MuiCardContent",["root"]);const fR=["className","component"],pR=(0,VC.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),mR=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=(0,wC.Z)(n,fR),s=(0,bC.Z)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,ZC.Z)({root:["root"]},hR,t)})(s);return(0,PC.jsx)(pR,(0,bC.Z)({as:i,className:(0,_C.Z)(a.root,r),ownerState:s,ref:t},o))})),gR=mR;var vR=n(4036);function yR(e){return(0,HC.Z)("MuiTypography",e)}(0,MC.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const bR=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],wR=(0,VC.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,vR.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),_R={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},SR={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},xR=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiTypography"}),r=(e=>SR[e]||e)(n.color),i=CC((0,bC.Z)({},n,{color:r})),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=_R}=i,f=(0,wC.Z)(i,bR),p=(0,bC.Z)({},i,{align:o,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=a||(u?"p":h[d]||_R[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&"align".concat((0,vR.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,ZC.Z)(a,yR,s)})(p);return(0,PC.jsx)(wR,(0,bC.Z)({as:m,ref:t,ownerState:p,className:(0,_C.Z)(g.root,s)},f))})),ER=xR,kR=e=>{let{user:t,display:n,handleOpenChat:r,doesHeHaveChat:i}=e;return n&&!i?(0,PC.jsxs)(nR,{style:{display:"flex",alignItems:"center",margin:"10px"},children:[(0,PC.jsx)(dR,{src:t.avatar,alt:t.displayName,style:{margin:"10px"},onClick:()=>{r(t)}}),(0,PC.jsx)(gR,{children:(0,PC.jsx)(ER,{variant:"h5",children:t.displayName})})]}):null},IR=e=>{var t;let{chats:n,handleOpenChat:r}=e;return(0,PC.jsxs)(nR,{style:{display:"flex",alignItems:"center",margin:"10px"},children:[(0,PC.jsx)(dR,{src:n[1].userInfo.photourl,alt:n[1].userInfo.displayName,style:{margin:"10px"},onClick:()=>{r(n[0],{userInfo:n[1].userInfo})}}),(0,PC.jsxs)(gR,{children:[(0,PC.jsx)(ER,{variant:"h5",children:n[1].userInfo.displayName}),(0,PC.jsx)(ER,{variant:"h5",children:null===(t=n[1].lastMessage)||void 0===t?void 0:t.text})]})]})},TR=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!1),a=In(),l=Nt((e=>e.authReducer)),c=At();(0,t.useEffect)((()=>{vC.collection("users").onSnapshot((e=>{n(e.docs.map((e=>({avatar:e.data().avatar,displayName:e.data().displayName,uid:e.data().uid}))))}));var e;l.isLoggedIn&&((null===(e=l.user)||void 0===e?void 0:e.uid)&&(async()=>{var e;const t=null===(e=l.user)||void 0===e?void 0:e.uid;if(t){const e=OT(uI(vC,"userchats",t),(e=>{i(e.data()),console.log(e.data()),s(!0)}))}})())}),[l.isLoggedIn]);return o?(0,PC.jsxs)(UC,{children:[e.map((e=>{var t;const n=Object.entries(r).some((t=>t[1].userInfo.uid===e.uid));return(0,PC.jsx)(kR,{user:e,display:e.uid!==(null===(t=l.user)||void 0===t?void 0:t.uid),handleOpenChat:()=>(async e=>{var t;console.log("handleClick");const n=null===(t=l.user)||void 0===t?void 0:t.uid;if((!n||e.uid!==n)&&l.user&&n){const t=n>e.uid?n+e.uid:e.uid+l.user.uid;try{(await TT(uI(vC,"chats",t))).exists()||(await AT(uI(vC,"chats",t),{messages:[]}),await NT(uI(vC,"userchats",l.user.uid),{[t+".userInfo"]:{uid:e.uid,displayName:e.displayName,photourl:e.avatar},[t+".lastMessage"]:{text:""},[t+".date"]:Ui.firestore.FieldValue.serverTimestamp()}),await NT(uI(vC,"userchats",e.uid),{[t+".userInfo"]:{uid:l.user.uid,displayName:l.user.displayName,photourl:l.user.photoURL},[t+".date"]:Ui.firestore.FieldValue.serverTimestamp(),[t+".lastMessage"]:{text:""}})),a("/chat/chatuid?uid=".concat(t)),c(Rt.selectedUser({displayName:e.displayName,photourl:e.avatar,uid:e.uid}))}catch(r){console.log(r)}}})(e),doesHeHaveChat:n},e.uid)})),r&&Object.entries(r).map((e=>(0,PC.jsx)(IR,{chats:e,handleOpenChat:()=>{return t=e[0],n=e[1].userInfo,c(Rt.selectedUser(n)),void a("/chat/chatuid?uid=".concat(t));var t,n}},e[0])))]}):(0,PC.jsx)(zC,{})};var CR=n(1184),RR=n(6482);function PR(){const e=(0,RC.Z)(RR.Z);return e[DC.Z]||e}const AR=t.createContext();function NR(e){return(0,HC.Z)("MuiGrid",e)}const OR=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],DR=(0,MC.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...OR.map((e=>"grid-xs-".concat(e))),...OR.map((e=>"grid-sm-".concat(e))),...OR.map((e=>"grid-md-".concat(e))),...OR.map((e=>"grid-lg-".concat(e))),...OR.map((e=>"grid-xl-".concat(e)))]),MR=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function LR(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function FR(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const jR=(0,VC.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,CR.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,CR.k9)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(DR.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,CR.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=FR({breakpoints:t.breakpoints.values,values:e})),o=(0,CR.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(LR(o)),["& > .".concat(DR.item)]:{paddingTop:LR(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(DR.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,CR.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=FR({breakpoints:t.breakpoints.values,values:e})),o=(0,CR.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(LR(o),")"),marginLeft:"-".concat(LR(o)),["& > .".concat(DR.item)]:{paddingLeft:LR(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(DR.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,CR.P$)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[i]:s;if(void 0===a||null===a)return e;const l="".concat(Math.round(t/a*1e8)/1e6,"%");let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(LR(e),")");c={flexBasis:t,maxWidth:t}}}o=(0,bC.Z)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const UR=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]};return(0,ZC.Z)(d,NR,t)},zR=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiGrid"}),{breakpoints:i}=PR(),o=CC(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,v=(0,wC.Z)(o,MR),y=f||p,b=l||p,w=t.useContext(AR),_=u?a||12:w,S={},x=(0,bC.Z)({},v);i.keys.forEach((e=>{null!=v[e]&&(S[e]=v[e],delete x[e])}));const E=(0,bC.Z)({},o,{columns:_,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:p},S,{breakpoints:i.keys}),k=UR(E);return(0,PC.jsx)(AR.Provider,{value:_,children:(0,PC.jsx)(jR,(0,bC.Z)({ownerState:E,className:(0,_C.Z)(k.root,s),as:c,ref:n},x))})}));const ZR=zR;var VR={};function BR(){return VR}function WR(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function qR(e){WR(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ne(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function HR(e,t){WR(2,arguments);var n=qR(e),r=qR(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function KR(e){WR(1,arguments);var t=qR(e);return function(e){WR(1,arguments);var t=qR(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){WR(1,arguments);var t=qR(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function GR(e,t){WR(2,arguments);var n,r=qR(e),i=qR(t),o=HR(r,i),s=Math.abs(function(e,t){WR(2,arguments);var n=qR(e),r=qR(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*s);var a=HR(r,i)===-o;KR(qR(e))&&1===s&&1===HR(e,i)&&(a=!1),n=o*(s-Number(a))}return 0===n?0:n}var QR={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},XR="trunc";function YR(e,t,n){WR(2,arguments);var r,i=function(e,t){return WR(2,arguments),qR(e).getTime()-qR(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?QR[r]:QR[XR])(i)}var JR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const $R=function(e,t,n){var r,i=JR[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eP(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var tP={date:eP({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:eP({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:eP({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var nP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function rP(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function iP(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var oP;const sP={code:"en-US",formatDistance:$R,formatLong:tP,formatRelative:function(e,t,n,r){return nP[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:rP({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:rP({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:rP({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:rP({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:rP({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(oP={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(oP.matchPattern);if(!n)return null;var r=n[0],i=e.match(oP.parsePattern);if(!i)return null;var o=oP.valueCallback?oP.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:iP({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:iP({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:iP({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:iP({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:iP({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function aP(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function lP(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var cP=1440,uP=2520,dP=43200,hP=86400;function fP(e,t,n){var r,i;WR(2,arguments);var o=BR(),s=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:sP;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=HR(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l,c,u=aP(aP({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:a});a>0?(l=qR(t),c=qR(e)):(l=qR(e),c=qR(t));var d,h=YR(c,l),f=(lP(c)-lP(l))/1e3,p=Math.round((h-f)/60);if(p<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===p?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",p,u);if(p<45)return s.formatDistance("xMinutes",p,u);if(p<90)return s.formatDistance("aboutXHours",1,u);if(p<cP){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,u)}if(p<uP)return s.formatDistance("xDays",1,u);if(p<dP){var g=Math.round(p/cP);return s.formatDistance("xDays",g,u)}if(p<hP)return d=Math.round(p/dP),s.formatDistance("aboutXMonths",d,u);if((d=GR(c,l))<12){var v=Math.round(p/dP);return s.formatDistance("xMonths",v,u)}var y=d%12,b=Math.floor(d/12);return y<3?s.formatDistance("aboutXYears",b,u):y<9?s.formatDistance("overXYears",b,u):s.formatDistance("almostXYears",b+1,u)}function pP(e,t){return WR(1,arguments),fP(e,Date.now(),t)}function mP(e){return(0,HC.Z)("MuiCardHeader",e)}const gP=(0,MC.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),vP=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],yP=(0,VC.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,bC.Z)({["& .".concat(gP.title)]:t.title,["& .".concat(gP.subheader)]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),bP=(0,VC.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),wP=(0,VC.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),_P=(0,VC.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),SP=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiCardHeader"}),{action:r,avatar:i,className:o,component:s="div",disableTypography:a=!1,subheader:l,subheaderTypographyProps:c,title:u,titleTypographyProps:d}=n,h=(0,wC.Z)(n,vP),f=(0,bC.Z)({},n,{component:s,disableTypography:a}),p=(e=>{const{classes:t}=e;return(0,ZC.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},mP,t)})(f);let m=u;null==m||m.type===ER||a||(m=(0,PC.jsx)(ER,(0,bC.Z)({variant:i?"body2":"h5",className:p.title,component:"span",display:"block"},d,{children:m})));let g=l;return null==g||g.type===ER||a||(g=(0,PC.jsx)(ER,(0,bC.Z)({variant:i?"body2":"body1",className:p.subheader,color:"text.secondary",component:"span",display:"block"},c,{children:g}))),(0,PC.jsxs)(yP,(0,bC.Z)({className:(0,_C.Z)(p.root,o),as:s,ref:t,ownerState:f},h,{children:[i&&(0,PC.jsx)(bP,{className:p.avatar,ownerState:f,children:i}),(0,PC.jsxs)(_P,{className:p.content,ownerState:f,children:[m,g]}),r&&(0,PC.jsx)(wP,{className:p.action,ownerState:f,children:r})]}))})),xP=SP;function EP(e){return(0,HC.Z)("MuiCardMedia",e)}(0,MC.Z)("MuiCardMedia",["root","media","img"]);const kP=["children","className","component","image","src","style"],IP=(0,VC.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),TP=["video","audio","picture","iframe","img"],CP=["picture","img"],RP=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiCardMedia"}),{children:r,className:i,component:o="div",image:s,src:a,style:l}=n,c=(0,wC.Z)(n,kP),u=-1!==TP.indexOf(o),d=!u&&s?(0,bC.Z)({backgroundImage:'url("'.concat(s,'")')},l):l,h=(0,bC.Z)({},n,{component:o,isMediaComponent:u,isImageComponent:-1!==CP.indexOf(o)}),f=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,i={root:["root",n&&"media",r&&"img"]};return(0,ZC.Z)(i,EP,t)})(h);return(0,PC.jsx)(IP,(0,bC.Z)({className:(0,_C.Z)(f.root,i),as:o,role:!u&&s?"img":void 0,ref:t,style:d,ownerState:h,src:u?s||a:void 0},c,{children:r}))})),PP=RP;var AP=n(8252),NP=n(6189),OP=n(6117),DP=n(5202),MP=n(2876),LP=n(2254);const FP=["onChange","maxRows","minRows","style","value"];function jP(e){return parseInt(e,10)||0}const UP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function zP(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const ZP=t.forwardRef((function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:l}=e,c=(0,wC.Z)(e,FP),{current:u}=t.useRef(null!=l),d=t.useRef(null),h=(0,OP.Z)(n,d),f=t.useRef(null),p=t.useRef(0),[m,g]=t.useState({outerHeightStyle:0}),v=t.useCallback((()=>{const t=d.current,n=(0,DP.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=f.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const s=n.boxSizing,a=jP(n.paddingBottom)+jP(n.paddingTop),l=jP(n.borderBottomWidth)+jP(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*u,h)),i&&(h=Math.min(Number(i)*u,h)),h=Math.max(h,u);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflow:Math.abs(h-c)<=1}}),[i,o,e.placeholder]),y=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return p.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(p.current+=1,{overflow:r,outerHeightStyle:n}):e},b=t.useCallback((()=>{const e=v();zP(e)||g((t=>y(t,e)))}),[v]);(0,MP.Z)((()=>{const e=()=>{p.current=0,(()=>{const e=v();zP(e)||a.flushSync((()=>{g((t=>y(t,e)))}))})()};let t;const n=(0,LP.Z)(e),r=d.current,i=(0,DP.Z)(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[v]),(0,MP.Z)((()=>{b()})),t.useEffect((()=>{p.current=0}),[l]);return(0,PC.jsxs)(t.Fragment,{children:[(0,PC.jsx)("textarea",(0,bC.Z)({value:l,onChange:e=>{p.current=0,u||b(),r&&r(e)},ref:h,rows:o,style:(0,bC.Z)({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},s)},c)),(0,PC.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,bC.Z)({},UP,s,{paddingTop:0,paddingBottom:0})})]})}));function VP(e){return"string"===typeof e}function BP(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const WP=t.createContext(void 0);function qP(){return t.useContext(WP)}var HP=n(2071),KP=n(162),GP=n(2564),QP=n(5438),XP=n(2561),YP=n(9140),JP=(n(3361),(0,GP.w)((function(e,n){var r=e.styles,i=(0,YP.O)([r],void 0,t.useContext(GP.T));if(!GP.i){for(var o,s=i.name,a=i.styles,l=i.next;void 0!==l;)s+=" "+l.name,a+=l.styles,l=l.next;var c=!0===n.compat,u=n.insert("",{name:s,styles:a},n.sheet,c);return c?null:t.createElement("style",((o={})["data-emotion"]=n.key+"-global "+s,o.dangerouslySetInnerHTML={__html:u},o.nonce=n.sheet.nonce,o))}var d=t.useRef();return(0,XP.j)((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),d.current=[t,r],function(){t.flush()}}),[n]),(0,XP.j)((function(){var e=d.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,QP.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null})));function $P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,YP.O)(t)}var eA=function(){var e=$P.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function tA(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,PC.jsx)(JP,{styles:r})}const nA=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=(0,RC.Z)(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,PC.jsx)(tA,{styles:o})};const rA=function(e){return(0,PC.jsx)(nA,(0,bC.Z)({},e,{defaultTheme:RR.Z,themeId:DC.Z}))};function iA(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function oA(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(iA(e.value)&&""!==e.value||t&&iA(e.defaultValue)&&""!==e.defaultValue)}function sA(e){return(0,HC.Z)("MuiInputBase",e)}const aA=(0,MC.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),lA=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],cA=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,vR.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},uA=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},dA=(0,VC.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cA})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(aA.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,bC.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),hA=(0,VC.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:uA})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,bC.Z)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,bC.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(aA.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat(aA.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),fA=(0,PC.jsx)(rA,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),pA=t.forwardRef((function(e,n){var r;const i=(0,BC.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:w,minRows:_,multiline:S=!1,name:x,onBlur:E,onChange:k,onClick:I,onFocus:T,onKeyDown:C,onKeyUp:R,placeholder:P,readOnly:A,renderSuffix:N,rows:O,slotProps:D={},slots:M={},startAdornment:L,type:F="text",value:j}=i,U=(0,wC.Z)(i,lA),z=null!=y.value?y.value:j,{current:Z}=t.useRef(null!=z),V=t.useRef(),B=t.useCallback((e=>{0}),[]),W=(0,HP.Z)(V,b,y.ref,B),[q,H]=t.useState(!1),K=qP();const G=BP({props:i,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});G.focused=K?K.focused:q,t.useEffect((()=>{!K&&h&&q&&(H(!1),E&&E())}),[K,h,q,E]);const Q=K&&K.onFilled,X=K&&K.onEmpty,Y=t.useCallback((e=>{oA(e)?Q&&Q():X&&X()}),[Q,X]);(0,KP.Z)((()=>{Z&&Y({value:z})}),[z,Y,Z]);t.useEffect((()=>{Y(V.current)}),[]);let J=v,$=y;S&&"input"===J&&($=O?(0,bC.Z)({type:void 0,minRows:O,maxRows:O},$):(0,bC.Z)({type:void 0,maxRows:w,minRows:_},$),J=ZP);t.useEffect((()=>{K&&K.setAdornedStart(Boolean(L))}),[K,L]);const ee=(0,bC.Z)({},i,{color:G.color||"primary",disabled:G.disabled,endAdornment:p,error:G.error,focused:G.focused,formControl:K,fullWidth:m,hiddenLabel:G.hiddenLabel,multiline:S,size:G.size,startAdornment:L,type:F}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=e,m={root:["root","color".concat((0,vR.Z)(n)),r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat((0,vR.Z)(h)),u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,ZC.Z)(m,sA,t)})(ee),ne=M.root||c.Root||dA,re=D.root||u.root||{},ie=M.input||c.Input||hA;return $=(0,bC.Z)({},$,null!=(r=D.input)?r:u.input),(0,PC.jsxs)(t.Fragment,{children:[!f&&fA,(0,PC.jsxs)(ne,(0,bC.Z)({},re,!VP(ne)&&{ownerState:(0,bC.Z)({},ee,re.ownerState)},{ref:n,onClick:e=>{V.current&&e.currentTarget===e.target&&V.current.focus(),I&&I(e)}},U,{className:(0,_C.Z)(te.root,re.className,l,A&&"MuiInputBase-readOnly"),children:[L,(0,PC.jsx)(WP.Provider,{value:null,children:(0,PC.jsx)(ie,(0,bC.Z)({ownerState:ee,"aria-invalid":G.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:G.disabled,id:g,onAnimationStart:e=>{Y("mui-auto-fill-cancel"===e.animationName?V.current:{value:"x"})},name:x,placeholder:P,readOnly:A,required:G.required,rows:O,value:z,onKeyDown:C,onKeyUp:R,type:F},$,!VP(ie)&&{as:J,ownerState:(0,bC.Z)({},ee,$.ownerState)},{ref:W,className:(0,_C.Z)(te.input,$.className,A&&"MuiInputBase-readOnly"),onBlur:e=>{E&&E(e),y.onBlur&&y.onBlur(e),K&&K.onBlur?K.onBlur(e):H(!1)},onChange:function(e){if(!Z){const t=e.target||V.current;if(null==t)throw new Error((0,NP.Z)(1));Y({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),k&&k(e,...n)},onFocus:e=>{G.disabled?e.stopPropagation():(T&&T(e),y.onFocus&&y.onFocus(e),K&&K.onFocus?K.onFocus(e):H(!0))}}))}),p,N?N((0,bC.Z)({},G,{startAdornment:L})):null]}))]})})),mA=pA;function gA(e){return(0,HC.Z)("MuiInput",e)}const vA=(0,bC.Z)({},aA,(0,MC.Z)("MuiInput",["root","underline","input"])),yA=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],bA=(0,VC.ZP)(dA,{shouldForwardProp:e=>(0,VC.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...cA(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,bC.Z)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(vA.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(vA.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(vA.disabled,", .").concat(vA.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(vA.disabled,":before")]:{borderBottomStyle:"dotted"}})})),wA=(0,VC.ZP)(hA,{name:"MuiInput",slot:"Input",overridesResolver:uA})({}),_A=t.forwardRef((function(e,t){var n,r,i,o;const s=(0,BC.Z)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text"}=s,g=(0,wC.Z)(s,yA),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,ZC.Z)(r,gA,t);return(0,bC.Z)({},t,i)})(s),y={root:{ownerState:{disableUnderline:a}}},b=(null!=f?f:c)?(0,EC.Z)(null!=f?f:c,y):y,w=null!=(n=null!=(r=p.root)?r:l.Root)?n:bA,_=null!=(i=null!=(o=p.input)?o:l.Input)?i:wA;return(0,PC.jsx)(mA,(0,bC.Z)({slots:{root:w,input:_},slotProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));_A.muiName="Input";const SA=_A;function xA(e){return(0,HC.Z)("MuiFilledInput",e)}const EA=(0,bC.Z)({},aA,(0,MC.Z)("MuiFilledInput",["root","underline","input"])),kA=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],IA=(0,VC.ZP)(dA,{shouldForwardProp:e=>(0,VC.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...cA(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,bC.Z)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},["&.".concat(EA.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},["&.".concat(EA.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(EA.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(EA.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(EA.disabled,", .").concat(EA.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(EA.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,bC.Z)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),TA=(0,VC.ZP)(hA,{name:"MuiFilledInput",slot:"Input",overridesResolver:uA})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),CA=t.forwardRef((function(e,t){var n,r,i,o;const s=(0,BC.Z)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:f={},type:p="text"}=s,m=(0,wC.Z)(s,kA),g=(0,bC.Z)({},s,{fullWidth:c,inputComponent:u,multiline:d,type:p}),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,ZC.Z)(r,xA,t);return(0,bC.Z)({},t,i)})(s),y={root:{ownerState:g},input:{ownerState:g}},b=(null!=h?h:l)?(0,EC.Z)(y,null!=h?h:l):y,w=null!=(n=null!=(r=f.root)?r:a.Root)?n:IA,_=null!=(i=null!=(o=f.input)?o:a.Input)?i:TA;return(0,PC.jsx)(mA,(0,bC.Z)({slots:{root:w,input:_},componentsProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:p},m,{classes:v}))}));CA.muiName="Input";const RA=CA;var PA;const AA=["children","classes","className","label","notched"],NA=(0,VC.ZP)("fieldset",{shouldForwardProp:VC.FO})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),OA=(0,VC.ZP)("legend",{shouldForwardProp:VC.FO})((e=>{let{ownerState:t,theme:n}=e;return(0,bC.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,bC.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function DA(e){return(0,HC.Z)("MuiOutlinedInput",e)}const MA=(0,bC.Z)({},aA,(0,MC.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),LA=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],FA=(0,VC.ZP)(dA,{shouldForwardProp:e=>(0,VC.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:cA})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,bC.Z)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(MA.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(MA.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(MA.focused," .").concat(MA.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(MA.error," .").concat(MA.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(MA.disabled," .").concat(MA.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,bC.Z)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),jA=(0,VC.ZP)((function(e){const{className:t,label:n,notched:r}=e,i=(0,wC.Z)(e,AA),o=null!=n&&""!==n,s=(0,bC.Z)({},e,{notched:r,withLabel:o});return(0,PC.jsx)(NA,(0,bC.Z)({"aria-hidden":!0,className:t,ownerState:s},i,{children:(0,PC.jsx)(OA,{ownerState:s,children:o?(0,PC.jsx)("span",{children:n}):PA||(PA=(0,PC.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),UA=(0,VC.ZP)(hA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:uA})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),zA=t.forwardRef((function(e,n){var r,i,o,s,a;const l=(0,BC.Z)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:m={},type:g="text"}=l,v=(0,wC.Z)(l,LA),y=(e=>{const{classes:t}=e,n=(0,ZC.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},DA,t);return(0,bC.Z)({},t,n)})(l),b=qP(),w=BP({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=(0,bC.Z)({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:g}),S=null!=(r=null!=(i=m.root)?i:c.Root)?r:FA,x=null!=(o=null!=(s=m.input)?s:c.Input)?o:UA;return(0,PC.jsx)(mA,(0,bC.Z)({slots:{root:S,input:x},renderSuffix:e=>(0,PC.jsx)(jA,{ownerState:_,className:y.notchedOutline,label:null!=h&&""!==h&&w.required?a||(a=(0,PC.jsxs)(t.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:n,type:g},v,{classes:(0,bC.Z)({},y,{notchedOutline:null})}))}));zA.muiName="Input";const ZA=zA;function VA(e){return(0,HC.Z)("MuiFormLabel",e)}const BA=(0,MC.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),WA=["children","className","color","component","disabled","error","filled","focused","required"],qA=(0,VC.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,bC.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(BA.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(BA.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(BA.error)]:{color:(t.vars||t).palette.error.main}})})),HA=(0,VC.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(BA.error)]:{color:(t.vars||t).palette.error.main}}})),KA=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,s=(0,wC.Z)(n,WA),a=BP({props:n,muiFormControl:qP(),states:["color","required","focused","disabled","error","filled"]}),l=(0,bC.Z)({},n,{color:a.color||"primary",component:o,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root","color".concat((0,vR.Z)(n)),i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return(0,ZC.Z)(l,VA,t)})(l);return(0,PC.jsxs)(qA,(0,bC.Z)({as:o,ownerState:l,className:(0,_C.Z)(c.root,i),ref:t},s,{children:[r,a.required&&(0,PC.jsxs)(HA,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),GA=KA;function QA(e){return(0,HC.Z)("MuiInputLabel",e)}(0,MC.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const XA=["disableAnimation","margin","shrink","variant","className"],YA=(0,VC.ZP)(GA,{shouldForwardProp:e=>(0,VC.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(BA.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,bC.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,bC.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,bC.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}),"standard"===n.variant&&{"&:not(label) + div":{marginTop:16}})})),JA=t.forwardRef((function(e,t){const n=(0,BC.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,s=(0,wC.Z)(n,XA),a=qP();let l=i;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=BP({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),u=(0,bC.Z)({},n,{disableAnimation:r,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat((0,vR.Z)(r)),s],asterisk:[a&&"asterisk"]},c=(0,ZC.Z)(l,QA,t);return(0,bC.Z)({},t,c)})(u);return(0,PC.jsx)(YA,(0,bC.Z)({"data-shrink":l,ownerState:u,ref:t,className:(0,_C.Z)(d.root,o)},s,{classes:d}))})),$A=JA;var eN=n(9103);function tN(e){return(0,HC.Z)("MuiFormControl",e)}(0,MC.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const nN=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],rN=(0,VC.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,bC.Z)({},t.root,t["margin".concat((0,vR.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),iN=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:g="outlined"}=r,v=(0,wC.Z)(r,nN),y=(0,bC.Z)({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&"margin".concat((0,vR.Z)(n)),r&&"fullWidth"]};return(0,ZC.Z)(i,tN,t)})(y),[w,_]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{if(!(0,eN.Z)(t,["Input","Select"]))return;const n=(0,eN.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,x]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{(0,eN.Z)(t,["Input","Select"])&&(oA(t.props,!0)||oA(t.props.inputProps,!0))&&(e=!0)})),e})),[E,k]=t.useState(!1);l&&E&&k(!1);const I=void 0===u||l?E:u;let T;const C=t.useMemo((()=>({adornedStart:w,setAdornedStart:_,color:s,disabled:l,error:c,filled:S,focused:I,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{k(!0)},registerEffect:T,required:p,variant:g})),[w,s,l,c,S,I,d,h,T,p,m,g]);return(0,PC.jsx)(WP.Provider,{value:C,children:(0,PC.jsx)(rN,(0,bC.Z)({as:a,ownerState:y,className:(0,_C.Z)(b.root,o),ref:n},v,{children:i}))})})),oN=iN;function sN(e){return(0,HC.Z)("MuiFormHelperText",e)}const aN=(0,MC.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var lN;const cN=["children","className","component","disabled","error","filled","focused","margin","required","variant"],uN=(0,VC.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,vR.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(aN.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(aN.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),dN=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,s=(0,wC.Z)(n,cN),a=BP({props:n,muiFormControl:qP(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,bC.Z)({},n,{component:o,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,vR.Z)(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,ZC.Z)(c,sN,t)})(l);return(0,PC.jsx)(uN,(0,bC.Z)({as:o,ownerState:l,className:(0,_C.Z)(c.root,i),ref:t},s,{children:" "===r?lN||(lN=(0,PC.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),hN=dN;var fN=n(8301);function pN(e,t,n){return void 0===e||VP(e)?t:(0,bC.Z)({},t,{ownerState:(0,bC.Z)({},t.ownerState,n)})}function mN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function gN(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const vN=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function yN(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=(0,wC.Z)(e,vN),a=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=(0,_C.Z)(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,bC.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,bC.Z)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=mN((0,bC.Z)({},i,r)),a=gN(r),l=gN(i),c=t(s),u=(0,_C.Z)(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,bC.Z)({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,bC.Z)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}((0,bC.Z)({},s,{externalSlotProps:a})),u=(0,OP.Z)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return pN(n,(0,bC.Z)({},l,{ref:u}),i)}const bN=t.createContext({});function wN(e){return(0,HC.Z)("MuiList",e)}(0,MC.Z)("MuiList",["root","padding","dense","subheader"]);const _N=["children","className","component","dense","disablePadding","subheader"],SN=(0,VC.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),xN=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=(0,wC.Z)(r,_N),d=t.useMemo((()=>({dense:a})),[a]),h=(0,bC.Z)({},r,{component:s,dense:a,disablePadding:l}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,ZC.Z)(o,wN,t)})(h);return(0,PC.jsx)(bN.Provider,{value:d,children:(0,PC.jsxs)(SN,(0,bC.Z)({as:s,className:(0,_C.Z)(f.root,o),ref:n,ownerState:h},u,{children:[c,i]}))})})),EN=xN;function kN(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const IN=kN,TN=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function CN(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function RN(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function PN(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function AN(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&PN(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const NN=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,wC.Z)(e,TN),f=t.useRef(null),p=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,KP.Z)((()=>{i&&f.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&n){const n="".concat(IN((0,fN.Z)(e)),"px");f.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,f.current.style.width="calc(100% + ".concat(n,")")}return f.current}})),[]);const m=(0,HP.Z)(f,n);let g=-1;t.Children.forEach(s,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=n),g===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===n&&(g+=1,g>=s.length&&(g=-1))}));const v=t.Children.map(s,((e,n)=>{if(n===g){const n={};return o&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,PC.jsx)(EN,(0,bC.Z)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,fN.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),AN(t,r,c,l,CN);else if("ArrowUp"===n)e.preventDefault(),AN(t,r,c,l,RN);else if("Home"===n)e.preventDefault(),AN(t,null,c,l,CN);else if("End"===n)e.preventDefault(),AN(t,null,c,l,RN);else if(1===n.length){const i=p.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&PN(r,i);i.previousKeyMatched&&(a||AN(t,r,!1,l,CN,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:i?0:-1},h,{children:v}))})),ON=NN;var DN=n(3199),MN=n(7602);function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LN(e,t)}function FN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,LN(e,t)}const jN=!1,UN=t.createContext(null);var zN="unmounted",ZN="exited",VN="entering",BN="entered",WN="exiting",qN=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=ZN,r.appearStatus=VN):i=BN:i=t.unmountOnExit||t.mountOnEnter?zN:ZN,r.state={status:i},r.nextCallback=null,r}FN(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===zN?{status:ZN}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==VN&&n!==BN&&(t=VN):n!==VN&&n!==BN||(t=WN)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===VN){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ZN&&this.setState({status:zN})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||jN?this.safeSetState({status:BN},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:VN},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:BN},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!jN?(this.props.onExit(r),this.safeSetState({status:WN},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ZN},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ZN},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===zN)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,wC.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(UN.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function HN(){}qN.contextType=UN,qN.propTypes={},qN.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:HN,onEntering:HN,onEntered:HN,onExit:HN,onExiting:HN,onExited:HN},qN.UNMOUNTED=zN,qN.EXITED=ZN,qN.ENTERING=VN,qN.ENTERED=BN,qN.EXITING=WN;const KN=qN,GN=e=>e.scrollTop;function QN(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const XN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function YN(e){return"scale(".concat(e,", ").concat(e**2,")")}const JN={entering:{opacity:1,transform:YN(1)},entered:{opacity:1,transform:"none"}},$N="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),eO=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=KN}=e,v=(0,wC.Z)(e,XN),y=t.useRef(),b=t.useRef(),w=PR(),_=t.useRef(null),S=(0,HP.Z)(_,o.ref,n),x=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},E=x(u),k=x(((e,t)=>{GN(e);const{duration:n,delay:r,easing:i}=QN({style:p,timeout:m,easing:s},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:$N?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),I=x(c),T=x(f),C=x((e=>{const{duration:t,delay:n,easing:r}=QN({style:p,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:$N?i:.666*i,delay:$N?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=YN(.75),d&&d(e)})),R=x(h);return t.useEffect((()=>()=>{clearTimeout(y.current)}),[]),(0,PC.jsx)(g,(0,bC.Z)({appear:i,in:a,nodeRef:_,onEnter:k,onEntered:I,onEntering:E,onExit:C,onExited:R,onExiting:T,addEndListener:e=>{"auto"===m&&(y.current=setTimeout(e,b.current||0)),r&&r(_.current,e)},timeout:"auto"===m?null:m},v,{children:(e,n)=>t.cloneElement(o,(0,bC.Z)({style:(0,bC.Z)({opacity:0,transform:YN(.75),visibility:"exited"!==e||a?void 0:"hidden"},JN[e],p,o.props.style),ref:S},n))}))}));eO.muiSupportAuto=!0;const tO=eO;var nO=n(4913),rO=n(7054),iO=n(8949);function oO(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function sO(e){return parseInt((0,DP.Z)(e).getComputedStyle(e).paddingRight,10)||0}function aO(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&oO(e,i)}))}function lO(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function cO(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,nO.Z)(e);return t.body===e?(0,DP.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=kN((0,nO.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(sO(r)+e,"px");const t=(0,nO.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(sO(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,nO.Z)(r).body;else{const t=r.parentElement,n=(0,DP.Z)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const uO=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&oO(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);aO(t,e.mount,e.modalRef,r,!0);const i=lO(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=lO(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=cO(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=lO(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&oO(e.modalRef,t),aO(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&oO(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function dO(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=uO,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,f=t.useRef({}),p=t.useRef(null),m=t.useRef(null),g=(0,OP.Z)(m,h),[v,y]=t.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),S=()=>{o.mount(_(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},x=(0,rO.Z)((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||(0,nO.Z)(p.current).body;o.add(_(),e),m.current&&S()})),E=t.useCallback((()=>o.isTopModal(_())),[o]),k=(0,rO.Z)((e=>{p.current=e,e&&(d&&E()?S():m.current&&oO(m.current,w))})),I=t.useCallback((()=>{o.remove(_(),w)}),[w,o]);t.useEffect((()=>()=>{I()}),[I]),t.useEffect((()=>{d?x():b&&s||I()}),[d,I,b,s,x]);const T=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&E()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},C=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=mN(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,bC.Z)({},n,t);return(0,bC.Z)({role:"presentation"},r,{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,bC.Z)({"aria-hidden":!0},e,{onClick:C(e),open:d})},getTransitionProps:()=>({onEnter:(0,iO.Z)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,iO.Z)((()=>{y(!0),l&&l(),s&&I()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:k,isTopModal:E,exited:v,hasTransition:b}}const hO=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function fO(e){const t=[],n=[];return Array.from(e.querySelectorAll(hO)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function pO(){return!0}function mO(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=fO,isEnabled:a=pO,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=(0,OP.Z)(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,nO.Z)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,nO.Z)(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,PC.jsxs)(t.Fragment,{children:[(0,PC.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,PC.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var gO=n(2971);const vO=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,l]=t.useState(null),c=(0,OP.Z)(t.isValidElement(r)?r.ref:null,n);if((0,MP.Z)((()=>{o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,MP.Z)((()=>{if(s&&!o)return(0,gO.Z)(n,s),()=>{(0,gO.Z)(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:c};return t.cloneElement(r,e)}return(0,PC.jsx)(t.Fragment,{children:r})}return(0,PC.jsx)(t.Fragment,{children:s?a.createPortal(r,s):s})}));const yO=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],bO={entering:{opacity:1},entered:{opacity:1}},wO=t.forwardRef((function(e,n){const r=PR(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:v=i,TransitionComponent:y=KN}=e,b=(0,wC.Z)(e,yO),w=t.useRef(null),_=(0,HP.Z)(w,a.ref,n),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},x=S(h),E=S(((e,t)=>{GN(e);const n=QN({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)})),k=S(d),I=S(m),T=S((e=>{const t=QN({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),f&&f(e)})),C=S(p);return(0,PC.jsx)(y,(0,bC.Z)({appear:s,in:c,nodeRef:w,onEnter:E,onEntered:k,onEntering:x,onExit:T,onExited:C,onExiting:I,addEndListener:e=>{o&&o(w.current,e)},timeout:v},b,{children:(e,n)=>t.cloneElement(a,(0,bC.Z)({style:(0,bC.Z)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},bO[e],g,a.props.style),ref:_},n))}))})),_O=wO;function SO(e){return(0,HC.Z)("MuiBackdrop",e)}(0,MC.Z)("MuiBackdrop",["root","invisible"]);const xO=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],EO=(0,VC.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),kO=t.forwardRef((function(e,t){var n,r,i;const o=(0,BC.Z)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:f={},slots:p={},TransitionComponent:m=_O,transitionDuration:g}=o,v=(0,wC.Z)(o,xO),y=(0,bC.Z)({},o,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,ZC.Z)(r,SO,t)})(y),w=null!=(n=f.root)?n:u.root;return(0,PC.jsx)(m,(0,bC.Z)({in:h,timeout:g},v,{children:(0,PC.jsx)(EO,(0,bC.Z)({"aria-hidden":!0},w,{as:null!=(r=null!=(i=p.root)?i:c.Root)?r:l,className:(0,_C.Z)(b.root,a,null==w?void 0:w.className),ownerState:(0,bC.Z)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:s}))}))})),IO=kO;function TO(e){return(0,HC.Z)("MuiModal",e)}(0,MC.Z)("MuiModal",["root","hidden","backdrop"]);const CO=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],RO=(0,VC.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),PO=(0,VC.ZP)(IO,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),AO=t.forwardRef((function(e,n){var r,i,o,s,a,l;const c=(0,BC.Z)({name:"MuiModal",props:e}),{BackdropComponent:u=PO,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:S=!1,disableRestoreFocus:x=!1,disableScrollLock:E=!1,hideBackdrop:k=!1,keepMounted:I=!1,onBackdropClick:T,open:C,slotProps:R,slots:P}=c,A=(0,wC.Z)(c,CO),N=(0,bC.Z)({},c,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:x,disableScrollLock:E,hideBackdrop:k,keepMounted:I}),{getRootProps:O,getBackdropProps:D,getTransitionProps:M,portalRef:L,isTopModal:F,exited:j,hasTransition:U}=dO((0,bC.Z)({},N,{rootRef:n})),z=(0,bC.Z)({},N,{exited:j}),Z=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,ZC.Z)(i,TO,r)})(z),V={};if(void 0===p.props.tabIndex&&(V.tabIndex="-1"),U){const{onEnter:e,onExited:t}=M();V.onEnter=e,V.onExited=t}const B=null!=(r=null!=(i=null==P?void 0:P.root)?i:v.Root)?r:RO,W=null!=(o=null!=(s=null==P?void 0:P.backdrop)?s:v.Backdrop)?o:u,q=null!=(a=null==R?void 0:R.root)?a:y.root,H=null!=(l=null==R?void 0:R.backdrop)?l:y.backdrop,K=yN({elementType:B,externalSlotProps:q,externalForwardedProps:A,getSlotProps:O,additionalProps:{ref:n,as:g},ownerState:z,className:(0,_C.Z)(h,null==q?void 0:q.className,null==Z?void 0:Z.root,!z.open&&z.exited&&(null==Z?void 0:Z.hidden))}),G=yN({elementType:W,externalSlotProps:H,additionalProps:d,getSlotProps:e=>D((0,bC.Z)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,_C.Z)(null==H?void 0:H.className,null==d?void 0:d.className,null==Z?void 0:Z.backdrop),ownerState:z});return I||C||U&&!j?(0,PC.jsx)(vO,{ref:L,container:m,disablePortal:S,children:(0,PC.jsxs)(B,(0,bC.Z)({},K,{children:[!k&&u?(0,PC.jsx)(W,(0,bC.Z)({},G)):null,(0,PC.jsx)(mO,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:x,isEnabled:F,open:C,children:t.cloneElement(p,V)})]}))}):null})),NO=AO;function OO(e){return(0,HC.Z)("MuiPopover",e)}(0,MC.Z)("MuiPopover",["root","paper"]);const DO=["onEntering"],MO=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],LO=["slotProps"];function FO(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function jO(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function UO(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function zO(e){return"function"===typeof e?e():e}const ZO=(0,VC.ZP)(NO,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),VO=(0,VC.ZP)(YC,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),BO=t.forwardRef((function(e,n){var r,i,o;const s=(0,BC.Z)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:S=tO,transitionDuration:x="auto",TransitionProps:{onEntering:E}={},disableScrollLock:k=!1}=s,I=(0,wC.Z)(s.TransitionProps,DO),T=(0,wC.Z)(s,MO),C=null!=(r=null==w?void 0:w.paper)?r:y,R=t.useRef(),P=(0,HP.Z)(R,C.ref),A=(0,bC.Z)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:C,transformOrigin:_,TransitionComponent:S,transitionDuration:x,TransitionProps:I}),N=(e=>{const{classes:t}=e;return(0,ZC.Z)({root:["root"],paper:["paper"]},OO,t)})(A),O=t.useCallback((()=>{if("anchorPosition"===d)return u;const e=zO(l),t=(e&&1===e.nodeType?e:(0,fN.Z)(R.current).body).getBoundingClientRect();return{top:t.top+FO(t,c.vertical),left:t.left+jO(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),D=t.useCallback((e=>({vertical:FO(e,_.vertical),horizontal:jO(e,_.horizontal)})),[_.horizontal,_.vertical]),M=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=D(t);if("none"===d)return{top:null,left:null,transformOrigin:UO(n)};const r=O();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,c=(0,MN.Z)(zO(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&s>u){const e=s-u;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(a>h){const e=a-h;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:UO(n)}}),[l,d,O,D,g]),[L,F]=t.useState(v),j=t.useCallback((()=>{const e=R.current;if(!e)return;const t=M(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,F(!0)}),[M]);t.useEffect((()=>(k&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j))),[l,k,j]);t.useEffect((()=>{v&&j()})),t.useImperativeHandle(a,(()=>v?{updatePosition:()=>{j()}}:null),[v,j]),t.useEffect((()=>{if(!v)return;const e=(0,DN.Z)((()=>{j()})),t=(0,MN.Z)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,j]);let U=x;"auto"!==x||S.muiSupportAuto||(U=void 0);const z=p||(l?(0,fN.Z)(zO(l)).body:void 0),Z=null!=(i=null==b?void 0:b.root)?i:ZO,V=null!=(o=null==b?void 0:b.paper)?o:VO,B=yN({elementType:V,externalSlotProps:(0,bC.Z)({},C,{style:L?C.style:(0,bC.Z)({},C.style,{opacity:0})}),additionalProps:{elevation:m,ref:P},ownerState:A,className:(0,_C.Z)(N.paper,null==C?void 0:C.className)}),W=yN({elementType:Z,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:T,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:z,open:v},ownerState:A,className:(0,_C.Z)(N.root,f)}),{slotProps:q}=W,H=(0,wC.Z)(W,LO);return(0,PC.jsx)(Z,(0,bC.Z)({},H,!VP(Z)&&{slotProps:q,disableScrollLock:k},{children:(0,PC.jsx)(S,(0,bC.Z)({appear:!0,in:v,onEntering:(e,t)=>{E&&E(e,t),j()},onExited:()=>{F(!1)},timeout:U},I,{children:(0,PC.jsx)(V,(0,bC.Z)({},B,{children:h}))}))}))})),WO=BO;function qO(e){return(0,HC.Z)("MuiMenu",e)}(0,MC.Z)("MuiMenu",["root","paper","list"]);const HO=["onEntering"],KO=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],GO={vertical:"top",horizontal:"right"},QO={vertical:"top",horizontal:"left"},XO=(0,VC.ZP)(WO,{shouldForwardProp:e=>(0,VC.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),YO=(0,VC.ZP)(VO,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),JO=(0,VC.ZP)(ON,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),$O=t.forwardRef((function(e,n){var r,i;const o=(0,BC.Z)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=o,w=(0,wC.Z)(o.TransitionProps,HO),_=(0,wC.Z)(o,KO),S=PR(),x="rtl"===S.direction,E=(0,bC.Z)({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:f,transitionDuration:m,TransitionProps:w,variant:v}),k=(e=>{const{classes:t}=e;return(0,ZC.Z)({root:["root"],paper:["paper"],list:["list"]},qO,t)})(E),I=s&&!c&&h,T=t.useRef(null);let C=-1;t.Children.map(a,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===C)&&(C=n))}));const R=null!=(r=y.paper)?r:YO,P=null!=(i=b.paper)?i:f,A=yN({elementType:y.root,externalSlotProps:b.root,ownerState:E,className:[k.root,l]}),N=yN({elementType:R,externalSlotProps:P,ownerState:E,className:k.paper});return(0,PC.jsx)(XO,(0,bC.Z)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?GO:QO,slots:{paper:R,root:y.root},slotProps:{root:A,paper:N},open:h,ref:n,transitionDuration:m,TransitionProps:(0,bC.Z)({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,S),g&&g(e,t)}},w),ownerState:E},_,{classes:p,children:(0,PC.jsx)(JO,(0,bC.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:T,autoFocus:s&&(-1===C||c),autoFocusItem:I,variant:v},u,{className:(0,_C.Z)(k.list,u.className),children:a}))}))})),eD=$O;function tD(e){return(0,HC.Z)("MuiNativeSelect",e)}const nD=(0,MC.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rD=["className","disabled","error","IconComponent","inputRef","variant"],iD=e=>{let{ownerState:t,theme:n}=e;return(0,bC.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,bC.Z)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(nD.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},oD=(0,VC.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:VC.FO,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(nD.multiple)]:t.multiple}]}})(iD),sD=e=>{let{ownerState:t,theme:n}=e;return(0,bC.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(nD.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},aD=(0,VC.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,vR.Z)(n.variant))],n.open&&t.iconOpen]}})(sD),lD=t.forwardRef((function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,wC.Z)(e,rD),u=(0,bC.Z)({},e,{disabled:i,variant:l,error:o}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,vR.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,ZC.Z)(a,tD,t)})(u);return(0,PC.jsxs)(t.Fragment,{children:[(0,PC.jsx)(oD,(0,bC.Z)({ownerState:u,className:(0,_C.Z)(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:(0,PC.jsx)(aD,{as:s,ownerState:u,className:d.icon})]})})),cD=lD;var uD=n(5158);function dD(e){return(0,HC.Z)("MuiSelect",e)}const hD=(0,MC.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var fD;const pD=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],mD=(0,VC.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(hD.select)]:t.select},{["&.".concat(hD.select)]:t[n.variant]},{["&.".concat(hD.error)]:t.error},{["&.".concat(hD.multiple)]:t.multiple}]}})(iD,{["&.".concat(hD.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),gD=(0,VC.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,vR.Z)(n.variant))],n.open&&t.iconOpen]}})(sD),vD=(0,VC.ZP)("input",{shouldForwardProp:e=>(0,VC.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function yD(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function bD(e){return null==e||"string"===typeof e&&!e.trim()}const wD=t.forwardRef((function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:y={},multiple:b,name:w,onBlur:_,onChange:S,onClose:x,onFocus:E,onOpen:k,open:I,readOnly:T,renderValue:C,SelectDisplayProps:R={},tabIndex:P,value:A,variant:N="standard"}=e,O=(0,wC.Z)(e,pD),[D,M]=(0,uD.Z)({controlled:A,default:d,name:"Select"}),[L,F]=(0,uD.Z)({controlled:I,default:u,name:"Select"}),j=t.useRef(null),U=t.useRef(null),[z,Z]=t.useState(null),{current:V}=t.useRef(null!=I),[B,W]=t.useState(),q=(0,HP.Z)(n,g),H=t.useCallback((e=>{U.current=e,e&&Z(e)}),[]),K=null==z?void 0:z.parentNode;t.useImperativeHandle(q,(()=>({focus:()=>{U.current.focus()},node:j.current,value:D})),[D]),t.useEffect((()=>{u&&L&&z&&!V&&(W(a?null:K.clientWidth),U.current.focus())}),[z,a]),t.useEffect((()=>{s&&U.current.focus()}),[s]),t.useEffect((()=>{if(!v)return;const e=(0,fN.Z)(U.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&U.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const G=(e,t)=>{e?k&&k(t):x&&x(t),V||(W(a?null:K.clientWidth),F(e))},Q=t.Children.toArray(l),X=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(M(n),S)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:w}}),S(i,e)}b||G(!1,t)}},Y=null!==z&&L;let J,$;delete O["aria-invalid"];const ee=[];let te=!1,ne=!1;(oA({value:D})||f)&&(C?J=C(D):te=!0);const re=Q.map((e=>{if(!t.isValidElement(e))return null;let n;if(b){if(!Array.isArray(D))throw new Error((0,NP.Z)(2));n=D.some((t=>yD(t,e.props.value))),n&&te&&ee.push(e.props.children)}else n=yD(D,e.props.value),n&&te&&($=e.props.children);return n&&(ne=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):$);let ie,oe=B;!a&&V&&z&&(oe=K.clientWidth),ie="undefined"!==typeof P?P:h?null:0;const se=R.id||(w?"mui-component-select-".concat(w):void 0),ae=(0,bC.Z)({},e,{variant:N,value:D,open:Y,error:p}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,vR.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,ZC.Z)(a,dD,t)})(ae),ce=(0,bC.Z)({},y.PaperProps,null==(r=y.slotProps)?void 0:r.paper),ue=(0,AP.Z)(),de=(0,AP.Z)();return(0,PC.jsxs)(t.Fragment,{children:[(0,PC.jsx)(mD,(0,bC.Z)({ref:H,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":Y?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),G(!0,e))}},onMouseDown:h||T?null:e=>{0===e.button&&(e.preventDefault(),U.current.focus(),G(!0,e))},onBlur:e=>{!Y&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:w}}),_(e))},onFocus:E},R,{ownerState:ae,className:(0,_C.Z)(R.className,le.select,c),id:se,children:bD(J)?fD||(fD=(0,PC.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,PC.jsx)(vD,(0,bC.Z)({"aria-invalid":p,value:Array.isArray(D)?D.join(","):D,name:null!=w?w:de,ref:j,"aria-hidden":!0,onChange:e=>{const t=Q.find((t=>t.props.value===e.target.value));void 0!==t&&(M(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},O)),(0,PC.jsx)(gD,{as:m,className:le.icon,ownerState:ae}),(0,PC.jsx)(eD,(0,bC.Z)({id:"menu-".concat(w||""),anchorEl:K,open:Y,onClose:e=>{G(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,bC.Z)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ue},y.MenuListProps),slotProps:(0,bC.Z)({},y.slotProps,{paper:(0,bC.Z)({},ce,{style:(0,bC.Z)({minWidth:oe},null!=ce?ce.style:null)})}),children:re}))]})})),_D=wD,SD=(0,rR.Z)((0,PC.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),xD=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],ED=["root"],kD={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,VC.FO)(e)&&"variant"!==e,slot:"Root"},ID=(0,VC.ZP)(SA,kD)(""),TD=(0,VC.ZP)(ZA,kD)(""),CD=(0,VC.ZP)(RA,kD)(""),RD=t.forwardRef((function(e,n){const r=(0,BC.Z)({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=SD,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:x,variant:E="outlined"}=r,k=(0,wC.Z)(r,xD),I=y?cD:_D,T=BP({props:r,muiFormControl:qP(),states:["variant","error"]}),C=T.variant||E,R=(0,bC.Z)({},r,{variant:C,classes:s}),P=(e=>{const{classes:t}=e;return t})(R),A=(0,wC.Z)(P,ED),N=h||{standard:(0,PC.jsx)(ID,{ownerState:R}),outlined:(0,PC.jsx)(TD,{label:p,ownerState:R}),filled:(0,PC.jsx)(CD,{ownerState:R})}[C],O=(0,HP.Z)(n,N.ref);return(0,PC.jsx)(t.Fragment,{children:t.cloneElement(N,(0,bC.Z)({inputComponent:I,inputProps:(0,bC.Z)({children:o,error:T.error,IconComponent:u,variant:C,type:void 0,multiple:v},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:(0,bC.Z)({id:d},x)},f,{classes:f?(0,EC.Z)(A,f.classes):A},h?h.props.inputProps:{})},v&&y&&"outlined"===C?{notched:!0}:{},{ref:O,className:(0,_C.Z)(N.props.className,a,P.root)},!h&&{variant:C},k))})}));RD.muiName="Select";const PD=RD;function AD(e){return(0,HC.Z)("MuiTextField",e)}(0,MC.Z)("MuiTextField",["root"]);const ND=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],OD={standard:SA,filled:RA,outlined:ZA},DD=(0,VC.ZP)(oN,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),MD=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:f,id:p,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:_,multiline:S=!1,name:x,onBlur:E,onChange:k,onFocus:I,placeholder:T,required:C=!1,rows:R,select:P=!1,SelectProps:A,type:N,value:O,variant:D="outlined"}=n,M=(0,wC.Z)(n,ND),L=(0,bC.Z)({},n,{autoFocus:i,color:a,disabled:c,error:u,fullWidth:h,multiline:S,required:C,select:P,variant:D}),F=(e=>{const{classes:t}=e;return(0,ZC.Z)({root:["root"]},AD,t)})(L);const j={};"outlined"===D&&(m&&"undefined"!==typeof m.shrink&&(j.notched=m.shrink),j.label=b),P&&(A&&A.native||(j.id=void 0),j["aria-describedby"]=void 0);const U=(0,AP.Z)(p),z=f&&U?"".concat(U,"-helper-text"):void 0,Z=b&&U?"".concat(U,"-label"):void 0,V=OD[D],B=(0,PC.jsx)(V,(0,bC.Z)({"aria-describedby":z,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:S,name:x,rows:R,maxRows:w,minRows:_,type:N,value:O,id:U,inputRef:y,onBlur:E,onChange:k,onFocus:I,placeholder:T,inputProps:g},j,v));return(0,PC.jsxs)(DD,(0,bC.Z)({className:(0,_C.Z)(F.root,s),disabled:c,error:u,fullWidth:h,ref:t,required:C,color:a,variant:D,ownerState:L},M,{children:[null!=b&&""!==b&&(0,PC.jsx)($A,(0,bC.Z)({htmlFor:U,id:Z},m,{children:b})),P?(0,PC.jsx)(PD,(0,bC.Z)({"aria-describedby":z,id:U,labelId:Z,value:O,input:B},A,{children:o})):B,f&&(0,PC.jsx)(hN,(0,bC.Z)({id:z},d,{children:f}))]}))})),LD=MD;function FD(e){return(0,HC.Z)("MuiCardActions",e)}(0,MC.Z)("MuiCardActions",["root","spacing"]);const jD=["disableSpacing","className"],UD=(0,VC.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),zD=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:i}=n,o=(0,wC.Z)(n,jD),s=(0,bC.Z)({},n,{disableSpacing:r}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,ZC.Z)(r,FD,t)})(s);return(0,PC.jsx)(UD,(0,bC.Z)({className:(0,_C.Z)(a.root,i),ownerState:s,ref:t},o))})),ZD=zD;var VD=n(5735),BD=n(9683),WD=n(3031);function qD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function HD(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function KD(e,t,n){return null!=n[t]?n[t]:e.props[t]}function GD(e,n,r){var i=HD(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:KD(a,"exit",e),enter:KD(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:KD(a,"exit",e),enter:KD(a,"enter",e)})}})),o}var QD=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},XD=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}FN(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,HD(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:KD(e,"appear",r),enter:KD(e,"enter",r),exit:KD(e,"exit",r)})}))):GD(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=HD(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,bC.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,wC.Z)(e,["component","childFactory"]),o=this.state.contextValue,s=QD(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(UN.Provider,{value:o},s):t.createElement(UN.Provider,{value:o},t.createElement(n,i,s))},n}(t.Component);XD.propTypes={},XD.defaultProps={component:"div",childFactory:function(e){return e}};const YD=XD;const JD=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=t.useState(!1),f=(0,_C.Z)(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),p={width:a,height:a,top:-a/2+s,left:-a/2+o},m=(0,_C.Z)(r.child,d&&r.childLeaving,i&&r.childPulsate);return l||d||h(!0),t.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,PC.jsx)("span",{className:f,style:p,children:(0,PC.jsx)("span",{className:m})})};const $D=(0,MC.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var eM,tM,nM,rM;const iM=["center","classes","className"];let oM,sM,aM,lM;const cM=eA(oM||(oM=eM||(eM=qD(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),uM=eA(sM||(sM=tM||(tM=qD(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),dM=eA(aM||(aM=nM||(nM=qD(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),hM=(0,VC.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fM=(0,VC.ZP)(JD,{name:"MuiTouchRipple",slot:"Ripple"})(lM||(lM=rM||(rM=qD(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),$D.rippleVisible,cM,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),$D.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),$D.child,$D.childLeaving,uM,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),$D.childPulsate,dM,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),pM=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=(0,wC.Z)(r,iM),[l,c]=t.useState([]),u=t.useRef(0),d=t.useRef(null);t.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=t.useRef(!1),f=t.useRef(0),p=t.useRef(null),m=t.useRef(null);t.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]);const g=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,PC.jsx)(fM,{classes:{ripple:(0,_C.Z)(o.ripple,$D.ripple),rippleVisible:(0,_C.Z)(o.rippleVisible,$D.rippleVisible),ripplePulsate:(0,_C.Z)(o.ripplePulsate,$D.ripplePulsate),child:(0,_C.Z)(o.child,$D.child),childLeaving:(0,_C.Z)(o.childLeaving,$D.childLeaving),childPulsate:(0,_C.Z)(o.childPulsate,$D.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),v=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},f.current=setTimeout((()=>{p.current&&(p.current(),p.current=null)}),80)):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,g]),y=t.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=t.useCallback(((e,t)=>{if(clearTimeout(f.current),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void(f.current=setTimeout((()=>{b(e,t)})));p.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[]);return t.useImperativeHandle(n,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,PC.jsx)(hM,(0,bC.Z)({className:(0,_C.Z)($D.root,o.root,s),ref:m},a,{children:(0,PC.jsx)(YD,{component:null,exit:!0,children:l})}))})),mM=pM;function gM(e){return(0,HC.Z)("MuiButtonBase",e)}const vM=(0,MC.Z)("MuiButtonBase",["root","disabled","focusVisible"]),yM=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],bM=(0,VC.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(vM.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),wM=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:_,onMouseDown:S,onMouseLeave:x,onMouseUp:E,onTouchEnd:k,onTouchMove:I,onTouchStart:T,tabIndex:C=0,TouchRippleProps:R,touchRippleRef:P,type:A}=r,N=(0,wC.Z)(r,yM),O=t.useRef(null),D=t.useRef(null),M=(0,HP.Z)(D,P),{isFocusVisibleRef:L,onFocus:F,onBlur:j,ref:U}=(0,WD.Z)(),[z,Z]=t.useState(!1);c&&z&&Z(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{Z(!0),O.current.focus()}})),[]);const[V,B]=t.useState(!1);t.useEffect((()=>{B(!0)}),[]);const W=V&&!u&&!c;function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,BD.Z)((r=>{t&&t(r);return!n&&D.current&&D.current[e](r),!0}))}t.useEffect((()=>{z&&h&&!u&&V&&D.current.pulsate()}),[u,h,z,V]);const H=q("start",S),K=q("stop",g),G=q("stop",v),Q=q("stop",E),X=q("stop",(e=>{z&&e.preventDefault(),x&&x(e)})),Y=q("start",T),J=q("stop",k),$=q("stop",I),ee=q("stop",(e=>{j(e),!1===L.current&&Z(!1),p&&p(e)}),!1),te=(0,BD.Z)((e=>{O.current||(O.current=e.currentTarget),F(e),!0===L.current&&(Z(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=O.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=t.useRef(!1),ie=(0,BD.Z)((e=>{h&&!re.current&&z&&D.current&&" "===e.key&&(re.current=!0,D.current.stop(e,(()=>{D.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),oe=(0,BD.Z)((e=>{h&&" "===e.key&&D.current&&z&&!e.defaultPrevented&&(re.current=!1,D.current.stop(e,(()=>{D.current.pulsate(e)}))),_&&_(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(N.href||N.to)&&(se=f);const ae={};"button"===se?(ae.type=void 0===A?"button":A,ae.disabled=c):(N.href||N.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,HP.Z)(n,U,O);const ce=(0,bC.Z)({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:C,focusVisible:z}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,ZC.Z)(o,gM,i);return n&&r&&(s.root+=" ".concat(r)),s})(ce);return(0,PC.jsxs)(bM,(0,bC.Z)({as:se,className:(0,_C.Z)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:K,onFocus:te,onKeyDown:ie,onKeyUp:oe,onMouseDown:H,onMouseLeave:X,onMouseUp:Q,onDragLeave:G,onTouchEnd:J,onTouchMove:$,onTouchStart:Y,ref:le,tabIndex:c?-1:C,type:A},ae,N,{children:[s,W?(0,PC.jsx)(mM,(0,bC.Z)({ref:M,center:o},R)):null]}))})),_M=wM;function SM(e){return(0,HC.Z)("MuiButton",e)}const xM=(0,MC.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const EM=t.createContext({});const kM=t.createContext(void 0),IM=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],TM=e=>(0,bC.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),CM=(0,VC.ZP)(_M,{shouldForwardProp:e=>(0,VC.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,vR.Z)(n.color))],t["size".concat((0,vR.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,vR.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,bC.Z)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,bC.Z)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,WC.Fq)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,WC.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,WC.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,bC.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(xM.focusVisible)]:(0,bC.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(xM.disabled)]:(0,bC.Z)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,WC.Fq)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(xM.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(xM.disabled)]:{boxShadow:"none"}}})),RM=(0,VC.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat((0,vR.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},TM(t))})),PM=(0,VC.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat((0,vR.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},TM(t))})),AM=t.forwardRef((function(e,n){const r=t.useContext(EM),i=t.useContext(kM),o=(0,VD.Z)(r,e),s=(0,BC.Z)({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=s,_=(0,wC.Z)(s,IM),S=(0,bC.Z)({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:g,size:v,type:b,variant:w}),x=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,"".concat(o).concat((0,vR.Z)(t)),"size".concat((0,vR.Z)(i)),"".concat(o,"Size").concat((0,vR.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,vR.Z)(i))],endIcon:["endIcon","iconSize".concat((0,vR.Z)(i))]},l=(0,ZC.Z)(a,SM,s);return(0,bC.Z)({},s,l)})(S),E=y&&(0,PC.jsx)(RM,{className:x.startIcon,ownerState:S,children:y}),k=p&&(0,PC.jsx)(PM,{className:x.endIcon,ownerState:S,children:p}),I=i||"";return(0,PC.jsxs)(CM,(0,bC.Z)({ownerState:S,className:(0,_C.Z)(r.className,x.root,u,I),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:(0,_C.Z)(x.focusVisible,m),ref:n,type:b},_,{classes:x,children:[E,a,k]}))})),NM=AM;function OM(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function DM(e){return e instanceof OM(e).Element||e instanceof Element}function MM(e){return e instanceof OM(e).HTMLElement||e instanceof HTMLElement}function LM(e){return"undefined"!==typeof ShadowRoot&&(e instanceof OM(e).ShadowRoot||e instanceof ShadowRoot)}var FM=Math.max,jM=Math.min,UM=Math.round;function zM(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function ZM(){return!/^((?!chrome|android).)*safari/i.test(zM())}function VM(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&MM(e)&&(i=e.offsetWidth>0&&UM(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&UM(r.height)/e.offsetHeight||1);var s=(DM(e)?OM(e):window).visualViewport,a=!ZM()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function BM(e){var t=OM(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function WM(e){return e?(e.nodeName||"").toLowerCase():null}function qM(e){return((DM(e)?e.ownerDocument:e.document)||window.document).documentElement}function HM(e){return VM(qM(e)).left+BM(e).scrollLeft}function KM(e){return OM(e).getComputedStyle(e)}function GM(e){var t=KM(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function QM(e,t,n){void 0===n&&(n=!1);var r=MM(t),i=MM(t)&&function(e){var t=e.getBoundingClientRect(),n=UM(t.width)/e.offsetWidth||1,r=UM(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=qM(t),s=VM(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==WM(t)||GM(o))&&(a=function(e){return e!==OM(e)&&MM(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:BM(e);var t}(t)),MM(t)?((l=VM(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=HM(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function XM(e){var t=VM(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function YM(e){return"html"===WM(e)?e:e.assignedSlot||e.parentNode||(LM(e)?e.host:null)||qM(e)}function JM(e){return["html","body","#document"].indexOf(WM(e))>=0?e.ownerDocument.body:MM(e)&&GM(e)?e:JM(YM(e))}function $M(e,t){var n;void 0===t&&(t=[]);var r=JM(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=OM(r),s=i?[o].concat(o.visualViewport||[],GM(r)?r:[]):r,a=t.concat(s);return i?a:a.concat($M(YM(s)))}function eL(e){return["table","td","th"].indexOf(WM(e))>=0}function tL(e){return MM(e)&&"fixed"!==KM(e).position?e.offsetParent:null}function nL(e){for(var t=OM(e),n=tL(e);n&&eL(n)&&"static"===KM(n).position;)n=tL(n);return n&&("html"===WM(n)||"body"===WM(n)&&"static"===KM(n).position)?t:n||function(e){var t=/firefox/i.test(zM());if(/Trident/i.test(zM())&&MM(e)&&"fixed"===KM(e).position)return null;var n=YM(e);for(LM(n)&&(n=n.host);MM(n)&&["html","body"].indexOf(WM(n))<0;){var r=KM(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var rL="top",iL="bottom",oL="right",sL="left",aL="auto",lL=[rL,iL,oL,sL],cL="start",uL="end",dL="clippingParents",hL="viewport",fL="popper",pL="reference",mL=lL.reduce((function(e,t){return e.concat([t+"-"+cL,t+"-"+uL])}),[]),gL=[].concat(lL,[aL]).reduce((function(e,t){return e.concat([t,t+"-"+cL,t+"-"+uL])}),[]),vL=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function yL(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function bL(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var wL={placement:"bottom",modifiers:[],strategy:"absolute"};function _L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function SL(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?wL:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},wL,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:DM(e)?$M(e):e.contextElement?$M(e.contextElement):[],popper:$M(t)};var u=function(e){var t=yL(e);return vL.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(_L(t,n)){i.rects={reference:QM(t,nL(n),"fixed"===i.options.strategy),popper:XM(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:bL((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!_L(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var xL={passive:!0};const EL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=OM(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,xL)})),a&&l.addEventListener("resize",n.update,xL),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,xL)})),a&&l.removeEventListener("resize",n.update,xL)}},data:{}};function kL(e){return e.split("-")[0]}function IL(e){return e.split("-")[1]}function TL(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function CL(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?kL(i):null,s=i?IL(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case rL:t={x:a,y:n.y-r.height};break;case iL:t={x:a,y:n.y+n.height};break;case oL:t={x:n.x+n.width,y:l};break;case sL:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?TL(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case cL:t[c]=t[c]-(n[u]/2-r[u]/2);break;case uL:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var RL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function PL(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=sL,w=rL,_=window;if(c){var S=nL(n),x="clientHeight",E="clientWidth";if(S===OM(n)&&"static"!==KM(S=qM(n)).position&&"absolute"===a&&(x="scrollHeight",E="scrollWidth"),i===rL||(i===sL||i===oL)&&o===uL)w=iL,m-=(d&&S===_&&_.visualViewport?_.visualViewport.height:S[x])-r.height,m*=l?1:-1;if(i===sL||(i===rL||i===iL)&&o===uL)b=oL,f-=(d&&S===_&&_.visualViewport?_.visualViewport.width:S[E])-r.width,f*=l?1:-1}var k,I=Object.assign({position:a},c&&RL),T=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:UM(n*i)/i||0,y:UM(r*i)/i||0}}({x:f,y:m},OM(n)):{x:f,y:m};return f=T.x,m=T.y,l?Object.assign({},I,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},I,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const AL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=gL.reduce((function(e,n){return e[n]=function(e,t,n){var r=kL(e),i=[sL,rL].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[sL,oL].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var NL={left:"right",right:"left",bottom:"top",top:"bottom"};function OL(e){return e.replace(/left|right|bottom|top/g,(function(e){return NL[e]}))}var DL={start:"end",end:"start"};function ML(e){return e.replace(/start|end/g,(function(e){return DL[e]}))}function LL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&LM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function FL(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jL(e,t,n){return t===hL?FL(function(e,t){var n=OM(e),r=qM(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=ZM();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+HM(e),y:l}}(e,n)):DM(t)?function(e,t){var n=VM(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):FL(function(e){var t,n=qM(e),r=BM(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=FM(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=FM(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+HM(e),l=-r.scrollTop;return"rtl"===KM(i||n).direction&&(a+=FM(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(qM(e)))}function UL(e,t,n,r){var i="clippingParents"===t?function(e){var t=$M(YM(e)),n=["absolute","fixed"].indexOf(KM(e).position)>=0&&MM(e)?nL(e):e;return DM(n)?t.filter((function(e){return DM(e)&&LL(e,n)&&"body"!==WM(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=jL(e,n,r);return t.top=FM(i.top,t.top),t.right=jM(i.right,t.right),t.bottom=jM(i.bottom,t.bottom),t.left=FM(i.left,t.left),t}),jL(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zL(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ZL(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function VL(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?dL:a,c=n.rootBoundary,u=void 0===c?hL:c,d=n.elementContext,h=void 0===d?fL:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=zL("number"!==typeof g?g:ZL(g,lL)),y=h===fL?pL:fL,b=e.rects.popper,w=e.elements[p?y:h],_=UL(DM(w)?w:w.contextElement||qM(e.elements.popper),l,u,s),S=VM(e.elements.reference),x=CL({reference:S,element:b,strategy:"absolute",placement:i}),E=FL(Object.assign({},b,x)),k=h===fL?E:S,I={top:_.top-k.top+v.top,bottom:k.bottom-_.bottom+v.bottom,left:_.left-k.left+v.left,right:k.right-_.right+v.right},T=e.modifiersData.offset;if(h===fL&&T){var C=T[i];Object.keys(I).forEach((function(e){var t=[oL,iL].indexOf(e)>=0?1:-1,n=[rL,iL].indexOf(e)>=0?"y":"x";I[e]+=C[n]*t}))}return I}const BL={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=kL(g),y=l||(v===g||!p?[OL(g)]:function(e){if(kL(e)===aL)return[];var t=OL(e);return[ML(e),t,ML(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(kL(n)===aL?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?gL:l,u=IL(r),d=u?a?mL:mL.filter((function(e){return IL(e)===u})):lL,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=VL(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[kL(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,S=new Map,x=!0,E=b[0],k=0;k<b.length;k++){var I=b[k],T=kL(I),C=IL(I)===cL,R=[rL,iL].indexOf(T)>=0,P=R?"width":"height",A=VL(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),N=R?C?oL:sL:C?iL:rL;w[P]>_[P]&&(N=OL(N));var O=OL(N),D=[];if(o&&D.push(A[T]<=0),a&&D.push(A[N]<=0,A[O]<=0),D.every((function(e){return e}))){E=I,x=!1;break}S.set(I,D)}if(x)for(var M=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},L=p?3:1;L>0;L--){if("break"===M(L))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function WL(e,t,n){return FM(e,jM(t,n))}const qL={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=VL(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=kL(t.placement),y=IL(t.placement),b=!y,w=TL(v),_="x"===w?"y":"x",S=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(o){var R,P="y"===w?rL:sL,A="y"===w?iL:oL,N="y"===w?"height":"width",O=S[w],D=O+g[P],M=O-g[A],L=f?-E[N]/2:0,F=y===cL?x[N]:E[N],j=y===cL?-E[N]:-x[N],U=t.elements.arrow,z=f&&U?XM(U):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=Z[P],B=Z[A],W=WL(0,x[N],z[N]),q=b?x[N]/2-L-W-V-I.mainAxis:F-W-V-I.mainAxis,H=b?-x[N]/2+L+W+B+I.mainAxis:j+W+B+I.mainAxis,K=t.elements.arrow&&nL(t.elements.arrow),G=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Q=null!=(R=null==T?void 0:T[w])?R:0,X=O+H-Q,Y=WL(f?jM(D,O+q-Q-G):D,O,f?FM(M,X):M);S[w]=Y,C[w]=Y-O}if(a){var J,$="x"===w?rL:sL,ee="x"===w?iL:oL,te=S[_],ne="y"===_?"height":"width",re=te+g[$],ie=te-g[ee],oe=-1!==[rL,sL].indexOf(v),se=null!=(J=null==T?void 0:T[_])?J:0,ae=oe?re:te-x[ne]-E[ne]-se+I.altAxis,le=oe?te+x[ne]+E[ne]-se-I.altAxis:ie,ce=f&&oe?function(e,t,n){var r=WL(e,t,n);return r>n?n:r}(ae,te,le):WL(f?ae:re,te,f?le:ie);S[_]=ce,C[_]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};const HL={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=kL(n.placement),l=TL(a),c=[sL,oL].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return zL("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ZL(e,lL))}(i.padding,n),d=XM(o),h="y"===l?rL:sL,f="y"===l?iL:oL,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=nL(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],_=v/2-d[c]/2+y,S=WL(b,_,w),x=l;n.modifiersData[r]=((t={})[x]=S,t.centerOffset=S-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&LL(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function KL(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function GL(e){return[rL,oL,iL,sL].some((function(t){return e[t]>=0}))}var QL=SL({defaultModifiers:[EL,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=CL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:kL(t.placement),variation:IL(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,PL(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,PL(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];MM(i)&&WM(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});MM(r)&&WM(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},AL,BL,qL,HL,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=VL(t,{elementContext:"reference"}),a=VL(t,{altBoundary:!0}),l=KL(s,r),c=KL(a,i,o),u=GL(l),d=GL(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function XL(e){return(0,HC.Z)("MuiPopper",e)}(0,MC.Z)("MuiPopper",["root"]);const YL={disableDefaultClasses:!1},JL=t.createContext(YL);const $L=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],eF=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function tF(e){return"function"===typeof e?e():e}function nF(e){return void 0!==e.nodeType}const rF=()=>(0,ZC.Z)({root:["root"]},function(e){const{disableDefaultClasses:n}=t.useContext(JL);return t=>n?"":e(t)}(XL)),iF={},oF=t.forwardRef((function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:m}=e,g=(0,wC.Z)(e,$L),v=t.useRef(null),y=(0,OP.Z)(v,n),b=t.useRef(null),w=(0,OP.Z)(b,h),_=t.useRef(w);(0,MP.Z)((()=>{_.current=w}),[w]),t.useImperativeHandle(h,(()=>b.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,s),[x,E]=t.useState(S),[k,I]=t.useState(tF(i));t.useEffect((()=>{b.current&&b.current.forceUpdate()})),t.useEffect((()=>{i&&I(tF(i))}),[i]),(0,MP.Z)((()=>{if(!k||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;E(t.placement)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=QL(k,v.current,(0,bC.Z)({placement:S},d,{modifiers:e}));return _.current(t),()=>{t.destroy(),_.current(null)}}),[k,a,l,c,d,S]);const T={placement:x};null!==m&&(T.TransitionProps=m);const C=rF(),R=null!=(r=p.root)?r:"div",P=yN({elementType:R,externalSlotProps:f.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:C.root});return(0,PC.jsx)(R,(0,bC.Z)({},P,{children:"function"===typeof o?o(T):o}))})),sF=t.forwardRef((function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=iF,popperRef:f,style:p,transition:m=!1,slotProps:g={},slots:v={}}=e,y=(0,wC.Z)(e,eF),[b,w]=t.useState(!0);if(!l&&!u&&(!m||b))return null;let _;if(o)_=o;else if(r){const e=tF(r);_=e&&nF(e)?(0,nO.Z)(e).body:(0,nO.Z)(null).body}const S=u||!l||m&&!b?void 0:"none",x=m?{in:u,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,PC.jsx)(vO,{disablePortal:a,container:_,children:(0,PC.jsx)(oF,(0,bC.Z)({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:m?!b:u,placement:d,popperOptions:h,popperRef:f,slotProps:g,slots:v},y,{style:(0,bC.Z)({position:"fixed",top:0,left:0,display:S},p),TransitionProps:x,children:i}))})}));var aF=n(9120);const lF=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],cF=(0,VC.ZP)(sF,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),uF=t.forwardRef((function(e,t){var n;const r=(0,aF.Z)(),i=(0,BC.Z)({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:g,transition:v,slots:y,slotProps:b}=i,w=(0,wC.Z)(i,lF),_=null!=(n=null==y?void 0:y.root)?n:null==a?void 0:a.Root,S=(0,bC.Z)({anchorEl:o,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:g,transition:v},w);return(0,PC.jsx)(cF,(0,bC.Z)({as:s,direction:null==r?void 0:r.direction,slots:{root:_},slotProps:null!=b?b:l},S,{ref:t}))})),dF=uF;var hF=n(7384);function fF(e){return(0,HC.Z)("MuiTooltip",e)}const pF=(0,MC.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),mF=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const gF=(0,VC.ZP)(dF,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,bC.Z)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(pF.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(pF.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(pF.arrow)]:(0,bC.Z)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(pF.arrow)]:(0,bC.Z)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),vF=(0,VC.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,vR.Z)(n.placement.split("-")[0]))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,WC.Fq)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((r=16/14,Math.round(1e5*r)/1e5),"em"),fontWeight:t.typography.fontWeightRegular},{[".".concat(pF.popper,'[data-popper-placement*="left"] &')]:(0,bC.Z)({transformOrigin:"right center"},n.isRtl?(0,bC.Z)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,bC.Z)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[".".concat(pF.popper,'[data-popper-placement*="right"] &')]:(0,bC.Z)({transformOrigin:"left center"},n.isRtl?(0,bC.Z)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,bC.Z)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[".".concat(pF.popper,'[data-popper-placement*="top"] &')]:(0,bC.Z)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[".".concat(pF.popper,'[data-popper-placement*="bottom"] &')]:(0,bC.Z)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r})),yF=(0,VC.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,WC.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let bF=!1,wF=null,_F={x:0,y:0};function SF(e,t){return n=>{t&&t(n),e(n)}}const xF=t.forwardRef((function(e,n){var r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,y,b,w,_;const S=(0,BC.Z)({props:e,name:"MuiTooltip"}),{arrow:x=!1,children:E,components:k={},componentsProps:I={},describeChild:T=!1,disableFocusListener:C=!1,disableHoverListener:R=!1,disableInteractive:P=!1,disableTouchListener:A=!1,enterDelay:N=100,enterNextDelay:O=0,enterTouchDelay:D=700,followCursor:M=!1,id:L,leaveDelay:F=0,leaveTouchDelay:j=1500,onClose:U,onOpen:z,open:Z,placement:V="bottom",PopperComponent:B,PopperProps:W={},slotProps:q={},slots:H={},title:K,TransitionComponent:G=tO,TransitionProps:Q}=S,X=(0,wC.Z)(S,mF),Y=t.isValidElement(E)?E:(0,PC.jsx)("span",{children:E}),J=PR(),$="rtl"===J.direction,[ee,te]=t.useState(),[ne,re]=t.useState(null),ie=t.useRef(!1),oe=P||M,se=t.useRef(),ae=t.useRef(),le=t.useRef(),ce=t.useRef(),[ue,de]=(0,uD.Z)({controlled:Z,default:!1,name:"Tooltip",state:"open"});let he=ue;const fe=(0,hF.Z)(L),pe=t.useRef(),me=t.useCallback((()=>{void 0!==pe.current&&(document.body.style.WebkitUserSelect=pe.current,pe.current=void 0),clearTimeout(ce.current)}),[]);t.useEffect((()=>()=>{clearTimeout(se.current),clearTimeout(ae.current),clearTimeout(le.current),me()}),[me]);const ge=e=>{clearTimeout(wF),bF=!0,de(!0),z&&!he&&z(e)},ve=(0,BD.Z)((e=>{clearTimeout(wF),wF=setTimeout((()=>{bF=!1}),800+F),de(!1),U&&he&&U(e),clearTimeout(se.current),se.current=setTimeout((()=>{ie.current=!1}),J.transitions.duration.shortest)})),ye=e=>{ie.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),clearTimeout(ae.current),clearTimeout(le.current),N||bF&&O?ae.current=setTimeout((()=>{ge(e)}),bF?O:N):ge(e))},be=e=>{clearTimeout(ae.current),clearTimeout(le.current),le.current=setTimeout((()=>{ve(e)}),F)},{isFocusVisibleRef:we,onBlur:_e,onFocus:Se,ref:xe}=(0,WD.Z)(),[,Ee]=t.useState(!1),ke=e=>{_e(e),!1===we.current&&(Ee(!1),be(e))},Ie=e=>{ee||te(e.currentTarget),Se(e),!0===we.current&&(Ee(!0),ye(e))},Te=e=>{ie.current=!0;const t=Y.props;t.onTouchStart&&t.onTouchStart(e)},Ce=ye,Re=be,Pe=e=>{Te(e),clearTimeout(le.current),clearTimeout(se.current),me(),pe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.current=setTimeout((()=>{document.body.style.WebkitUserSelect=pe.current,ye(e)}),D)},Ae=e=>{Y.props.onTouchEnd&&Y.props.onTouchEnd(e),me(),clearTimeout(le.current),le.current=setTimeout((()=>{ve(e)}),j)};t.useEffect((()=>{if(he)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ve(e)}}),[ve,he]);const Ne=(0,HP.Z)(Y.ref,xe,te,n);K||0===K||(he=!1);const Oe=t.useRef(),De={},Me="string"===typeof K;T?(De.title=he||!Me||R?null:K,De["aria-describedby"]=he?fe:null):(De["aria-label"]=Me?K:null,De["aria-labelledby"]=he&&!Me?fe:null);const Le=(0,bC.Z)({},De,X,Y.props,{className:(0,_C.Z)(X.className,Y.props.className),onTouchStart:Te,ref:Ne},M?{onMouseMove:e=>{const t=Y.props;t.onMouseMove&&t.onMouseMove(e),_F={x:e.clientX,y:e.clientY},Oe.current&&Oe.current.update()}}:{});const Fe={};A||(Le.onTouchStart=Pe,Le.onTouchEnd=Ae),R||(Le.onMouseOver=SF(Ce,Le.onMouseOver),Le.onMouseLeave=SF(Re,Le.onMouseLeave),oe||(Fe.onMouseOver=Ce,Fe.onMouseLeave=Re)),C||(Le.onFocus=SF(Ie,Le.onFocus),Le.onBlur=SF(ke,Le.onBlur),oe||(Fe.onFocus=Ie,Fe.onBlur=ke));const je=t.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=W.popperOptions)&&e.modifiers&&(t=t.concat(W.popperOptions.modifiers)),(0,bC.Z)({},W.popperOptions,{modifiers:t})}),[ne,W]),Ue=(0,bC.Z)({},S,{isRtl:$,arrow:x,disableInteractive:oe,placement:V,PopperComponentProp:B,touch:ie.current}),ze=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat((0,vR.Z)(o.split("-")[0]))],arrow:["arrow"]};return(0,ZC.Z)(s,fF,t)})(Ue),Ze=null!=(r=null!=(i=H.popper)?i:k.Popper)?r:gF,Ve=null!=(o=null!=(s=null!=(a=H.transition)?a:k.Transition)?s:G)?o:tO,Be=null!=(l=null!=(c=H.tooltip)?c:k.Tooltip)?l:vF,We=null!=(u=null!=(d=H.arrow)?d:k.Arrow)?u:yF,qe=pN(Ze,(0,bC.Z)({},W,null!=(h=q.popper)?h:I.popper,{className:(0,_C.Z)(ze.popper,null==W?void 0:W.className,null==(f=null!=(p=q.popper)?p:I.popper)?void 0:f.className)}),Ue),He=pN(Ve,(0,bC.Z)({},Q,null!=(m=q.transition)?m:I.transition),Ue),Ke=pN(Be,(0,bC.Z)({},null!=(g=q.tooltip)?g:I.tooltip,{className:(0,_C.Z)(ze.tooltip,null==(v=null!=(y=q.tooltip)?y:I.tooltip)?void 0:v.className)}),Ue),Ge=pN(We,(0,bC.Z)({},null!=(b=q.arrow)?b:I.arrow,{className:(0,_C.Z)(ze.arrow,null==(w=null!=(_=q.arrow)?_:I.arrow)?void 0:w.className)}),Ue);return(0,PC.jsxs)(t.Fragment,{children:[t.cloneElement(Y,Le),(0,PC.jsx)(Ze,(0,bC.Z)({as:null!=B?B:dF,placement:V,anchorEl:M?{getBoundingClientRect:()=>({top:_F.y,left:_F.x,right:_F.x,bottom:_F.y,width:0,height:0})}:ee,popperRef:Oe,open:!!ee&&he,id:fe,transition:!0},Fe,qe,{popperOptions:je,children:e=>{let{TransitionProps:t}=e;return(0,PC.jsx)(Ve,(0,bC.Z)({timeout:J.transitions.duration.shorter},t,He,{children:(0,PC.jsxs)(Be,(0,bC.Z)({},Ke,{children:[K,x?(0,PC.jsx)(We,(0,bC.Z)({},Ge,{ref:re})):null]}))}))}}))]})})),EF=xF;function kF(e){return(0,HC.Z)("MuiIconButton",e)}const IF=(0,MC.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),TF=["edge","children","className","color","disabled","disableFocusRipple","size"],CF=(0,VC.ZP)(_M,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,vR.Z)(n.color))],n.edge&&t["edge".concat((0,vR.Z)(n.edge))],t["size".concat((0,vR.Z)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,WC.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,bC.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,bC.Z)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,bC.Z)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,WC.Fq)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(IF.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),RF=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,wC.Z)(n,TF),d=(0,bC.Z)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled","default"!==r&&"color".concat((0,vR.Z)(r)),i&&"edge".concat((0,vR.Z)(i)),"size".concat((0,vR.Z)(o))]};return(0,ZC.Z)(s,kF,t)})(d);return(0,PC.jsx)(CF,(0,bC.Z)({className:(0,_C.Z)(h.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t,ownerState:d},u,{children:i}))})),PF=RF;var AF=n(9161),NF=n(7247),OF=n(1286);const DF=e=>{var n,r,i,o;let{comment:s,id:a,postId:l}=e;const[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(s.comment),m=s.comment,g=s.userName,v=Nt((e=>e.authReducer));(0,t.useEffect)((()=>{if(null==s.timestamp)return;let e=pP(s.timestamp.toDate(),{addSuffix:!0});e=e.replace("about ",""),u(e)}),[s.timestamp]);return(0,PC.jsxs)(ZR,{container:!0,spacing:1,sx:{paddingTop:0},children:[(0,PC.jsxs)(ZR,{item:!0,xs:2,children:[(0,PC.jsx)(dR,{sx:{scale:"70%"},src:null!==(n=s.avatar)&&void 0!==n?n:void 0,alt:s.avatar||"User"})," "]}),(0,PC.jsxs)(ZR,{item:!0,xs:5,children:[" ",(0,PC.jsx)(ER,{variant:"body2",color:"initial",children:g}),d?(0,PC.jsx)(LD,{variant:"standard",value:f,onChange:e=>p(e.target.value)}):(0,PC.jsx)(ER,{variant:"body2",color:"initial",children:m})]}),(0,PC.jsxs)(ZR,{item:!0,xs:5,children:[v.isLoggedIn&&(null===(r=v.user)||void 0===r?void 0:r.displayName)==g&&(0,PC.jsx)(t.Fragment,{children:(0,PC.jsx)(EF,{title:"delete comment",children:(0,PC.jsx)(PF,{onClick:()=>{vC.collection("posts").doc(l).collection("comments").doc(a).delete()},"aria-label":"comment",children:(0,PC.jsx)(NF.Z,{})})})}),v.isLoggedIn&&(null===(i=v.user)||void 0===i?void 0:i.displayName)==g&&!d&&(0,PC.jsx)(EF,{title:"edit comment",children:(0,PC.jsx)(PF,{onClick:()=>{h(!0)},"aria-label":"comment",children:(0,PC.jsx)(OF.Z,{})})}),v.isLoggedIn&&(null===(o=v.user)||void 0===o?void 0:o.displayName)==g&&d&&(0,PC.jsx)(EF,{title:"edit comment",children:(0,PC.jsx)(PF,{onClick:()=>{vC.collection("posts").doc(l).collection("comments").doc(a).update({comment:f,timestamp:Ui.firestore.FieldValue.serverTimestamp(),edited:!0}),h(!1)},"aria-label":"comment",children:(0,PC.jsx)(AF.Z,{})})})]}),(0,PC.jsxs)(UC,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[s.edited&&(0,PC.jsx)(ER,{variant:"body2",color:"initial",sx:{textAlign:"end",mr:1},children:"edited"}),(0,PC.jsx)(ER,{variant:"body2",color:"initial",sx:{textAlign:"end"},children:c})]})]})},MF=e=>{var n,r,i,o,s,a;let{post:l,postId:c}=e;const[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(l.title),w=Nt((e=>e.authReducer)),_=l.imgurl,S=l.avatar,x=l.title,E=l.username;(0,t.useEffect)((()=>{vC.collection("posts").doc(c).collection("comments").orderBy("timestamp","desc").onSnapshot((e=>{m(e.docs.map((e=>({id:e.id,comment:{comment:e.data().comment,timestamp:e.data().timestamp,userName:e.data().userName,avatar:e.data().avatar,edited:e.data().edited}}))))}))}),[]),(0,t.useEffect)((()=>{if(null==l.timestamp)return;let e=pP(l.timestamp.toDate(),{addSuffix:!0});e=e.replace("about ",""),d(e)}),[l.timestamp]);return(0,PC.jsx)(nR,{sx:{borderRadius:2},children:(0,PC.jsxs)(ZR,{container:!0,children:[(0,PC.jsx)(ZR,{item:!0,container:!0,md:12,children:(0,PC.jsx)(xP,{avatar:(0,PC.jsx)(dR,{src:S}),title:E,sx:{p:1}})}),(0,PC.jsx)(ZR,{item:!0,md:12,children:(0,PC.jsx)(PP,{component:"img",alt:"Instagram Post Image",image:_,sx:{height:200}})}),(0,PC.jsxs)(ZR,{item:!0,md:12,children:[(0,PC.jsxs)(gR,{children:[(0,PC.jsx)(ER,{variant:"h6",color:"textSecondary",component:"p",children:E}),g?(0,PC.jsx)(LD,{variant:"standard",value:y,onChange:e=>b(e.target.value)}):(0,PC.jsx)(ER,{variant:"body2",color:"initial",children:x})]}),(0,PC.jsxs)(UC,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[l.edited&&(0,PC.jsx)(ER,{variant:"body2",color:"initial",sx:{textAlign:"end",mr:1},children:"edited"}),(0,PC.jsx)(ER,{variant:"body2",color:"initial",sx:{textAlign:"end"},children:u})]}),(0,PC.jsxs)(ZD,{children:[(0,PC.jsx)(NM,{size:"small",children:"view all comments"}),(0,PC.jsx)(NM,{size:"small",children:"Share"}),(0,PC.jsx)(NM,{size:"small",children:"Report"})]}),p.length?p.map((e=>{let{id:t,comment:n}=e;return(0,PC.jsx)(DF,{id:t,comment:n,postId:c},t)})):(0,PC.jsx)(ER,{variant:"h6",color:"textSecondary",component:"p",children:"no comments yet"}),w.isLoggedIn&&(0,PC.jsxs)(UC,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,PC.jsx)(dR,{src:null!==(n=null===(r=w.user)||void 0===r?void 0:r.photoURL)&&void 0!==n?n:void 0,alt:(null===(i=w.user)||void 0===i?void 0:i.displayName)||"User",sx:{height:30,width:30,m:1}}),(0,PC.jsx)(LD,{id:"".concat(c,"-comment"),label:"make a comment",variant:"standard",placeholder:"add a comment...",value:h,onChange:e=>f(e.target.value)})]}),(0,PC.jsxs)(ZD,{children:[w.isLoggedIn&&(0,PC.jsx)(EF,{title:"comment",children:(0,PC.jsx)(PF,{onClick:()=>{var e,t;vC.collection("posts").doc(c).collection("comments").add({timestamp:Ui.firestore.FieldValue.serverTimestamp(),comment:h,userName:null===(e=w.user)||void 0===e?void 0:e.displayName,edited:!1,avatar:null===(t=w.user)||void 0===t?void 0:t.photoURL}),f("")},"aria-label":"comment",children:(0,PC.jsx)(AF.Z,{})})}),w.isLoggedIn&&(null===(o=w.user)||void 0===o?void 0:o.displayName)==E&&(0,PC.jsx)(EF,{title:"delete comment",children:(0,PC.jsx)(PF,{onClick:()=>{vC.collection("posts").doc(c).delete()},"aria-label":"comment",children:(0,PC.jsx)(NF.Z,{})})}),w.isLoggedIn&&(null===(s=w.user)||void 0===s?void 0:s.displayName)==E&&!g&&(0,PC.jsx)(EF,{title:"edit post",children:(0,PC.jsx)(PF,{onClick:()=>{v(!0)},"aria-label":"comment",children:(0,PC.jsx)(OF.Z,{})})}),w.isLoggedIn&&(null===(a=w.user)||void 0===a?void 0:a.displayName)==E&&g&&(0,PC.jsx)(EF,{title:"edit comment",children:(0,PC.jsx)(PF,{onClick:()=>{vC.collection("posts").doc(c).update({title:y,timestamp:Ui.firestore.FieldValue.serverTimestamp(),edited:!0}),v(!1)},"aria-label":"comment",children:(0,PC.jsx)(AF.Z,{})})})]})]})]})})},LF=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)((()=>{vC.collection("posts").onSnapshot((e=>{n(e.docs.map((e=>({id:e.id,post:{imgurl:e.data().imgUrl,avatar:e.data().avatar,username:e.data().username,edited:e.data().edited,timestamp:e.data().timestamp,title:e.data().title}}))))}))}),[]),console.log(e),(0,PC.jsx)(PC.Fragment,{children:e.length?(0,PC.jsx)(ZR,{container:!0,spacing:4,children:e.map((e=>{let{id:t,post:n}=e;return(0,PC.jsx)(ZR,{container:!0,item:!0,xs:12,sm:6,md:3,children:(0,PC.jsx)(MF,{post:n,postId:t})},t)}))}):(0,PC.jsx)(ER,{variant:"h1",color:"initial",children:"hello"})})},FF={HOME:"/home",POSTS:"/post",CHAT:"/chat"},jF=()=>{const e=Nt((e=>e.authReducer.isLoggedIn)),n=In();return console.log("navigate",FF),console.log("loggedin",e),(0,t.useEffect)((()=>{n(FF.HOME)}),[]),(0,PC.jsx)(t.Fragment,{})},UF=e=>{let{message:t,didISend:n}=e;const r=Nt((e=>e.chatReducer)),i=Nt((e=>e.authReducer));var o,s,a,l,c,u;return console.log("message",t,"didISend",n),r.user?(0,PC.jsx)(ZR,{container:!0,children:(0,PC.jsxs)(ZR,{item:!0,container:!0,md:4,children:[" ",(0,PC.jsxs)(nR,{sx:{borderRadius:2},children:[(0,PC.jsx)(xP,{avatar:(0,PC.jsx)(dR,{src:n?(null===(o=i.user)||void 0===o?void 0:o.photoURL)||void 0:(null===(s=r.user)||void 0===s?void 0:s.photourl)||void 0}),title:n?(null===(a=i.user)||void 0===a?void 0:a.displayName)||void 0:(null===(l=r.user)||void 0===l?void 0:l.displayName)||void 0,sx:{p:1}}),(0,PC.jsxs)(gR,{children:[(0,PC.jsx)(ER,{variant:"h6",color:"textSecondary",component:"p",children:n?(null===(c=i.user)||void 0===c?void 0:c.displayName)||void 0:(null===(u=r.user)||void 0===u?void 0:u.displayName)||void 0}),(0,PC.jsx)(ER,{variant:"body2",color:"textSecondary",component:"p",children:t.text})]})]})]})}):null},zF=()=>{const e=Nt((e=>e.chatReducer)),[n]=Kn(),r=n.get("uid"),i=Nt((e=>e.authReducer)),[o,s]=(0,t.useState)([]);return(0,t.useEffect)((()=>{var e;i.isLoggedIn&&((null===(e=i.user)||void 0===e?void 0:e.uid)&&(()=>{const e=OT(uI(vC,"chats",r),(e=>{e.exists()&&s(e.data().messages)}))})())}),[i.isLoggedIn]),(0,PC.jsx)(ZR,{container:!0,children:o&&o.length>0&&o.map((t=>{var n;return(0,PC.jsx)(UF,{message:t,didISend:t.senderId==(null===(n=e.user)||void 0===n?void 0:n.uid)},t.id)}))})};function ZF(e){return(0,HC.Z)("MuiLinearProgress",e)}(0,MC.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var VF,BF,WF,qF,HF,KF;const GF=["className","color","value","valueBuffer","variant"];let QF,XF,YF,JF,$F,ej;const tj=eA(QF||(QF=VF||(VF=qD(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),nj=eA(XF||(XF=BF||(BF=qD(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),rj=eA(YF||(YF=WF||(WF=qD(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),ij=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,WC.$n)(e.palette[t].main,.62):(0,WC._j)(e.palette[t].main,.5),oj=(0,VC.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat((0,vR.Z)(n.color))],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,bC.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ij(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),sj=(0,VC.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat((0,vR.Z)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;const r=ij(n,t.color);return(0,bC.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),$P(JF||(JF=qF||(qF=qD(["\n    animation: "," 3s infinite linear;\n  "]))),rj)),aj=(0,VC.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat((0,vR.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,bC.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&$P($F||($F=HF||(HF=qD(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),tj)})),lj=(0,VC.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat((0,vR.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,bC.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:ij(n,t.color),transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&$P(ej||(ej=KF||(KF=qD(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),nj)})),cj=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:o,valueBuffer:s,variant:a="indeterminate"}=n,l=(0,wC.Z)(n,GF),c=(0,bC.Z)({},n,{color:i,variant:a}),u=(e=>{const{classes:t,variant:n,color:r}=e,i={root:["root","color".concat((0,vR.Z)(r)),n],dashed:["dashed","dashedColor".concat((0,vR.Z)(r))],bar1:["bar","barColor".concat((0,vR.Z)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,vR.Z)(r)),"buffer"===n&&"color".concat((0,vR.Z)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,ZC.Z)(i,ZF,t)})(c),d=PR(),h={},f={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==o){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=o-100;"rtl"===d.direction&&(e=-e),f.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===a)if(void 0!==s){let e=(s||0)-100;"rtl"===d.direction&&(e=-e),f.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,PC.jsxs)(oj,(0,bC.Z)({className:(0,_C.Z)(u.root,r),ownerState:c,role:"progressbar"},h,{ref:t},l,{children:["buffer"===a?(0,PC.jsx)(sj,{className:u.dashed,ownerState:c}):null,(0,PC.jsx)(aj,{className:u.bar1,ownerState:c,style:f.bar1}),"determinate"===a?null:(0,PC.jsx)(lj,{className:u.bar2,ownerState:c,style:f.bar2})]}))})),uj=cj,dj={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let hj;const fj=new Uint8Array(16);function pj(){if(!hj&&(hj="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!hj))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hj(fj)}const mj=[];for(let n=0;n<256;++n)mj.push((n+256).toString(16).slice(1));function gj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return mj[e[t+0]]+mj[e[t+1]]+mj[e[t+2]]+mj[e[t+3]]+"-"+mj[e[t+4]]+mj[e[t+5]]+"-"+mj[e[t+6]]+mj[e[t+7]]+"-"+mj[e[t+8]]+mj[e[t+9]]+"-"+mj[e[t+10]]+mj[e[t+11]]+mj[e[t+12]]+mj[e[t+13]]+mj[e[t+14]]+mj[e[t+15]]}const vj=function(e,t,n){if(dj.randomUUID&&!t&&!e)return dj.randomUUID();const r=(e=e||{}).random||(e.rng||pj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return gj(r)},yj=e=>{var n,r,i,o,s,a;const[l]=Kn(),c=l.get("uid"),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(0),[g,v]=(0,t.useState)(10),[y,b]=(0,t.useState)(!1),w=Nt((e=>e.chatReducer)),_=Nt((e=>e.authReducer));return(0,PC.jsxs)(nR,{sx:{borderRadius:2},children:[(0,PC.jsx)(xP,{avatar:(0,PC.jsx)(dR,{src:null!==(n=null===(r=w.user)||void 0===r?void 0:r.photourl)&&void 0!==n?n:void 0,alt:(null===(i=w.user)||void 0===i?void 0:i.displayName)||"User"}),title:null===(o=w.user)||void 0===o?void 0:o.displayName,sx:{p:1}}),(0,PC.jsxs)(gR,{children:[(0,PC.jsx)(ER,{variant:"h6",color:"textSecondary",component:"p",children:null===(s=w.user)||void 0===s?void 0:s.displayName}),e&&(0,PC.jsx)(ER,{variant:"body2",color:"textSecondary",component:"p",children:null===(a=e.chatInfo[0])||void 0===a?void 0:a.lastMessage.text})]})," ",(0,PC.jsx)(LD,{variant:"standard",value:h,onChange:e=>f(e.target.value)}),(0,PC.jsx)("input",{className:"file-input",type:"file",onChange:e=>(e=>{const t=e.target;t.files?d(t.files[0]):d(null)})(e)}),(0,PC.jsx)(NM,{variant:"contained",onClick:()=>(async(e,t)=>{if(u){const n=xd(Id(gC,vj()),u);n.on("state_changed",(e=>{b(!0),100==Math.round(e.bytesTransferred/e.totalBytes*100)&&(m(100),v(10),b(!1))}),(e=>{console.log(e)}),(()=>{f(""),d(null),kd(n.snapshot.ref).then((async n=>{var r,i;null!==(r=_.user)&&void 0!==r&&r.uid&&(await NT(uI(vC,"chats",e),{messages:VT({id:vj(),text:t,senderId:null===(i=_.user)||void 0===i?void 0:i.uid,date:Rg.now(),Image:n})}),await NT(uI(vC,"userchats",_.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:ZT()})),w.user&&await NT(uI(vC,"userchats",w.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:ZT()})}))}))}else{var n;f(""),null!==(n=_.user)&&void 0!==n&&n.uid&&(await NT(uI(vC,"chats",e),{messages:VT({id:vj(),text:t,senderId:_.user.uid,date:Rg.now()})}),await NT(uI(vC,"userchats",_.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:ZT()})),w.user&&await NT(uI(vC,"userchats",w.user.uid),{[e+".lastMessage"]:{text:t},[e+".date"]:ZT()})}})(c,h),children:"send"}),y&&(0,PC.jsx)(UC,{sx:{width:"100%"},children:(0,PC.jsx)(uj,{variant:"buffer",value:p,valueBuffer:g})})]})},bj=()=>{const e=Nt((e=>e.chatReducer)),n=Nt((e=>e.authReducer)),[r,i]=(0,t.useState)([]),[o]=Kn(),s=o.get("uid"),a=At();let l;return(0,t.useEffect)((()=>{var e;n.isLoggedIn&&((null===(e=n.user)||void 0===e?void 0:e.uid)&&(()=>{var e;const t=OT(uI(vC,"userchats",null===(e=n.user)||void 0===e?void 0:e.uid),(e=>{for(let t of Object.entries(e.data()||{}))t[0]===s&&(l=t[1],i([t[1]]),a(Rt.selectedUser(l.userInfo)))}))})())}),[n.isLoggedIn]),e.user?(0,PC.jsxs)(t.Fragment,{children:[(0,PC.jsx)(ZR,{container:!0,children:(0,PC.jsx)(ZR,{item:!0,container:!0,md:4,children:r.length>0&&(0,PC.jsx)(yj,{chatInfo:r})})})," ",(0,PC.jsx)(zF,{})]}):(0,PC.jsx)(zC,{})},wj=()=>(0,PC.jsxs)(zn,{children:[(0,PC.jsx)(jn,{index:!0,element:(0,PC.jsx)(jF,{})}),";",(0,PC.jsx)(jn,{path:FF.POSTS,element:(0,PC.jsx)(LF,{})}),";",(0,PC.jsxs)(jn,{path:FF.CHAT,children:[(0,PC.jsx)(jn,{index:!0,element:(0,PC.jsx)(TR,{})}),(0,PC.jsx)(jn,{path:":chatId",element:(0,PC.jsx)(bj,{})})]})]}),_j=()=>{const e=At();return(0,t.useEffect)((()=>mC.onAuthStateChanged((t=>{t?(e(It.login(t)),console.log("authUser",t)):e(It.logout())}))),[]),(0,PC.jsx)("div",{className:"app",children:(0,PC.jsx)(wj,{})})};function Sj(e){return(0,HC.Z)("MuiDialog",e)}const xj=(0,MC.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Ej=t.createContext({}),kj=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Ij=(0,VC.ZP)(IO,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Tj=(0,VC.ZP)(NO,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Cj=(0,VC.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat((0,vR.Z)(n.scroll))]]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Rj=(0,VC.ZP)(YC,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,vR.Z)(n.scroll))],t["paperWidth".concat((0,vR.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(xj.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(xj.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(xj.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),Pj=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiDialog"}),i=PR(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:g,onClose:v,open:y,PaperComponent:b=YC,PaperProps:w={},scroll:_="paper",TransitionComponent:S=_O,transitionDuration:x=o,TransitionProps:E}=r,k=(0,wC.Z)(r,kj),I=(0,bC.Z)({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:m,scroll:_}),T=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container","scroll".concat((0,vR.Z)(n))],paper:["paper","paperScroll".concat((0,vR.Z)(n)),"paperWidth".concat((0,vR.Z)(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,ZC.Z)(s,Sj,t)})(I),C=t.useRef(),R=(0,AP.Z)(a),P=t.useMemo((()=>({titleId:R})),[R]);return(0,PC.jsx)(Tj,(0,bC.Z)({className:(0,_C.Z)(T.root,d),closeAfterTransition:!0,components:{Backdrop:Ij},componentsProps:{backdrop:(0,bC.Z)({transitionDuration:x,as:l},c)},disableEscapeKeyDown:h,onClose:v,open:y,ref:n,onClick:e=>{C.current&&(C.current=null,g&&g(e),v&&v(e,"backdropClick"))},ownerState:I},k,{children:(0,PC.jsx)(S,(0,bC.Z)({appear:!0,in:y,timeout:x,role:"presentation"},E,{children:(0,PC.jsx)(Cj,{className:(0,_C.Z)(T.container),onMouseDown:e=>{C.current=e.target===e.currentTarget},ownerState:I,children:(0,PC.jsx)(Rj,(0,bC.Z)({as:b,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":R},w,{className:(0,_C.Z)(T.paper,w.className),ownerState:I,children:(0,PC.jsx)(Ej.Provider,{value:P,children:u})}))})}))}))})),Aj=Pj;function Nj(e){return(0,HC.Z)("MuiDialogActions",e)}(0,MC.Z)("MuiDialogActions",["root","spacing"]);const Oj=["className","disableSpacing"],Dj=(0,VC.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,bC.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),Mj=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,o=(0,wC.Z)(n,Oj),s=(0,bC.Z)({},n,{disableSpacing:i}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,ZC.Z)(r,Nj,t)})(s);return(0,PC.jsx)(Dj,(0,bC.Z)({className:(0,_C.Z)(a.root,r),ownerState:s,ref:t},o))})),Lj=Mj;function Fj(e){return(0,HC.Z)("MuiDialogContent",e)}(0,MC.Z)("MuiDialogContent",["root","dividers"]);function jj(e){return(0,HC.Z)("MuiDialogTitle",e)}const Uj=(0,MC.Z)("MuiDialogTitle",["root"]),zj=["className","dividers"],Zj=(0,VC.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bC.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(Uj.root," + &")]:{paddingTop:0}})})),Vj=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=n,o=(0,wC.Z)(n,zj),s=(0,bC.Z)({},n,{dividers:i}),a=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,ZC.Z)(r,Fj,t)})(s);return(0,PC.jsx)(Zj,(0,bC.Z)({className:(0,_C.Z)(a.root,r),ownerState:s,ref:t},o))})),Bj=Vj,Wj=["className","id"],qj=(0,VC.ZP)(ER,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Hj=t.forwardRef((function(e,n){const r=(0,BC.Z)({props:e,name:"MuiDialogTitle"}),{className:i,id:o}=r,s=(0,wC.Z)(r,Wj),a=r,l=(e=>{const{classes:t}=e;return(0,ZC.Z)({root:["root"]},jj,t)})(a),{titleId:c=o}=t.useContext(Ej);return(0,PC.jsx)(qj,(0,bC.Z)({component:"h2",className:(0,_C.Z)(l.root,i),ownerState:a,ref:n,variant:"h6",id:null!=o?o:c},s))})),Kj=Hj;function Gj(e){return(0,HC.Z)("MuiDialogContentText",e)}(0,MC.Z)("MuiDialogContentText",["root"]);const Qj=["children","className"],Xj=(0,VC.ZP)(ER,{shouldForwardProp:e=>(0,VC.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Yj=t.forwardRef((function(e,t){const n=(0,BC.Z)({props:e,name:"MuiDialogContentText"}),{className:r}=n,i=(0,wC.Z)(n,Qj),o=(e=>{const{classes:t}=e,n=(0,ZC.Z)({root:["root"]},Gj,t);return(0,bC.Z)({},t,n)})(i);return(0,PC.jsx)(Xj,(0,bC.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:(0,_C.Z)(o.root,r)},n,{classes:o}))})),Jj=Yj;function $j(e){let{setIsOpen:n,isOpen:r}=e;const[i,o]=(0,t.useState)({email:"",password:""}),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),u=e=>{o((t=>({...t,[e.target.id]:e.target.value})))},d=()=>{n(!1)};return(0,PC.jsx)("div",{children:(0,PC.jsx)(Aj,{open:r,onClose:d,children:l?(0,PC.jsx)(ER,{variant:"h1",color:"initial",children:"hello"}):(0,PC.jsxs)(PC.Fragment,{children:[(0,PC.jsx)(Kj,{children:"Log In"}),(0,PC.jsxs)(Bj,{children:[(0,PC.jsx)(Jj,{children:"Please enter your email and password:"}),(0,PC.jsx)(LD,{autoFocus:!0,margin:"dense",id:"email",value:i.email,onChange:u,label:"Email Address",type:"email",fullWidth:!0,variant:"standard"}),(0,PC.jsx)(LD,{margin:"dense",id:"password",label:"Password",value:i.password,onChange:u,type:"password",fullWidth:!0,variant:"standard"})]}),(0,PC.jsxs)(Lj,{children:[(0,PC.jsx)(NM,{variant:"contained",color:"primary",sx:{textDecoration:"none"},onClick:async()=>{c(!0);try{await cl(mC,yC).then((async e=>e)).catch((e=>{console.log(e)})),c(!1),n(!1)}catch(e){console.log(e),c(!1),n(!1)}},children:"continue with google"}),(0,PC.jsx)(NM,{variant:"contained",color:"primary",onClick:async()=>{c(!0);try{await mC.signInWithEmailAndPassword(i.email,i.password),c(!1),n(!1)}catch(e){console.log(e),c(!1),n(!1)}},children:"Log In"}),(0,PC.jsx)(NM,{variant:"contained",color:"primary",onClick:d,children:"Cancel"})]})," "]})})})}const eU=e=>{const[n,r]=(0,t.useState)(null),[i,o]=(0,t.useState)(0),[s,a]=(0,t.useState)(10),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)({email:"",password:"",firstName:"",lastName:""}),h=e=>{d((t=>({...t,[e.target.id]:e.target.value})))},f=()=>{e.setIsOpen(!1)};return(0,PC.jsx)("div",{children:(0,PC.jsxs)(Aj,{open:e.isOpen,onClose:f,children:[(0,PC.jsx)(Kj,{children:"sign up"}),(0,PC.jsxs)(Bj,{children:[(0,PC.jsx)(Jj,{children:"Please enter your name and email and password:"}),(0,PC.jsx)(LD,{autoFocus:!0,margin:"dense",id:"firstName",value:u.firstName,onChange:h,label:"first name",type:"text",fullWidth:!0,variant:"standard"}),(0,PC.jsx)(LD,{margin:"dense",id:"lastName",value:u.lastName,onChange:h,label:"last name",type:"text",fullWidth:!0,variant:"standard"}),(0,PC.jsx)(LD,{margin:"dense",id:"email",value:u.email,onChange:h,label:"Email Address",type:"email",fullWidth:!0,variant:"standard"}),(0,PC.jsx)(LD,{margin:"dense",id:"password",value:u.password,onChange:h,label:"Password",type:"password",fullWidth:!0,variant:"standard"}),(0,PC.jsx)("input",{className:"file-input",type:"file",onChange:e=>(e=>{const t=e.target;t.files?r(t.files[0]):r(null)})(e)})]}),(0,PC.jsxs)(Lj,{children:[(0,PC.jsx)(NM,{variant:"contained",color:"primary",sx:{textDecoration:"none"},onClick:async()=>{await cl(mC,yC).then((async e=>(await AT(uI(vC,"users",e.user.uid),{timestamp:Ui.firestore.FieldValue.serverTimestamp(),displayName:e.user.displayName,avatar:e.user.photoURL,uid:e.user.uid}),await AT(uI(vC,"userchats",e.user.uid),{}),e))).catch((e=>{console.log(e)})),e.setIsOpen(!1)},children:"continue with google"}),(0,PC.jsx)(NM,{variant:"contained",color:"primary",onClick:async()=>{try{await mC.createUserWithEmailAndPassword(u.email,u.password);if(n){gC.ref("images/".concat(n.name)).put(n).on("state_changed",(t=>{c(!0);const n=Math.round(t.bytesTransferred/t.totalBytes*100);100==n?(o(100),a(10),e.setIsOpen(!1)):(o(n),a(n+10))}),(e=>{console.log(e)}),(()=>{gC.ref("images").child(n.name).getDownloadURL().then((async e=>{mC.currentUser&&(await ca(mC.currentUser,{displayName:u.firstName+"_"+u.lastName,photoURL:e}),await AT(uI(vC,"users",mC.currentUser.uid),{timestamp:Ui.firestore.FieldValue.serverTimestamp(),displayName:u.firstName+"_"+u.lastName,avatar:e,uid:mC.currentUser.uid}),await AT(uI(vC,"userchats",mC.currentUser.uid),{}))}))}))}}catch(t){console.log(t)}},children:"sign up"}),(0,PC.jsx)(NM,{variant:"contained",color:"primary",onClick:f,children:"Cancel"})]}),l&&(0,PC.jsx)(UC,{sx:{width:"100%"},children:(0,PC.jsx)(uj,{variant:"buffer",value:i,valueBuffer:s})})]})})},tU=e=>{let{setIsOpen:n,isOpen:r}=e;const[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(10),[h,f]=(0,t.useState)(!1);return(0,PC.jsx)(Aj,{open:r,onClose:()=>{n(!1)},children:(0,PC.jsx)(ZR,{container:!0,spacing:3,className:"container_div",children:(0,PC.jsxs)(ZR,{container:!0,item:!0,xs:6,sm:6,md:12,className:"add_post",sx:{flexDirection:"column"},children:[(0,PC.jsx)("input",{className:"file-input",type:"file",onChange:e=>(e=>{const t=e.target;t.files?a(t.files[0]):a(null)})(e)}),(0,PC.jsx)(LD,{id:"post_title",label:"post title",value:i,onChange:e=>o(e.target.value)}),(0,PC.jsx)(NM,{variant:"contained",color:"primary",onClick:()=>{var e;if(console.log(null===(e=mC.currentUser)||void 0===e?void 0:e.photoURL),s){gC.ref("images/".concat(s.name)).put(s).on("state_changed",(e=>{f(!0);const t=Math.round(e.bytesTransferred/e.totalBytes*100);100==t?(c(100),d(10),n(!1)):(c(t),d(t+10))}),(e=>{console.log(e)}),(()=>{gC.ref("images").child(s.name).getDownloadURL().then((e=>{var t,n;vC.collection("posts").add({timestamp:Ui.firestore.FieldValue.serverTimestamp(),title:i,imgUrl:e,userName:null===(t=mC.currentUser)||void 0===t?void 0:t.displayName,avatar:null===(n=mC.currentUser)||void 0===n?void 0:n.photoURL,edited:!1})}))}))}},children:"add post"}),h&&(0,PC.jsx)(UC,{sx:{width:"100%"},children:(0,PC.jsx)(uj,{variant:"buffer",value:l,valueBuffer:u})})]})})})},nU=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),c=Nt((e=>e.authReducer));return console.log("user",c),(0,t.useEffect)((()=>{c.isLoggedIn&&l(!0)}),[c.isLoggedIn]),(0,PC.jsxs)(PC.Fragment,{children:[(0,PC.jsxs)(ZR,{container:!0,spacing:3,className:"app_headher",children:[(0,PC.jsx)(ZR,{item:!0,xs:3,sm:3,md:2,className:"app_image",children:(0,PC.jsx)("img",{className:"app_headerImage",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATEAAAClCAMAAAADOzq7AAAB71BMVEX///80NDI0NDMxMS8qKiguLiz///0mJiT//v8cHBwdHRr8//8bGxjv7+81NTMlJSX19fUjIyEXFxX4AADJycmsrKwiIiJ/PLDz8/Pl5eXr6+v28fgtLSrQ0NDc3NwWFhaTk5Ojo6N/f3+TS8hlZWVwcHCbSr+bm5uMjIzjEzO9MX/MJmKxOpbg4OCDg4LZHUrnAABJSUf4OwHCLXRQUFDIJ2i2NourPqC7u7vRIlffGD7cG0WXXME+Pj7PJFvs5fTsDSOkQq50dHT/7O3/8uj5bQCbSsGyh897OqeFN73hAADEKm6zOJGhRrIAAAD5IgDwCx35iwD5dgD3RAD3nAD3qQH4XQH5xgD5VQD40ADUsNDDg76uYa6iV66JUbKTaLavksbTv+HkwNe3W5KsK5VzJ6SggLvrxc6wXqSDS7PEcaLceYnBUITx2OZrGaDRiqegJpmYMarUbYf0xsrqDy/or7rup6TifYr6297kZHLJhbTTosfGqNqWStDnWWDbgJjgqMK6Q3rysaLPSGTbZm/0vZ7pSU7vYVT1zaPudlXxhlTpiIDrlZjHP2733aH3kADxn2T458XvvI3zr0Lukz/69Mb6uAXvwFe/bq/z2EX37KP+/+rxlW3tfGz67I3y2RXzwn312rXdTmD1uIXwpIbD9+QHAAATv0lEQVR4nO2c/39TZZbH7/fcm9smuWkSm7T5VpNJC/RLmAChTGhpRakuUEUUYRVFKqNrBaSMruKXHRnHXQsuM6MzK7s6O7N/6J4vz/2SNilaSwdfr+fzA6Rp7r3P877nnOec89xUUaSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKR+zrIVi/63+n7CAsHH3N0a0SMt27Vd17X60xKyXGsLpKDJylijuO1hZKaqRXvbR++qXBvtZ+78hX9++eWXfxXRK1FdfPW1ETTGvkqNlZNG0umUtjkMLZl0kuOpbR69qwILsy+9fvDyoUPHjp08+eTjXXos0MrKyhtz/Y2saCY1lOlsbxSWh0eXs9udxW7KVVbf3rPn4D/t24fIfvFkH2IE7Q27TyTLpjUtp6oqTHp7ZjIcx4Nz7Z8wkV2RDUFMufTML4EYIDvEyJ7si+yxlVdGrF7MqmlVNzOmBszS2yNWGIBj1Z8BMQB28+iBLmRA7KOPQmRLoBDZ0omRHo7ZLmtqrqQYOOn08LZGkk/jwU7mJ07ooQvs5crho3sDZL++cOHCU5t18c0VQe3Eypsjm85SKmtavK3YhrZ9YpNkY87219pdkqUsTk8zsl/ueevSyIZfhi/mbp0QzFbeUDYmbh1dM+vwPxMb3NZISkRsYLsr7a7Jdv9llpEdeHsVTM7FTNXl/6ICWxx5dYWRvbO6IS+reGAceXiR/OnE8jsxq4cpd3Fi9sj04cNHj17FnxR7ca6XRijpf+3E0glEdrE7LytABBpdwFdJdTvEalqn1arVdDzYaLTbxdJk4dFNy9z1NUQ2PX0VkCiX3jp48PLla9euXQctRbTyq1uQtSlz7JnvzHWZ2BgE/AGKP9uysWJZ03XTNFWS4XmO45RP1Xdujjus2fmJ2dkjR96FNXPk7Wf2RPKy7sRs6bHXwBVXyTFXXo16ZQrWSb1DL7dFrAGZr9otyINrOzjHHdXi0/NgZLPTUGMv3tmLKyYjO7QJ2eNL58EKOZa9Ej1FFqJYsoKv7G0RGy8nY4Zh6AzLZDnVHZviDuvGzPza2sTETde290aSjEOMLIILUtklsDKbAtmJaBxrmX4aZee2Q2yyWm1UxsdbhMyskepj2wtkqdJDXzl+M7Q8vzY/C2vmJ9N+XrbHR3bSR7Z08dVXIIK9aQsjW4lksSnMPJ0CvuwitmHKmwhMZivZQuTnCqe/3R/KZyvVTI/6H97INCrZyQ1vj5edcm93nuQT9VWqz+vNAmLL88vvue4irZihlVEsE0XmR08p1sgrAO6WZc0tbSCWgXpQTfI8IsQyp5K1rH/tyXrOaXUNOLVQTiaT5YhFjBMxrytC1ss5bGhAbtwY78bTNhw8vp5SiuONjLhOpQx2mu5RZw3W6ER6RhmuRE5Uc5pT9OlUs2yMiUww1Sp3KltY6m+GhmaWZ266ys2JI2EquyeoMcnKll7DCAaOeRHmg275TiTTxTAmAr+dC7MLeNuMd8T00kDDHKiF7mq3YsQnEq2YmBH8bFl5ld5S9XQVzuCla+HNr6Q57BmdwVgsFo9TxyN1Ct+KbYqA1qThn6hdxRPVhc3mdN041cBrx1R4xW2TKQ9ep8f6trWA2NDyzPuu8h4lGT4ytDLIMrgs/+ijW0DqIlblYFsXycYixGDueotvT8TGEKSqM7CymF4imPIYAVOTkd7OFM5KT0Qm2uGEAw6OUbKWDqw0m/ZXVbOVwH+b+G7GobvQVgqZar3TGfOrtWF944lEKQbpY8IYAxPk053CIDHs0evcwlbEhmYWFfdf12ZDZBDLXv/gw/MfXjh2/UnsZDx2a/WpJTQ2SMSe2uCVbbSxZk9iuoavCo5Go1XVuA9osszzLUdqIibWDN9gqjEvER8Vh/s1Z57QqJ6nD5i8XrSCmwR3T3PiMVPXPT+i1Q1xogGTT+SXYphwG1OKUuX7R32TbE4M7UHElI8pL/Nj2dU5/rW9+tR1srIlamYQsaVuYnSDTCbmdHmlINYyNTVGK2HgMNWkGk60i1j4TpFufHx82CrwlENidZP5W1apKVbY8AhVF3mKdoqNLJNGMxxopJRCTZxIRDJMhpBYh4/w8Ibykq1quR9ADJIMYWXvotO5FsYSRVk9GSYZvYjBNTRBKRXvQawN9aKTzeT8IaHGeOTpaKOC3oskrrVRGDfneWIacWEaJSIzQD6ap0uaXCG0sBOgQ25Hp/dbm5j9qDm+WcwmzoHd8tjGuKLl4eUHhD9oDya2vLY2wY55lXaMVi9dWh2BBMwaefkXWxLLlCl4ILGBHsRgkLEFNnbPX8aYmLEQTRvovdGAGDmuWFF4PVYHhGmQNWL8waMX6DAmlgKyZm1sqlIxw5hYKkdslx03zlmNFWdisOaQcyOxBqwBaLf+lTfrt0OnBbGZecr+jxz5BDfZPv03Cv9vrYKtjbzsd2V9YktdXcV6LMG2IYgNR4llBmDoNvuh54fudpxiVlfiw8SCgNvA2BITRmmPEjE2DZumJ+yEwmhwGJjTAF694Aimisjz/Hs1SOjjImMUxBL6aB3XL7xaU9ebkbWsF7HTp08zMUhlCdlnru2O3Nl7gPOyyx/Ch1avi4KJiT2+gRimCrSODUeJxfgu10z6HRGL+8SshI4euBUx8qW0n+LWzNA0ig6HQB7CZDw8bLCsgZHC++1IDCBH9PxLUdzzhiPExktxuBd4gyHMgpPHsjh0c0tipwUxQra2qigjRw8HScblD1zbuiWQCWKPL23oXC+UjU5ArEzjwfUHTDtf5thEdzoI3UqJQkhiUxwTdgGz8bSoa5AjCtNg6/MXkWFcn8VhbU/jco1yOw57ZFXh/OtorTHml8JF3KhUDAiDRKyhZJNaLoUX6N8J+O3p/Uzs8yFEtrZ2G3zys+lI9n/5kmLNXRepLBJ7fDMxpVhv2t02Jog1kmq61D0H/7fw+3JjI7EpH+kABzqhBpnocDjpAH4qGRKrmYIxmySPLB49LY/D4NEPM7Gm7hTJuY1xWIWBXmVLYr/bv3+/TwyRPX1DUa7MTkeQ7dsHH7twnVbMvsRYPWyso3MwJyMJWtKppG4asMRqDnimiP5jo+Qj4hMUnmIBUHZqNg1ys3hQP5gBkUI6ITxR04NIRLE+rAPQ1vVRWxCjaKpTuPWIu6nlMvQZs29/7nf7z+zfP/OEovx+iJAtL7rK7YnuGvOSopy/TjXmA4hx7hyxsWbJ0bjXuDCqRlrS40ljajKmq5pm6H6Vt9BFrBpLRNbWLmKUjJnBKos7fnwYzNSjtymTFnZFPhyeCO1H5+yRbQxyCTwaTdFcgGQ7mXoQsTNnzoTEhmYmFNudnejK/g9+ALH/GvfLfiSxVsUQflKPhG5YyvTksJLXYLKa7idlZDpGxZ+ZEV0p2Is5fKc8NRrhLMMHbcV8o6SNPPGa3DAXnIhsTBfD5dKB9q8wCpi1tofeSF7Zn9i5c2fOhMSGPnfd1PxEd8H0FgSya1yW/yBiqWCOzY6/YnFkEa5UN3L47jAVjjpbHqeRATGMaol410QFMQrl4eJPdSARA//zeFhoMAlhVxQewz298R7EDJv3KvAGJzkn24rYCy+cO7O/m9jTa9GCiYldphbjkw8gNrCBGBQsolvWihArlkX5OEzpNS9k3B4LiC10hXeeNxMrdC9++bhPDCpJEa4o2vcmhrauqz4x6pZTkKcuX6emY6itbhn5v3jhOCBDYpCXgdYsW5mIFEyYZFwFr7xMLcbrP5JYeOVWJFw3zbKYAdc76JewFnQRY5sMJko/9iRW9IlVk3pCPNFFJYJIl6e6iVE+H9gYEhOrBVfxZG+4WGxB7PhxsDImdpoKJsv9eLkL2QGI/Je4K/sjiDWYmF9KNkNiWS/IutiycL7jGOlDYhYl+aFXJvQg8pMbhj0OTDfxDIOeXvY/ThTFwd0B0aZyX0R+LgDEfemETRDqxohbMrmpBf/Fc88BMiD276cZ2Q3FvTE0H9SYiMx2lbe4kX19TvkBxJQIsYHCRmKpnO4Fzxlw46MGjjpajeZjXEgGlXueTszAedKqfwZ/iV0wQrMoDoReWe1aK0t0XiMlwNJd4vWIrJjdG4GLpSW1uQn+xbPPAjIkBnkZIvvYdZXPZ3xkuPX7qeuOiEb2ta2JFTYRC2yBiFGMX+CwL9ThcklPjtNk/Fnz+GMV8SlRQOc3wEcZvMQW06oTmAOvlRzUuhM7jhXijombyhXAFDfRcGj0BAg/BZcpRxp2IbHnjj/hIjFCNvO+7S7OD837jjmNhflVbmTvI2JQlm9JzIkMJ5hzy49LmbQZHQTGN7PeGvUGyUC5owZGgtW2FqyIDFCENSYm/IyN0Zxq6vHwPlgRc52M3gg+1kfPjqirNBfybj4t9jQSZbK8Rm6Tjd396itABjb2H5CXEbLPFVdZnJhZnp+YQDP7xLbd1QOi9395zlUuQF4GxHohK1DvzogQCwIIh+62ko/pGPYLbTre4uenTB3bVzSBNE2mmWzQ3MRjQiWHFlX2Le6I+akus4QzGNF0AO+P8CuyMbYjC/0txF3ktpj4XMbBfWZuKOFt5Iu1vIqyQXefR2RI7JyP7Es4tb0+MfM0QPvsCj5hdueA38mAyH8B8rI+xCjciBEwsaBnIHrSWR38D4CNpps0tjYHXwq4lGuS/ywknVT4EwIwEeAoLRjjvBfMsSjDCQKYYyfaCKESgWsyRkoR0YJV2kQafFoB2890ykSMbhGuFtRym4yHi09A7Ozzz3/17H0kFiBbp/7r+zduXlnEp31G7hwOdpiQ2LGTJ/sS0wIP4HwsSAK4T63HeBOjNqqauUo+1RZ7PAa6AKcaXqZUSwJV3grIlQig3uTlbxDtjehx8V2KaQY9gqA5XXtz1B+jgbQdfqAjCbZr1WNmKwjrWSdBgd8fIzbX1ThNi5qQmPPUDW/T5uXds4AMif0nJBnnBLLfPwGeCSsA/XvlMD8sRQXTiKv8BbL/673jGDccOH5kg1ycVBT5te4N+myMgTjv25geV+g1Sim8+KjesXFjJAF1Z3K82oxh+4OWiGY7C1ZC4TIRq2WnHD02NkVN6Q2blPh8lppcyDQ8r0FdWt2oVDsGeh2eyKhnGk6yQXHAj3GlU6aupy0xkgQuJ7VkmAeFxL755uzzX91T3D+8gNk/IYOsbB38FHvX1vu3o/uYB21b+fWhY8f6EMP7p4mVPEOvg2hsky9pOhlN5pQaKKHGEsI+8rRLp2ka+VOqY+LD14ah6+U2buHhvHNJvVwSm29mzNC8Fjnz5pqmBbanjXqG0cTNN3itGjHdxN4mNtnBwg3dwAcFI8/EFMH5xR3OD+DCY5iaU9h4YuXbbxDZXde+dxxyWWFlmMl+/uX6+vrt2fm1aPb/geKOQGIGxHo+cY1RSeNFRknFdVWLPNVaxcItKeBUBjzx8JMeK08Fhp/BnWDNEEcNNnNkAzmtyCfArRIT0lSbX+NGLNjzghlt3fpK1RzM7r0OmHS+I07EXzWopk06UVFp4fP0EdrhrkPRwTtslnvsr3/74ouA7I+uZf2Jsn/fylgzy/PRGvOZVZez/2ubH4VFdTXI20nHid6i8ZxjVPwxDVZrJvzayTUb0buYr+ccpxZs4Vc78JFWVhxUrOWcXJ2Rl+pwdhM3/qewQb2ZGFy/5fgXtBtwolzLN/hSDa8yKV70ogKRcAwu0Or1UO7XLxKye657D/Ky4y8E4Z+Bid4/W9lefIzxdUple38RAhdEJxzAYKFrKz61wcIHJ0v5TXHVLnQ9dzzc9bBiatCOfJAS1jptKvfuNEQvONh9Iv8nu1Do+7hA90gC3X/pJUB29s+ubXHB1AuZcMw7tmWtUvb/l97EcPOr747Cw5Bdi2l6YqvezM7L+q+X0MrO3nUt94veVubXmHdGFNfmTbnzPb+fBGuYnt7NJ39TTUM1OupWnYadl/vtS2xlXwOyeyKWRUMZQsPN3+mbmG+8SyvmnhGrF7FsbjTey/MfloZhNU3WM1v2ZnZe1v3vGdk3EMps6/4Xf/9v1P+Qbvt6b/0Kfbfmk8OixdjTKxdO1Qpbf51wR1XQAFhN2W1itvsdEQNkdy2l51eOSK4N1eZnIsmA6rJnyj+51Vdad1oFXdcMiJr4RMeuErMgkjGys3++5/YnpiyuHznC2f+nuze8/hpOmCoVk0hsdDe90vb9EpCd/eNf//ce6gnQ+1HdWP+bv2IefXf3RreFWgZkv4OwAmFzolc+9rBkuZb99fd+LIOC6dlwwZyZmRma8bXs52Xv9vuG5a4KH8eDmsfiAjbYHtgF4ReQ3PvomLRiUiejb17GT/64j8CXubE4hDIfo2Y1Fj4DtFuylPtB+PeRbcjL/MdYDl95JIBhrqyLbXGsxDd3sR6u8Hv197/7nv0SHfPZ58KqPJKYzf/tpg1J2SNADJ/f9Psi2BiMb9rxebhybRvSCuvrb78D/RX1d9D/kb4MtH5jEftl9iMAjDzR35DS9C0eKHxIoj/+gX/M4kGyySUfASODkt9PwfBJ7rBxKdVHELv8nU1MLtKP/Bd//+GCjCJ49HW3+yU/T+EW7ii1uLDtK03sB2g8DpVRXklVHQD2s/gzLP9w1R3dTMfSMdWUwH6g2gn8umGyXNv4HUupviplK5XsI//HHqSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkpKSkfq76f+RyjITT19OwAAAAAElFTkSuQmCC",alt:"instagram logo",width:150,height:200})}),(0,PC.jsx)(ZR,{item:!0,xs:3,sm:3,md:5,className:"app_text"}),(0,PC.jsxs)(ZR,{container:!0,item:!0,xs:6,sm:6,md:5,sx:{justifyContent:"center",alignItems:"center"},className:"app_text",children:[c.isLoggedIn&&a&&(0,PC.jsxs)(PC.Fragment,{children:[(0,PC.jsx)(NM,{sx:{mr:4},variant:"contained",color:"primary",onClick:()=>mC.signOut(),children:"log out"}),(0,PC.jsx)(NM,{variant:"contained",color:"primary",onClick:()=>s(!0),children:"add post"})]}),a&&!c.isLoggedIn&&(0,PC.jsxs)(PC.Fragment,{children:[(0,PC.jsx)(NM,{sx:{mr:4},variant:"contained",color:"primary",onClick:()=>n(!0),children:"log in"}),(0,PC.jsx)(NM,{variant:"contained",color:"primary",onClick:()=>i(!0),children:"sign up"})]})]})]}),e&&(0,PC.jsx)($j,{setIsOpen:n,isOpen:e}),r&&(0,PC.jsx)(eU,{setIsOpen:i,isOpen:r}),o&&(0,PC.jsx)(tU,{setIsOpen:s,isOpen:o})]})},rU=e=>{let{children:t}=e;return(0,PC.jsxs)("div",{children:[(0,PC.jsx)(nU,{}),(0,PC.jsx)("div",{children:t})]})};i.createRoot(document.getElementById("root")).render((0,PC.jsx)(k,{store:Pt,children:(0,PC.jsx)(rU,{children:(0,PC.jsx)(Wn,{basename:"/social-app-react",children:(0,PC.jsx)(_j,{})})})}))})()})();
//# sourceMappingURL=main.6f5b4d3d.js.map